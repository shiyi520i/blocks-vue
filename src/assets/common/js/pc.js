define("/nc/1.03.28/plugin/pc/pc",[],function(i,t,e){function o(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n,a;e.exports=(a={},o.m=n=[function(t,e,i){t.exports=i(4)(0)},function(t,e,i){t.exports=i(4)(1)},function(t,e,i){t.exports=i(4)(2)},function(t,e,i){t.exports=i(4)(11)},function(t,e){t.exports=nccpn_library},function(t,e,i){var n=i(51),o=i(10).isInMainSite();t.exports={domain:o?"":"www.nowcoder.com",domainDev:o?"":"d.nowcoder.com",urlPrefix:"/nccommon",url:{scanGetCode:"/scan/code",scanPingAppScanned:"/scan/updateInfo",makePaper:"/daily-task/makePaper",checkSensitive:"/profile/sensitive/check",searchGetHot:"/search/hot-query",searchGetHistory:"/search/last-query",searchDelHistory:"/search/delete-latest-query",searchClearHistory:"/search/delete-all-latest-query",searchBlackQuery:"/mark-query-black",searchSuggest:"/suggest",queryUnreadCount:"/sns/message/unread-count-v2",blogGetContent:"/blog/content",blogSpam:"/blog/spam",blogOpen:"/profile/blog/open",checkLoginOtherPlace:"/token/login-other-place",getLoginPublicKey:"/environment/config",getOauthState:"/register/oauthState",login:"/login/do",logout:"/logout/do",register:"/register/new",getSMSSupportCountries:"/helper/sms/supported_countries",checkEmail:"/register/check-email-available",checkPhone:"/register/check-phone-available",checkNickName:"/register/check-nickname-available",validatePhone:"/register/validate-phone-v2",validateEmail:"/register/validate-email",activePhone:"/register/active-phone",activeOAuthPhone:"/register/active-phone-oauth",activeEmail:"/register/active-email",updateEmail:"/profile/update-email",completeness:"/completeness/connect",getBasicInfo:"/completeness/user-info",getUserNameCard:"/profile/#{uid}/card",saveHead:"/saveHead",unbindAccount:"/account/unbind",unbindAccountResult:"/account/previous",sendMessage:"/sns/message/send-msg",queryUsers:"/sns/message/query-users",queryRecentlyUsers:"/sns/message/recently-sent-users",atSuggest:"/at/suggest",follow:"/sns/follow",unfollow:"/sns/unfollow",like:"/sns/like",unlike:"/sns/del_like",blackUser:"/sns/black",unblackUser:"/sns/unblack",getFollowData:"/sns/followdata",codeBigDataRun:"/bigdata/submit",codeBigDataStatus:"/bigdata/status",codeSubmit:"/submit_cd",codeRun:"/submit",codeStatus:"/status",codeSelfTest:"/submit_cd_selftest_withoutdata",codeSelfTestStatus:"/status-self-test",codeDmRun:"/submit_dm_in_terminal",codeDmStatus:"/new_dmstatus",codeGetLastSubmission:"/practice/latestSubmission",codeGetLastAcceptSubmission:"/practice/latestAcceptSubmission",emojiGetMenu:"/emoji/menu",emojiGetData:"/emoji/data",voteCreate:"/vote/create",voteEdit:"/vote/edit",voteInfo:"/vote/info",vote:"/vote/do-vote",uploadImageOnline:"/upload-image-online",getGtData:"/captcha/geetest/#{type}",getCaptcha:"/captcha/#{type}",getAllSchool:"//static.nowcoder.com/nc/school.jsonp",getSchool:"/school/query",getSchoolBrief:"/school/brief",addSchool:"/school/add/customize",systemTime:"/common/system-time",addReport:"/report/add",isReported:"/report/isReported",cmtMarkSpam:"/admin/mark-comment-spam",cmtMarkUserAllSpam:"/admin/delete-all-ugc",cmtAdd:"/comment/create",cmtDel:"/comment/delete",cmtAccept:"/comment/accept",cmtGetPageNum:"/comment/pageNum",cmtGetPageNumV2:"/comment/pageNum-v2",cmtGetAcceptedList:"/comment/accepted/list",cmtGetWonderfulList:"/comment/woderful/list",cmtAddWonderful:"/comment/wonderful",cmtDelWonderful:"/comment/unwonderful",cmtAddLitigant:"/comment/litigant",cmtDelLitigant:"/comment/un-litigant",cmtGetByPageV2:"/comment/list-by-page-v2",adNotInterest:"/ad/uninterest",createImg:"/helper/share/pic"}},n.add(t.exports,t.exports.url)},function(t,e,i){t.exports=i(4)(4)},function(t,e,i){t.exports=i(4)(3)},function(t,e,i){t.exports=i(4)(5)},function(t,e,i){t.exports=i(4)(25)},function(t,e,i){var n=i(0),o=i(6);t.exports={data:window.globalInfo||{},getUser:function a(){return this.data},getUid:function r(){return n.id(this.data.ownerId)},isLogin:function s(){return!!n.id(this.data.ownerId)},isActive:function c(){return"0"===n.id(this.data.status)},isAdmin:function l(){return"3"===n.id(this.data.ownerType)},isCompleteInfo:function d(){return!!this.data.isCompleteInfo},isInDev:function u(){if("ncJsInDev"in window)return!!window.ncJsInDev;return 0<=(((window.seajs||{}).data||{}).base||"").indexOf("javascripts")},isInHttps:function p(){return o.isHttps(window.location.href)},isInMainSite:function f(){return!!window.ncIsInNowcoderMainSite},canInIframe:function h(){return"true"===this.data.canLoadInIframe},getMainDomain:function g(t){if(this.isInMainSite())return"";var e=this.isInDev()?"d.nowcoder.com":"www.nowcoder.com";return(t?this.isInHttps()?"https://":"http://":"")+e}}},function(t,e,i){t.exports=i(4)(9)},function(t,e){t.exports={questionType:{danxuan:1,duoxuan:2,tiankong:3,biancheng:4,wenda:5,bigdata:6},syncType:{ctsTest:1,discuss:2,interview:3},captcha:{login:"login",register:"register",refAnswer:"ref_answer_query",runCode:"run_code",sysRightAnswer:"get_right_option",postComment:"post_comment",sendMessage:"send_message",offerChoose:"show_offer_choose",offerNormal:"show_offer_normal",sendVerifyCode:"send_verify_code"},type:{user:1,comment:2,problem:3,topic:4,feed:5,paper:6,recommendAnswer:7,post:8,message:9,live:11,note:14,clockRecord:15,ctsTest:19,schoolCalendar:28,stack:41,learningMaterial:42,gitProject:45,stackCompany:50,book:52,bookOneWord:55,offerData:56,blog:73,campus:1201,community:1301,liveCourse:1501,liveChapter:1502,liveSection:1503,liveLive:1504,vodCourse:1401,vodChapter:1402,vodSection:1403,aiQuestion:2301},draftType:{answer:1,post:2,answerPost:3,note:4},uploadType:{none:0,image:1,doc:2,data:3,resume:4,file:5,screenShot:7,learningMaterial:11},loginType:{wb:1,qq:2,db:3,rr:4,git:5,wx:6},FEInput:{1:"html",2:"css",3:"javascript"},FELib:{1:{text:"jquery (2.1.4)",value:"jquery"},2:{text:"underscore (1.8.2)",value:"underscore"}},avatar:{small:"//static.nowcoder.com/images/head.png"},activityType:{seattle:1,xingtai:2,taipei:3,ali2015:4,qihu2016:5,calenderOj:14,calenderBigData:15},aodianyun:{account:"nowcoder_weekly",password:"sub_034da48a83095baef7f0196896b38629",topic:"weekly",liveAccount:"live_course",livePassword:"sub_71b59a68e7a86347ce77eece262de375"},doSomeThingType:{wantAnswer:1,liveCourseSignUp:2,liveAskAnswer:3,loginRecord:4,cheat:5,spring2016InternJava:6,spring2016InternC:7},userSource:["牛客网","微信","微博","老师、朋友推荐","技术社区","其他"],share:{contest:1,comment:2,book:3,schedule:4},acmPlanType:{1:{name:"CSP-J入门组",url:"/acm/skill/csp-pj"},2:{name:"CSP-S提高组",url:"/acm/skill/csp-tg"},3:{name:"省选/NOI",url:"/acm/skill/noi"},4:{name:"ACM",url:"/acm/skill/acm"}},eduNames:["博士后","博士","硕士","本科","专科","高中","初中","小学"],jobs:{"Java工程师":"639","C++工程师":"640","iOS工程师":"641","安卓工程师":"642","运维工程师":"643","前端工程师":"644","算法工程师":"645","PHP工程师":"649","测试工程师":"680","安全工程师":"682","C#工程师":"683","数据库工程师":"684","数据分析师":"894","产品":"891","运营":"892","其它":"685"}}},function(t,e,i){t.exports=i(4)(15)},function(t,e,i){t.exports=i(4)(8)},function(t,e){t.exports=i("seajs")},function(t,e,i){t.exports=i(4)(6)},function(t,e,i){t.exports=i(4)(40)},function(t,e,i){var u=i(1),n=i(2),a=i(0),o=i(7),s=i(6),r=i(8),c=t.exports=n.create();n.mix(c,o,{_template:['<div role="group" class="btn-group">','<button class="btn btn-default dropdown-toggle">','<span class="dropdown-value">#{text}</span>','<span class="caret"></span>',"</button>",'<ul class="dropdown-menu"></ul>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var e=this,i=e.getEl(),t=e.rawConfig;e.txtEl=i.find("button.dropdown-toggle .dropdown-value"),e.menu=i.find("ul.dropdown-menu"),"small"!==t.size&&"large"!==t.size||e.size(t.size),t.autoWidth&&(e.txtEl.removeClass("dropdown-value"),e.menu.addClass("dropdown-auto")),null!==t.zIndex&&t.zIndex!==undefined&&e.menu.css("z-index",t.zIndex),u(document).click(function(t){0<i.length&&!u.contains(i.get(0),t.target)&&e.open(!1,!0)}),e.hoverExpand&&r.hover(i,function(){e.isDisabled||(window.clearTimeout(e._hoverTimer),window.clearTimeout(e._hideTimer),e._hoverTimer=window.setTimeout(function(){e.open()},250))},function(){e.isDisabled||e.open(!1)})}},{name:"click button.dropdown-toggle",handler:function(){this.isDisabled||this.open(this.hoverExpand||!this.isOpen())}},{name:"click ul.dropdown-menu li",handler:function(t){var e=u(t.target),i="a"===e.prop("tagName").toLowerCase()?u.trim(e.attr("href")):"";i&&!s.isJsHref(i)||t.preventDefault();var n=this,o=n.rawConfig,a=u(t.currentTarget).index();if(o.clickItemNoHide||n.open(!1,!0),n.error(!1),+a!==n.selectedIndex){n.select(a);try{n.fire("change"),o.change&&o.change.call(n)}catch(r){}}}}],transformConf:function l(t){var e=t.find("ul.dropdown-menu li"),n=[],o="";return a.forEach(e,function(t,e){var i=(t=u(t)).hasClass("selected");n.push({text:u.trim(t.text()),value:t.attr("data-val")||e,checked:i}),i&&(o=u.trim(t.text()))}),o&&t.find("button.dropdown-toggle .dropdown-value").html(o),{text:o,options:n}}},{initialize:function d(t){var i=this;i.hoverExpand=!t.noHover,i.isDisabled=!!t.disabled,a.every(t.options,function(t,e){return!t.checked||(i.selectedIndex=e,!1)});var e=i.selectedIndex,n=e||0===e?t.options[e]:{};i.value=n.value,t.text=n.text||t.text},isOpen:function p(){return this.getEl().hasClass("open")},open:function f(t,e){var i=this,n=i.getEl();window.clearTimeout(i._hideTimer),window.clearTimeout(i._hoverTimer),!1===t?i._hideTimer=window.setTimeout(function(){n.removeClass("open")},e?0:100):(i._renderOptions(),i.itemElList&&0!==i.itemElList.length||(i.itemElList=n.find("ul.dropdown-menu li"),n.find("ul.dropdown-menu").scrollTop(0)),n.addClass("open"))},select:function h(t,e){var i=this,n=i.getEl(),o=i.rawConfig,a=o.options;if(!t&&0!==t)return i.selectedIndex;if((t=+t||0)>=a.length)return;var r=a[t],s=a[i.selectedIndex];r.text&&i.txtEl.html(r.text);if(i.menuRendered){var c=i.itemElList;c&&0!==c.length||(c=i.itemElList=n.find("ul.dropdown-menu li"));var l=u(c[t]);u(c[i.selectedIndex]).removeClass("selected").find("a").removeClass("active"),l.addClass("selected").find("a").addClass("active"),i.value=r.value,i.selectedIndex=t}else s&&(s.checked=!1),r&&(r.checked=!0),i.value=r.value,i.selectedIndex=t;if(e)try{i.fire("change"),o.change&&o.change.call(i)}catch(d){}},val:function g(i,t){var e=this.rawConfig.options;if(!i&&0!==i)return this.value;var n=0;a.every(e,function(t,e){return t.value!==i||(n=e,!1)}),this.select(n,t)},text:function v(){var t=this.selectedIndex,e=this.rawConfig;if(null===t||t===undefined)return"";var i=e.options[t];return i.text?i.text:i.html?u(i.html).text():""},error:function m(t){this.getEl()[!1===t?"removeClass":"addClass"]("error")},size:function w(t){var e=this.getEl(),i="small"===t?"btn-group-sm":"large"===t?"btn-group-lg":"";e.removeClass("btn-group-sm btn-group-lg"),i&&e.addClass(i)},clear:function y(t){var e=this,i=e.rawConfig;t=t||i.text||"请选择";var n=e.getEl();u(n.find("ul.dropdown-menu li")[e.selectedIndex]).removeClass("selected").find("a").removeClass("active"),e.value=null,e.selectedIndex=null,e.txtEl.html(t)},disabled:function b(t){this.isDisabled=!1!==t},_renderOptions:function x(){if(this.menuRendered)return;var t=this.getEl(),i="",e=this.rawConfig;a.forEach(e.options,function(t,e){i+="<li "+(t.checked?' class="selected"':"")+' ><a href="javascript:void(0);">'+t.text+"</a></li>"}),t.find("ul.dropdown-menu").html(i),this.menuRendered=!0},_getData:function C(t){return{text:t.text}},replaceOptions:function E(t){var e=this;if(e.rawConfig.options=t,!e.menuRendered)return;e.menuRendered=!1,e._renderOptions(),e.itemElList.length=0,e.selectedIndex=null,e.clear()}})},function(t,e,i){t.exports=i(4)(64)},function(t,e,i){t.exports=i(4)(12)},function(t,e,a){var d=a(1),u=a(0),p=a(6),f=a(11),h=a(3),c=a(19),g=a(5),v=a(12);t.exports={initPhoneZip:function l(i){d(i.renderTo).html("加载中...");var n=!!i.showNow,o=null,a=new c({renderTo:i.renderTo,renderBy:i.renderBy||"replaceWith",options:[{text:"中国+86",value:"+86",checked:!0}]});a.getEl().css("margin-bottom",0);var r=a.attachSel;return r.noneEl.html("加载中...").show(),r.attach.listen("attachShow",s),n&&s(),a;function s(){!function t(i){if(o)return i&&i(null,o);g.getSMSSupportCountries({type:"GET",call:function(t){var e=u.map(t.data,function(t){return{text:t.name+t.code,value:t.code,checked:"+86"===t.code}});o=e,i&&i(null,e)},error:function(t){i&&i(t)}})}(function(t,e){if(t)return r.attach.forceHide(),void h.alert(t.msg);r.attach.unlisten("attachShow",s),a.rawConfig.needSearch=!0,a.replaceOptions(e),n||a.attachSel.attach.forceShow(),i.zipOptionChange&&i.zipOptionChange(),a.fire("zipOptionChange")})}},initEduSchool:function i(t){var n=t.edu,o=t.school;n.listen("change",function(){return o.val("")}),o.listen("focus",function(){var t=a(53),e=n.val();if(!e)return o.blur(),h.alert("请先选择学历");var i=e&&{"高中":1,"初中":1}[e];(e&&{"博士后":1,"博士":1,"硕士":1,"本科":1,"专科":1}[e]||i)&&(o.blur(),t.show({noUnique:!0,isMiddle:i,call:function(t,e){return e&&o.val(e)}}))})},initCaptcha:function m(e){var n=d(e.btn),t=e.cpn,i=!!e.isPhone,o=e.check,a=e.val,r=!1,s=0;n.on("click",function(t){t.preventDefault(),c()}),t&&(t.listen&&t.listen("destroy",l),t.listen&&t.listen("STOP_CAPTCHA_COUNTING",l),t.$on&&t.$on("hook:destroyed",l),t.$on&&t.$on("STOP_CAPTCHA_COUNTING",l));return{send:c};function c(){u.isFunction(e.isPhone)&&(i=e.isPhone()),function t(){r||(r=!0,o(function(t){if(!t)return r=!1;var e=a();g[i?"validatePhone":"validateEmail"]({body:i?{phone:d.trim(e)}:{email:d.trim(e)},captcha:{type:v.captcha.sendVerifyCode},call:function(t){r=!1,function i(e){r||(r=!0,n.addClass("btn-default").removeClass("btn-primary"),f.countDown({second:60,call:function(t){return s===e&&n.html(t+"秒后重新获取"),s!==e},end:function(){s===e&&(r=!1,n.html("重新获取验证码"),n.addClass("btn-primary").removeClass("btn-default"))}}))}(++s)},error:function(t){r=!1,h.alert(t.msg)}})}))}()}function l(){s++,r=!1}},checkEmail:function s(t){var e=t.needRegister,i=t.email,n=t.call,o=this.emailMap=this.emailMap||{},a=d.trim(i.val()),r=o[a];if(!p.isEmail(a))return i.setErrorTips("请输入正确的邮箱"),n&&n(!1);if(!0===r)return e?i.setSuccess():i.setErrorTips("该邮箱已经被注册"),n&&n(!!e);if(!1===r)return e?i.setErrorTips("该邮箱尚未注册"):i.setSuccess(),n&&n(!e);g.checkEmail({query:{email:a},call:function(){o[a]=!1,a===d.trim(i.val())&&(e?i.setErrorTips("该邮箱尚未注册"):i.setSuccess()),n&&n(!e)},error:function(){o[a]=!0,a===d.trim(i.val())&&(e?i.setSuccess():i.setErrorTips("该邮箱已经被注册")),n&&n(!!e)}})},checkPhone:function w(t){var e=t.needRegister,i=t.zip,n=t.phone,o=t.call,a=this.phoneMap=this.phoneMap||{},r=d.trim(i.val()),s=d.trim(n.val()),c=r+s,l=a[c];if("+86"===r?!p.isPhone(s):!/^\d{3,}$/.test(s))return n.setErrorTips("请输入正确的手机号码"),o&&o(!1,{isError:!0});if(!0===l)return e?n.setSuccess():n.setErrorTips("该手机号码已经被注册"),o&&o(!!e,{isRegister:!0});if(!1===l)return e?n.setErrorTips("该手机号码尚未注册"):n.setSuccess(),o&&o(!e,{isRegister:!1});g.checkPhone({query:{phone:c},call:function(){a[c]=!1,s===d.trim(n.val())&&(e?n.setErrorTips("该手机号码尚未注册"):n.setSuccess()),o&&o(!e,{isRegister:!1})},error:function(){a[c]=!0,s===d.trim(n.val())&&(e?n.setSuccess():n.setErrorTips("该手机号码已经被注册")),o&&o(!!e,{isRegister:!0})}})},checkPwd:function y(t){var e=t.ipt1,i=t.ipt2,n=t.iptOld,o=t.isSubmit,a=d.trim(e.val()),r=d.trim(i.val()),s=d.trim(n?n.val():"");if(e.setNone(),i.setNone(),n&&n.setNone(),!a||!r)return o&!a&&e.setErrorTips("密码不能为空"),o&&!r&&i.setErrorTips("密码不能为空"),!1;if(a!==r)return e.setErrorTips("密码不一致"),i.setErrorTips("密码不一致"),!1;if(a.length<6)return e.setErrorTips("密码不能少于6位"),!1;return n?s?s!==a?(e.setSuccess(),i.setSuccess(),n.setSuccess(),!0):(e.setErrorTips("新旧密码不能相同"),n.setErrorTips("新旧密码不能相同"),!1):(o&&n.setErrorTips("密码不能为空"),!1):(e.setSuccess(),i.setSuccess(),!0)},popupBindError:function n(t){var e=t.isEmail?"邮箱":"手机",i=new h({noUnique:!!t.noUnique,hasNoTitle:!0,hasNoMove:!0,okTxt:"不，我想保留数据",cancelTxt:"清空此号数据",content:'<div class="confirm-content"><div class="poptip-word"><span class="warning-ico"></span><span class="warning-word">该'+e+"已注册，验证通过后将绑定新账号，现在的账号数据将清空，也无法再登录。确定清空当前账号数据吗？</span></div></div>",width:520,hasNoMask:!1,cancel:t.remove,ok:t.retain});return i.getEl().find(".pop-footer .btn").addClass("btn-auto"),i}}},function(t,e,i){t.exports=i(4)(18)},function(t,e,n){var a=n(1),r=n(0),s=n(3),o=n(40),i=n(96),c=n(42),l=n(5),d={};t.exports={checkSensitive:function u(i){var t=i.isStrong?"true":"false",n=a.trim(i.word),o=d[t]=d[t]||{};if(!n)return i.call&&i.call(!1);if(n in o)return i.call&&i.call(!!o[n]);l.checkSensitive({query:{word:n,isStrong:t},call:function(t){var e=!!(t||{}).isSensitive;o[n]=e,i.call&&i.call(e)},error:function(t){return i.call&&i.call(!1)}})},black:function p(t){var e=t.id,i=t.name,n=!1!==t.black,o=t.call,a=e&&i;function r(){l[n?"blackUser":"unblackUser"]({body:{blackUserId:e},call:o,error:function(t){return s.alert(t.msg)}})}a&&n&&new s({title:"确定要拉黑"+i+"？",content:['<div class="pop-account-content">','<p class="pop-tip">拉黑后，对方将不能</p>','<p class="pop-tip">—关注你（如果已关注将自动取消）</p>','<p class="pop-tip">—私信你</p>','<p class="pop-tip">—在你的动态、帖子、回答或评论留言</p>','<p class="pop-tip">—转发你的动态、帖子、回帖等作品</p>','<p class="pop-tip">—@你，和你互动</p>','<p class="pop-tip">确定把'+i+"加入黑名单？</p>","</div>"].join(""),ok:r,cancel:function(){}}),a&&!n&&s.confirm("是否把"+i+"移除你的黑名单？",r)},avatar:function f(i){var t=a(i.el);r.forEach(t,function(t){var e=o.show({target:t,url:c.getUploadUrl(13),fileType:"*.jpg;*.JPG;*.png;*.PNG;*.gif;*.GIF;*.bmp;*.BMP;*.jpeg;*.JPEG",call:function(t){t.url&&n(131).show({src:t.url,call:function(t){var e=t.url;e&&i.call&&i.call(e)},error:i.error})}});i.attach&&i.attach(e,a(t))})},formula:function h(n){i.show({useLaTex:!!n.useLaTex,value:n.value,valueLaTex:n.valueLaTex,uploadBatch:function(n,t,e){var o={};r.forEach(t,function(t,e){var i=n[e];o[i]=t}),e&&e(o)},callLaTex:function(t){a.trim(t)&&n.callLaTex&&n.callLaTex(t)},upload:function(t,e,i){n.call&&n.call(e),i&&i()}})}}},function(t,e,i){var a=i(1),n=i(0),o=i(3),r=i(10),s=(i(5),i(52)),c=i(34);t.exports={showLogin:function l(t){var e=this,i=(t=t||{}).href;return s.show({href:i,loginCb:function(){if(!i||window.location.href===i)return window.location.reload();window.location.href=i},registerCb:function(){e.showCompleteInfo({close:function(){window.location.reload()}})}})},showActive:function d(){var t=r.getUser();return t&&t.ownerId&&new o({title:"帐号激活提醒",hasNoFooter:!0,content:['<div class="pop-account-content">','<p class="pop-tip">亲爱的用户</p>','<p class="pop-tip">你的帐号还没激活，为保障安全暂时无法进行此操作。</p>','<div class="submit-btnbox">','<a class="btn btn-primary confirm-btn" href="'+r.getMainDomain(!0)+"/profile/"+t.ownerId+'/account">去设置</a>',"</div>","</div>"].join("")})},showCompleteInfo:function u(t){t=t||{};return c.show({callCb:t.call||function(){window.location.reload()},closeCb:t.close})},click:function p(n){var o=this,t=a(n.el);function e(t){var e=a(t.currentTarget);n.click&&n.click(t,e),function i(t,e){!n.needLogin&&e&&e(),n.needLogin&&o.checkLogin(t,e)}(e,function(){!function i(t,e){!n.needActive&&e&&e(),n.needActive&&o.checkActive(t,e)}(e,function(){n.call&&n.call(t,e)})})}t=t.get(0)?t:a(document),n.cls?t.on("click",n.cls,e):t.on("click",e)},checkLogin:function f(t,e){n.isFunction(t)&&(e=t,t=null);if(r.isLogin())return e&&e(t);(t=t?a(t):null)&&!t.hasClass("nc-req-auth")&&this.showLogin()},checkActive:function h(t,e){var i=this;n.isFunction(t)&&(e=t,t=null);i.checkLogin(t,function(){if(r.isActive())return e&&e(t);(t=t?a(t):null)&&!t.hasClass("nc-req-active")&&i.showActive()})}}},function(t,e,i){t.exports=i(4)(52)},function(t,e,i){t.exports=i(4)(68)},function(t,e,i){t.exports=i(4)(56)},function(t,e,i){var o=i(1),c=i(0),n=i(2),a=i(7),l=i(36),r=i(8),d=i(41),s=i(59),u=i(5),p=t.exports=n.create(),f={description:"默认",type:"-1"};n.mix(p,a,{_template:['<div class="tooltip bottom tooltip-info" style="position:relative;">','<div class="tooltip-arrow" style="left:50%;margin-left:-9px;"><i></i></div>','<div class="tooltip-inner layer-emotion-box js-main"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.rawConfig,e=this.getEl();t.verReverse&&e.removeClass("bottom").addClass("top"),e.find(".js-main").html(this.getTips()),this.initContent()}},{name:"click .js-type",handler:function(t){var e=o(t.currentTarget),i=o.trim(e.attr("data-type"));this.select(i,0)}},{name:"click .js-page",handler:function(t){var e=o(t.currentTarget),i="next"===o.trim(e.attr("data-type")),n=p.dataMap[this.currentType];d.page(n.length,45);this.select(this.currentType,this.currentPage+(i?1:-1))}},{name:"click .js-emoji-item",handler:function(t){var e=this.rawConfig,i=this.getEmojiByEl(t.currentTarget).emoji;if(i){var n=!!i.word,o={isEmoji:n,text:i[n?"word":"name"],html:n?"<span>"+i.word+"</span>":i.url};e.call&&e.call(o),this.fire("select",o)}}}],show:function h(t){var e=new p(t=t||{}),i="verReverse"in t?!!t.verReverse:undefined;return s.wrap(e,c.extend({target:t.target,content:e.html(),attach:c.extend({verReverse:i},t.attach,{center:!0})})),e},renderInIpt:function g(t,e){try{(t=o(t)).caret(t.range().end),t.range(e.text),t.caret(t.range().end),r.dispatchEvent(t,"input")}catch(i){}},menuList:null,dataMap:{},getMenu:function v(t,i,e){var n=this;if(t)return i&&i([f]);if(n.menuList)return i&&i(n.menuList);u.emojiGetMenu({type:"GET",call:function(t){var e=(t.data||{}).data||[];e.unshift(f),n.menuList=e,i&&i(e)},error:e})},getEmoji:function m(t,i,e){var n=this.dataMap,o=c.id(t);o!==f.type||n[o]||(n[o]=p.getDefaultEmoji());if(n[o])return i&&i(n[o]);u.emojiGetData({query:{type:o},call:function(t){var e=(t.data||{}).data||[];n[o]=e,i&&i(e)},error:e})},getDefaultEmoji:function w(){return[{id:1,code:"1F600",word:"😀"},{id:2,code:"1F601",word:"😁"},{id:3,code:"1F602",word:"😂"},{id:4,code:"1F923",word:"🤣"},{id:5,code:"1F603",word:"😃"},{id:6,code:"1F604",word:"😄"},{id:7,code:"1F605",word:"😅"},{id:8,code:"1F606",word:"😆"},{id:9,code:"1F609",word:"😉"},{id:10,code:"1F60A",word:"😊"},{id:11,code:"1F60B",word:"😋"},{id:12,code:"1F60E",word:"😎"},{id:13,code:"1F60D",word:"😍"},{id:14,code:"1F618",word:"😘"},{id:16,code:"1F617",word:"😗"},{id:17,code:"1F619",word:"😙"},{id:18,code:"1F61A",word:"😚"},{id:20,code:"1F642",word:"🙂"},{id:21,code:"1F917",word:"🤗"},{id:22,code:"1F929",word:"🤩"},{id:23,code:"1F914",word:"🤔"},{id:24,code:"1F928",word:"🤨"},{id:25,code:"1F610",word:"😐"},{id:26,code:"1F611",word:"😑"},{id:27,code:"1F636",word:"😶"},{id:28,code:"1F644",word:"🙄"},{id:29,code:"1F60F",word:"😏"},{id:30,code:"1F623",word:"😣"},{id:31,code:"1F625",word:"😥"},{id:32,code:"1F62E",word:"😮"},{id:33,code:"1F910",word:"🤐"},{id:34,code:"1F62F",word:"😯"},{id:35,code:"1F62A",word:"😪"},{id:36,code:"1F62B",word:"😫"},{id:37,code:"1F634",word:"😴"},{id:38,code:"1F60C",word:"😌"},{id:39,code:"1F61B",word:"😛"},{id:40,code:"1F61C",word:"😜"},{id:41,code:"1F61D",word:"😝"},{id:42,code:"1F924",word:"🤤"},{id:43,code:"1F612",word:"😒"},{id:44,code:"1F613",word:"😓"},{id:45,code:"1F614",word:"😔"},{id:46,code:"1F615",word:"😕"},{id:47,code:"1F643",word:"🙃"},{id:48,code:"1F911",word:"🤑"},{id:49,code:"1F632",word:"😲"},{id:50,code:"2639",word:"☹"},{id:51,code:"1F641",word:"🙁"},{id:52,code:"1F616",word:"😖"},{id:53,code:"1F61E",word:"😞"},{id:54,code:"1F61F",word:"😟"},{id:55,code:"1F624",word:"😤"},{id:56,code:"1F622",word:"😢"},{id:57,code:"1F62D",word:"😭"},{id:58,code:"1F626",word:"😦"},{id:59,code:"1F627",word:"😧"},{id:60,code:"1F628",word:"😨"},{id:61,code:"1F629",word:"😩"},{id:62,code:"1F92F",word:"🤯"},{id:63,code:"1F62C",word:"😬"},{id:64,code:"1F630",word:"😰"},{id:65,code:"1F631",word:"😱"},{id:68,code:"1F633",word:"😳"},{id:69,code:"1F92A",word:"🤪"},{id:70,code:"1F635",word:"😵"},{id:71,code:"1F621",word:"😡"},{id:72,code:"1F620",word:"😠"},{id:73,code:"1F92C",word:"🤬"},{id:74,code:"1F637",word:"😷"},{id:75,code:"1F912",word:"🤒"},{id:76,code:"1F915",word:"🤕"},{id:77,code:"1F922",word:"🤢"},{id:78,code:"1F92E",word:"🤮"},{id:79,code:"1F927",word:"🤧"},{id:80,code:"1F607",word:"😇"},{id:81,code:"1F920",word:"🤠"},{id:85,code:"1F925",word:"🤥"},{id:86,code:"1F92B",word:"🤫"},{id:87,code:"1F92D",word:"🤭"},{id:88,code:"1F9D0",word:"🧐"},{id:89,code:"1F913",word:"🤓"},{id:90,code:"1F608",word:"😈"},{id:91,code:"1F47F",word:"👿"}]}},{initialize:function y(){this.menu=null,this.currentType=null,this.currentPage=0},initContent:function b(){var e=this,t=e.rawConfig;p.getMenu(t.onlyDefault,function(t){e.menu=t,e.renderMenu(t),e.initHover(),e.select(t[0].type,0)},function(t){e.getEl(".js-main").html(e.getTips(t.msg))})},initHover:function x(){var r=this;r.getEl(".js-emoji").on("mouseenter",".js-emoji-item",function(t){var e=r.previewEl,i=r.getEmojiByEl(t.currentTarget),n=i.index,o=i.emoji;if(!o||!o.url&&!o.word)return e.hide().html("");e.html(o.url||"<span>"+o.word+"</span>").show(),function a(t,e){e[2*(t%=9)<9?"removeClass":"addClass"]("left")}(n,e)}).on("mouseleave",".js-emoji-item",function(t){r.previewEl.hide().html("")})},select:function C(e,i){var n=this,t=n.getEl(),o=(t.find(".js-emoji"),n.getEl(".js-tips"),p.dataMap[e]);n.currentType=e,n.currentPage=i,t.find(".js-type").removeClass("selected"),t.find('.js-type[data-type="'+e+'"]').addClass("selected"),o?n.renderEmoji(o,i):(n.renderEmoji([],1),p.getEmoji(e,function(t){e===n.currentType&&n.renderEmoji(t,i)},function(t){n.getEl();n.tipsEl.html(n.getTips(t.msg)).show(),n.emojiEl.hide()}))},renderMenu:function E(t){var e=this,i=e.getEl(),n=l.execTpl(['<div class="layer-emotion-label" v-if="hasMenu">','<a v-for="(item, index) in items" href="javascript:void(0);" class="js-type" :data-type="item.type">#{item.description}</a>',"</div>",'<div class="layer-emotion-content">','<div class="layer-emotion-hover js-preview-box" style="display:none;"></div>','<div class="js-emoji" style="display:none;user-select:none;"></div>','<div class="js-tips">#{tips}</div>',"</div>"],{hasMenu:1<t.length,items:t,tips:e.getTips()});i.find(".js-main").html(n),e.previewEl=i.find(".js-preview-box"),e.tipsEl=i.find(".js-tips"),e.emojiEl=i.find(".js-emoji")},renderEmoji:function k(t,e){var i=this.getEl().find(".js-emoji"),n=this.getEl(".js-tips"),o=d.page(t.length,45);if(o<e+1||e<0)return;var a=t.slice(45*e,45*(e+1));c.forCount(45-a.length,function(){a.push({})});var r=45*e,s=l.execTpl(['<div class="layer-emotion-wrapper">','<div v-for="(item, index) in items" class="layer-emotion-item js-emoji-item" :data-index="getIndex(index)" :title="item.name || \'\'">','<span v-if="item.url">#{item.url}</span>','<span v-if="item.word">#{item.word}</span>',"</div>","</div>",'<div class="layer-emotion-ft">',"<div><span>#{page}</span> / <span>#{total}</span></div>",'<div class="layer-emotion-page">','<a href="javascript:void(0);" data-type="pre" :class="cls()"></a>','<a href="javascript:void(0);" data-type="next" :class="cls(true)"></a>',"</div>","</div>"],{items:a,page:e+1,total:o,getIndex:function(t){return r+t},cls:function(t){return t?["icon-angle-right","js-page",o<=e+1?" disabled":""]:["icon-angle-left","js-page",e<=0?" disabled":""]}});i.html(s).show(),n.hide().html("")},getEmojiByEl:function S(t){var e=+o.trim(o(t).attr("data-index"))||0,i=p.dataMap[this.currentType];return{index:e,emoji:i[e]}},getTips:function T(t){return'<div style="padding:20px;text-align:center;font-size:14px;">'+(t||"加载中...")+"</div>"}})},function(t,e,i){i(1);var n=i(7),r=i(9),o=i(2),a=i(0),s=i(3),c=i(61),l=i(5),d=i(12),u=(i(13),t.exports=o.create());o.mix(u,n,{_template:['<div class="review-comment pop-review-comment">',"<h4>举报类型</h4>",'<div class="review-class-wrap">#{reportTypeOption}</div>','<div class="pop-tip">举报说明</div>','<textarea class="pop-area"></textarea>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.violationTypeCheckBox=c.mix({el:t.find("div.review-class-wrap label.radio")}),this.violationInfoTextArea=t.find("textarea")}}],show:function p(i){i=i||{};l.isReported({body:{type:i.type,entityId:i.entityId},call:function(t){t.data?s.ok('举报我们已经收到，根据<a class="link-green" href="/discuss/91947">《牛客讨论区版规》</a>，您的举报将由管理员审核判定后进行处理。'):function e(o){var a=new u(o);s.wrap(a,{title:"举报",content:a.html(),width:560,okTxt:"提交",ok:function(){var t=a,e=t.violationTypeCheckBox.val()||"";if(""===e)return s.alert("请输入举报类型",2e3),!0;var i=t.violationInfoTextArea.val()||"";if("其他"===e&&""===i)return s.alert("请输入举报说明",2e3),!0;var n=a.getEl();r.mark(n)||l.addReport({body:{type:o.type,entityId:o.entityId,mainCommentEntryId:o.mainCommentEntryId||0,violationType:e,violationInfo:i,uuid:o.uuid},call:function(t){s.ok('举报我们已经收到，根据<a class="link-green" href="/discuss/91947">《牛客讨论区版规》</a>，您的举报将由管理员审核判定后进行处理。')},error:function(t){2===t.code?s.ok("您已经举报过该"+function e(t){return t===d.type.user?"用户":t===d.type.post?"帖子":"评论"}(o.type)+"，请耐心等待管理员处理。"):s.alert(t.msg)},always:function(){r.clear(n)}})},cancel:function(){}});return a}(i)},error:function(t){s.alert(t.msg)}})}},{_getData:function f(t){var e=a.id(t.type)===a.id(d.type.user)?["垃圾营销","传播色情/低俗内容","传播违法信息","抄袭或涉嫌侵权","其他"]:["广告及垃圾信息","抄袭或涉嫌侵权","不友善/色情/低俗内容","政治敏感","其他"],i="";return a.forEach(e,function(t,e){i+=['<label class="radio">','<span class="icons"></span>','<input type="radio" data-toggle="radio" value="',t,'">',t,"</label>"].join("")}),{reportTypeOption:i}}})},function(t,e,i){t.exports=i(4)(14)},function(t,e,i){t.exports=i(4)(37)},function(t,e,i){var p=i(10),f=i(1),h=(i(9),i(0)),n=(i(2),i(3)),o=document.createElement("A");t.exports={cacheCb:{},cache:{},create:function g(t,e){var n=this,o=n.cache,a=n.cacheCb,i=p.isInHttps(),r=n.getDomain(window.location.href),s=n.getDomain(t);if(r===s||/api\.nowcoder\.com/.test(s)||/feed\.nowcoder\.com/.test(s)||/^d\d*\.feed\.nowcoder\.com/.test(s)||/^www\.nowcoder\.com/.test(s)||/^d\d*\.nowcoder\.com/.test(s)||/^m\.(d\.)?nowcoder\.com/.test(s))return e&&e(f,window);document.domain=n.getDomain(t,!0);var c=(i?"https://":"http://")+s+"/crossDomain.html",l=c,d=o[l];if(d)return e&&e(d.$,d);if(a[l]=a[l]||[],a[l].push(e),1<a[l].length)return;var u=f('<iframe src="'+c+'" frameborder="0" style="display:block;width:0;height:0;overflow:hidden;"></iframe>');u.on("load",function(){u.unbind("load");var e=n.getWin(u),i=(e||{}).$;i&&(h.forEach(a[l],function(t){t&&t(i,e)}),o[l]=e,a[l].length=0)}),f(document.body).append(u)},getDomain:function a(t,e){o.href=t;var i=o.href.split("/")[2];if(e){var n=i.split(".").reverse();n.length=2,i=n.reverse().join(".")}return i},getWin:function r(t){try{var e=(t=f(t).get(0)).contentDocument||t.contentWindow.document;return e.defaultView||e.parentWindow}catch(i){n.alert("数据保存模块加载出错，请刷新页面重试，避免数据丢失。如有疑问，请致电：010-60728802",function(){window.location.reload()})}}}},function(t,e,i){t.exports=i(4)(24)},function(t,e,i){var r=i(1),n=i(7),o=i(9),a=i(2),s=i(0),c=i(6),l=i(3),d=i(13),u=i(19),p=i(5),f=i(12),h=i(21),g=i(55),v=t.exports=a.create();a.mix(v,n,{_template:'<div><div style="font-size:14px;padding:20px;text-align:center;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var e=this;e.fetchData(function(t){e.forbiddenUpdateName=t.forbiddenUpdateName,e.initContainer(),e.initCpn(),e.popup.fixPosition(),e.val(t)})}},{name:"click .js-submit",handler:function(){this.submit()}}],show:function m(t){var e=new v(t=t||{});l.wrap(e,{title:"10s补全资料，解锁全部功能。",width:520,content:e.html(),hasNoFooter:!0,close:t.closeCb});return e}},{initialize:function w(t){this.showEmail=!!t.showEmail,this.jobIds=[]},initContainer:function y(){this.getEl().html(['<div class="pop-info-complete clearfix">','<div class="form-group"><div class="control-group js-name"><input type="text" placeholder="昵称" /></div></div>',this.showEmail?'<div class="form-group"><div class="control-group js-email"><input type="text" placeholder="邮箱" /></div></div>':"",'<div class="form-group js-edu"></div>','<div class="form-group"><div class="control-group js-school"><input type="text" placeholder="你的学校"></div></div>','<div class="form-group js-workTime"></div>','<div class="form-group"><div class="control-group js-job"><input type="text" placeholder="感兴趣的职业方向"></div></div>','<a href="javascript:void(0);" class="btn btn-primary btn-lg js-submit">确定</a>',"</div>"].join(""))},initCpn:function b(){var i=this,t=i.getEl(),n=i.cpn={},e=n.name=d.transform(t.find(".js-name"));"0"!==i.forbiddenUpdateName?(e.disabled(),e.getEl().attr("title","2"===i.forbiddenUpdateName?"近期暂不支持修改昵称":"180天内只可修改1次").addClass("js-nc-title-tips")):e.rawConfig.focusTips="180天内只可修改1次";i.showEmail&&(n.email=d.transform(t.find(".js-email"))),n.school=d.transform(t.find(".js-school")),n.edu=new u({renderTo:t.find(".js-edu"),text:"最高学历",options:s.map(f.eduNames,function(t){return{text:t,value:t}})});var o=(new Date).getFullYear();n.workTime=new u({renderTo:t.find(".js-workTime"),text:"毕业年份",options:s.map(s.range(4,1980-o,-1),function(t){return{text:o+t,value:o+t}})}),n.job=d.transform(t.find(".js-job")),n.name.listen("blur",s.bind(i.checkName,i)),n.job.getEl().on("click",function(){g.selectJob(i.jobIds,function(t,e){i.jobIds=t,n.job.val(e.join("、"))})}),h.initEduSchool({edu:n.edu,school:n.school})},val:function x(t){var e=this.cpn;if(0===arguments.length)return{name:r.trim(e.name.val()),eduLevel:r.trim(e.edu.val()),school:r.trim(e.school.val()),workTime:r.trim(e.workTime.val()),job:this.jobIds.join(",")};e.name.val(r.trim(t.name)),e.school.val(r.trim(t.school)),e.edu.val(r.trim(t.eduLevel)),+t.workTime&&e.workTime.val(+t.workTime),this.jobIds=c.split(t.job,",");var i={};s.forEach(f.jobs,function(t,e){i[t]=e});var n=s.map(this.jobIds,function(t){return i[t]});e.job.val(n.join("、"))},submit:function C(){var i=this,n=i.cpn,e=i.getEl(".js-submit");i.check(function(t){t&&!o.mark(e)&&p.completeness({body:i.val(),call:function(t){var e=i.rawConfig;if(!i.showEmail)return e.callCb&&e.callCb(),void i.popup.close();p.updateEmail({body:{email:r.trim(n.email.val())},call:function(){e.callCb&&e.callCb(),i.popup.close()},error:function(t){n.email.setErrorTips(t.name||t.msg)}})},error:function(t){l.alert(t.msg)},always:function(){o.clear(e)}})})},fetchData:function E(n){var e=this.getEl();p.getBasicInfo({type:"GET",call:function(t){var e=t.data,i=e.basicInfo.educationInfo||"";n&&n({name:e.basicInfo.nickname,school:/填写/.test(i)?"":i,eduLevel:e.additionInfo.eduLevel,workTime:e.additionInfo.workTime,job:e.additionInfo.job,forbiddenUpdateName:s.id(e.forbiddenUpdateName)})},error:function(t){e.html('<div style="font-size:14px;padding:20px;text-align:center;">'+t.msg+"</div>")}})},check:function k(e){var i=this,t=i.cpn,n=i.val(),o=!0;i.showEmail&&!c.isEmail(r.trim(t.email.val()))&&(t.email.setErrorTips("请填写正确的邮箱"),o=!1);n.eduLevel||(t.edu.error(),o=!1);n.school||(t.school.setErrorTips("学校不能为空"),o=!1);n.workTime||(t.workTime.error(),o=!1);0===i.jobIds.length&&(t.job.setErrorTips("感兴趣的职业不能为空"),o=!1);i.checkName(function(t){o&&t||!e||e(!1),o&&t&&i.checkEmail(function(t){e&&e(t)})})},checkName:function S(i){var n=this.cpn.name;if(!n)return i&&i(!0);var o=this.nameMap=this.nameMap||{},a=r.trim(n.val()),t=o[a];if(!a)return n.setErrorTips("起一个响亮的名字吧"),i&&i(!1);if(25<a.length)return n.setErrorTips("昵称不能大于25字符"),i&&i(!1);if(!0===t)return n.setErrorTips("昵称已经被占用"),i&&i(!1);if(!1===t)return i&&i(!0);p.checkNickName({query:{nickname:a},call:function(){o[a]=!1,i&&i(!0)},error:function(t){var e=2===t.code;e&&n.setErrorTips("昵称已经被占用"),o[a]=e||undefined,!e&&i&&i(!0)}})},checkEmail:function T(i){if(!this.showEmail)return i&&i(!0);var t=this.cpn.email,n=this.emailMap=this.emailMap||{},o=r.trim(t.val()),e=n[o];if(!c.isEmail(o))return t.setErrorTips("请填写正确的邮箱"),i&&i(!1);if(!0===e)return a(i);if(!1===e)return i&&i(!0);function a(t){h.popupBindError({isEmail:!0,noUnique:!0,remove:function(){t&&t(!0)},retain:function(){t&&t(!1)}})}p.checkEmail({query:{email:o},call:function(){n[o]=!1,i&&i(!0)},error:function(t){var e=1===t.code;n[o]=e||undefined,e&&a(i),!e&&i&&i(!0)}})}})},function(t,e,i){i(1);var n=i(7),o=i(2),a=(i(0),i(3)),r=i(58),s=t.exports=o.create();o.mix(s,n,{_template:'<div><div style="margin:0 auto;width:300px;" class="js-gt-code"></div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.gt=new r({el:t.find("div.js-gt-code"),type:this.rawConfig.type,product:"embed"}),this.checkGt()}}],show:function c(t){var e=new s(t=t||{});a.wrap(e,{title:t.title||"请完成验证",content:e.html(),width:500,height:220,noUnique:!0,hasNoFooter:!0,listeners:{destroy:function(){window.clearTimeout(e.checkGtTimer),!e.isInputCode&&t.cancel&&t.cancel()}}});return e}},{checkGt:function l(){var e=this,i=e.gt,n=e.rawConfig;e.checkGtTimer=window.setTimeout(function(){var t=i.check();t?window.setTimeout(function(){e.isInputCode=!0,e.popup&&e.popup.close(),n.call&&n.call(t)},500):e.checkGtTimer=window.setTimeout(arguments.callee,1e3)},1500)}})},function(t,e,i){t.exports=i(4)(47)},function(t,e,i){t.exports=i(4)(44)},function(t,e,n){var r=n(1),i=n(7),o=n(2),s=n(6),u=n(0),p=n(8),f=n(22),a=n(20),c=n(13),l=n(3),h=n(39),d=n(27),g=n(40),v=n(10),m=n(32),w=n(12),y=n(5),b=n(28),x=t.exports=o.create();o.mix(x,i,{_template:['<div class="letter-content clearfix">','<div class="letter-item js-letter-name">','<label class="letter-label">发给</label>','<div class="btn-group"></div>',"</div>",'<div class="letter-item" style="margin-bottom:0;">','<label class="letter-label">内容</label>','<div class="btn-group js-ipt"></div>',"</div>",'<div class="letter-item letter-msg-box">','<div class="letter-pic-box">','<a href="javascript:void(0);" class="icon-emotion js-emoji-btn"></a>','<a href="javascript:void(0);" class="icon-pic js-upload-btn"></a>',"</div>","</div>",'<div class="letter-msg-box">','<div class="letter-pic-box js-upload"></div>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this;t.getEl();t.initReceiver(),t.initContent(),t.initEmoji(),t.initImage(),t.popup.fixPosition()}},{name:"keydown textarea",handler:function(t){this.val(),r(t.currentTarget);var e=t.keyCode,i="macintosh"===(a.getOs()||{}).os;13===e&&(i&&t.metaKey||!i&&t.ctrlKey)&&(t.preventDefault(),this.check()&&this.sendMessage(),t.target.blur())}}],show:function C(t){var e=new x(t);l.wrap(e,{title:t.title,content:e.html(),width:600,listeners:{close:function(){t.close&&t.close(),e.fire("close")}},okTxt:"发送",ok:function(){return e.check()&&e.sendMessage(),!0},cancel:function(){}});return e}},{initialize:function E(t){this.receiver=t.receiver&&t.receiver.id?t.receiver:null,this.images=[]},initReceiver:function k(){var t=this,e=(t.rawConfig,t.receiver),i=t.getEl().find(".js-letter-name .btn-group");e&&e.id?i.html('<span class="recipient">'+(e.name||"未知姓名")+"</span>"):(t.receiverIpt=new c({renderTo:i,renderBy:"replaceWith",cls:"btn-group",placeholder:"请输入对方姓名，从下拉菜单中选择"}),t.initSuggest(),t.initRecent())},initSuggest:function S(){var e=this,i=e.receiverIpt,n=d.show({input:i.inputEl,needSame:!0,selectCls:"hover",reqList:function(t,e){if(!(t=r.trim(t)))return e([]);y.queryUsers({body:{o:0,c:10,query:t},call:function(t){e(t.data)},error:function(t){e([])}})},getItemStr:function(t){return s.execTpl(['<li class="js-item suggest-user" data-id="#{_sid}">','<img class="list-head" src="#{head}">','<span class="list-name" title="#{nickname}">#{nickname}</span>',"</li>"].join(""),{_sid:t._sid,head:t.head||"//static.nowcoder.com/images/head.png",nickname:t.nickname})},ok:function(t){e.receiver={id:t.id,name:t.nickname},i.val(t.nickname)}});n.attach.listen("attachShow",function(){i.setNone();var t=n.getEl();t.addClass("letter-content"),t.outerWidth(i.getEl().outerWidth())}),n.attach.listen("attachHide",function(){e.receiver&&e.receiver.name!==i.val()&&(e.receiver=null)}),e.pushChild(n)},initRecent:function T(){var o=this,a=o.getEl().find(".js-letter-name");y.queryRecentlyUsers({call:function(t){var e=t.data||[],i="";if(u.forEach(e,function(t){i+=t.id?s.execTpl('<dd><a class="feed-head" data-id="#{id}" title="#{name}" href="javascript:void(0);"><img src="#{head}" /></a></dd>',t):""}),i){var n=r('<div class="letter-item"><label class="letter-label">最近发送</label><dl class="recently-sent" style="margin-left:0;padding-left:0;">'+i+"</dl></div>");a.after(n),n.find("dd a").on("click",function(t){var e=r(t.currentTarget),i=e.attr("data-id"),n=r.trim(e.attr("title"));i&&(o.receiver={id:i,name:n},o.receiverIpt.val(n||"未知姓名"))}),o.popup.fixPosition()}}})},initContent:function j(){var t=this.rawConfig,e=this.getEl();this.contentIpt=new c({renderTo:e.find(".js-ipt"),type:"textarea",render:function(){var t=this.inputEl;t.addClass("letter-txt"),t.css("resize","none").css("line-height","1.6"),this.getEl().outerWidth(Math.max(426,t.outerWidth()))}}),this.contentIpt.val(t.content)},initEmoji:function _(){var e=this,t=e.getEl(),i=b.show({target:t.find(".js-emoji-btn"),call:function(t){b.renderInIpt(e.contentIpt.inputEl,t)}});i.pushChild(i)},initImage:function I(){var s=this,t=s.getEl();if(!f.support)return void t.find(".js-upload-btn").remove();var c=v.getMainDomain(!0)+"/uploadImage?type=1",i=r(['<div class="letter-pic-box">','<ul class="js-upload-list clearfix">','<li class="add-more-pic js-upload" title="上传图片" style="display:none;"><i class="icon-plus"></i></li>',"</ul>","</div>"].join(""));t.find(".js-upload").append(i);i.find(".js-upload-list");var l=t.find(".js-upload-btn"),d=i.find("li.js-upload");m.create(c,function(o,n){u.forEach([l,d],function(t){var e=g.show({target:t,url:c,XMLHttpRequest:n.XMLHttpRequest,fileType:"*.jpg;*.JPG;*.png;*.PNG;*.gif;*.GIF;*.bmp;*.BMP;*.jpeg;*.JPEG",call:function(t){a(t.url)}});s.pushChild(e)});var t,e=p.bindPaste(document,s.contentIpt.inputEl,function(t){var e=u.find(t,function(t){return"file"===t.kind&&/image/.test(t.type||"")}),i=e?e.getAsFile():null;i&&new f({url:c,XMLHttpRequest:n.XMLHttpRequest,progress:function(t){r().showProgress("正在上传："+t+"%",t)},error:function(){r().showError("上传失败")},call:function(t){r().close(),a(t.url)}}).uploadBlob(i,(new Date).getTime()+"."+i.type.split("/").pop())});function a(t){(t=o.trim(t))&&(s.images.push(t),d[0<s.images.length?"show":"hide"](),d.before(["<li>",'<a href="javascript:void(0);" class="js-upload-del icon-remove-circle"></a>','<div class="mask"></div>','<img style="width:80px;height:80px;" src="'+t+'" />',"</li>"].join("")))}function r(){return t||(t=h.show({})).popup.listen("close",function(){t=null}),t}s.listen("destroy",e),i.on("click","li .js-upload-del",function(t){var e=o(t.currentTarget).closest("li"),i=o.trim(e.find("img").attr("src")),n=s.images.indexOf(i);0<=n&&s.images.splice(n,1),d[0<s.images.length?"show":"hide"](),e.remove()})})},val:function L(){var t=this.rawConfig;return{type:0,title:"",content:r.trim(this.contentIpt.val()),receiver:(this.receiver||{}).id,images:this.images,majiaSender:u.isObject(t.sender)?t.sender.id:t.sender}},check:function P(){var t=this.val();return t.receiver?!(!t.content&&0===t.images.length)||(this.contentIpt.setErrorTips("内容不能为空"),!1):(this.receiverIpt&&this.receiverIpt.setErrorTips("收信人不能为空"),!1)},sendMessage:function A(){var i=this;if(i.needCode){n(35).show({type:w.captcha.sendMessage,call:function(t){i.needCode=!1,e(t)},cancel:function(){i.needCode=!1,l.alert("验证码错误")}})}else e();function e(t){i.val();y.sendMessage({body:i.val(),query:t||{},call:function(t){var e=i.rawConfig;i.popup.close(),e.sentCb||l.tips("发送成功"),e.sentCb&&e.sentCb()},error:function(t){if(1125===t.code)return i.needCode=!0,void i.sendMessage();l.alert(t.msg||"发送失败，请重试")}})}}})},function(t,e,i){t.exports=i(4)(29)},function(t,e,i){t.exports=i(4)(57)},function(t,e,i){t.exports=i(4)(13)},function(t,e,a){var i=a(15),s=a(0),c=a(1),l=a(11),d=a(8),n=a(14),o=a(25),r=a(3),u=(a(10),a(5)),p=document.createElement("A");t.exports={jumpUrl:function f(t,e){return this.isNcUrl(t)&&t||e||"/"},isNcUrl:function h(t){if(!s.isString(t))return!1;p.href=t;var e=p.href.split("#")[0].split("?")[0].split("/")[2];return/nowcoder\.[a-z]+$/gi.test(e)},getEditor:function g(t,e){var n={codeEditor:a(97),codeDataEditor:a(103),codeFEEditor:a(104),codeHadoopEditor:a(105),mdEditor:a(67),hEditor:a(69)};if(!t||s.isString(t)){var i=t?n[t]:null;return void(i&&(i.loadDep?i.loadDep(function(){e&&e(i)}):e&&e(i)))}var o={};s.forEachAsync(t,function(t,e){var i=t?n[t]:null;if(!i)return e&&e();(o[t]=i).loadDep?i.loadDep(e):e&&e()},function(){e&&e(o)})},loadEcharts:function v(t,e){i.use(e||"//static.nowcoder.com/lib/echarts.3.7.2.min.js",function(){l.waitUtil({times:250,condition:function(){return!!window.echarts},call:t})})},getSiteNav:function m(){var t=c(".nowcoder-header");return t.get(0)||(t=c(".js-site-global-nav")),t},getNavHeight:function w(){return(this.getSiteNav().height()||0)+(c(".email-validate").height()||0)},getUploadUrl:function y(t){return n.addParam({type:t},"/uploadImage")},fixEl:function b(n){if(!(n=n||{}).target||!n.fixCls)return;var o=n.target=c(n.target),a=c("<div></div>"),r=0,t=l.frequency(16);return a.outerHeight(o.outerHeight()),a.css("margin",o.css("margin")),c(n.scrollEl||document).on("scroll",e),e(),function i(){c(n.scrollEl||document).off("scroll",e)};function e(){t(function(){var t=r?a:o,e=c(d.getScrollParent(t)||window),i=d.getPosTop(t,e);if(e.scrollTop()>i-(n.redress||0))return o.addClass(n.fixCls),o.after(a),1===r||s.isFunction(n.change)&&n.change(!0),void(r=1);o.removeClass(n.fixCls),a.remove(),0===r||s.isFunction(n.change)&&n.change(!1),r=0})}},shareImg:function x(e){var t=r.mask('<div class="popbook-loading-tips"><img src="//static.nowcoder.com/images/img/icons/loading.png" alt="">图片生成中，请稍等...</div>');u.createImg({query:{shareType:e.shareType,entityId:e.entityId},call:function(t){var i=c.trim(t.data);if(!i)return r.alert("网络异常，请稍后重试");var e=new r({width:500,hasNoTitle:!0,hasNoFooter:!0,content:["<div>",'<a href="javascript:void(0);" class="pop-close js-close" title="关闭"></a>','<div class="pop-qrcode pop-share-qrcode" style="padding:0;">','<div class="pop-qrcode-title">分享给好友</div>','<div class="pop-qrcode-img" style="width:380px;"><img src="',i,'" alt="图片"></div>','<div class="submit-btnbox">','<a href="javascript:void(0);" class="btn btn-primary js-share-phone">手机分享</a>',"</div>","</div>","</div>"].join("")});e.getEl(".js-close").on("click",function(){e.close()}),e.getEl("img").on("load",function(){e.fixPosition()}),e.getEl(".js-share-phone").on("click",function(){var t=o.rqUrl(i),e=new r({title:"保存至手机",width:320,content:['<div class="avarta-box">','<img height="200px" style="display:block;margin:0 auto;" src="',t,'" />','<div style="text-align:center;font-size:14px;margin-top:20px;">扫一扫，长按保存图片</div>',"<div>"].join("")});e.getEl("img").on("load",function(){e.fixPosition()})})},error:function(t){e.error?e.error(t):r.alert(t.msg)},always:function(){t.close()}})}}},function(t,e){t.exports={css:['body{font-size:14px;background-color:transparent;font-family:arial,STHeiti,"Microsoft YaHei";line-height:1.8;word-break:break-word;}',"body.show-placeholder::before{color:#ddd;content:attr(data-placeholder);pointer-events:none;position:absolute;white-space:pre;}","a{color:#25bb9b;text-decoration: none;}","a:hover{color:#333}","img{max-width:100%;cursor:-moz-zoom-in;cursor:-webkit-zoom-in;cursor:zoom-in;cursor:url(//static.zhihu.com/static/img/zoom-in.cur)}","img[data-vote-id]{display:block;margin:10px 0;}","img[data-card-emoji]{width:100px;height:100px;}","h1,h2,h3,h4,h5,h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}","h1{padding-bottom:.3em;font-size:2em;border-bottom:1px solid #eaecef}","h2{padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid #eaecef}","h3{font-size:1.25em}","h4{font-size:1em}","h6{font-size:.85em;color:#6a737d}","blockquote,dl,ol,p,pre,table,ul{margin:12px 0}","ol,ul{padding-left:2em}","ul{list-style-type:disc}","li+li{margin-top:.25em}","ol{list-style-type:decimal}","ol ol ul,ol ul ul,ul ol ul,ul ul ul{list-style-type:square}","ol ol,ol ul,ul ol,ul ul{margin-top:0;margin-bottom:0;list-style-type:circle}","ol ol,ul ol{list-style-type:lower-roman}","ol ol ol,ol ul ol,ul ol ol,ul ul ol{list-style-type:lower-alpha}","blockquote{padding:0.25em 1em;border-left:2px solid #b3b3b3;background-color:#f6f8fa;}","pre{padding:0.25em 1em;overflow:auto;line-height:1.45;background-color:#f6f8fa;border-radius:0 3px 3px 0;border:none;border-left:2px solid #1abc9c}","em{font-weight:inherit;font-style:italic}","body>:last-child{margin-bottom:0!important}","pre{word-wrap:normal}","pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}","pre code,pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}","code,tt{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}","table{display:block;overflow:auto;width:auto;border:none;max-width:none;border-collapse:collapse;}","table tr{background-color:#fff;border-top:1px solid #c6cbd1}","table td,table th{padding:6px 13px;border:1px solid #dfe2e5}","table th{font-weight:600}","table tr:nth-child(2n){background-color:#f6f8fa}",".md-highlight{background:#cee7f5;}"].join("")}},function(t,e,i){var r=i(1),o=i(0),n=i(17),a=i(5),s=n.create("RemoteImage");t.exports={a:document.createElement("A"),upload:function c(i,n){var o=this;o.a;if(!(i=r.trim(i))||o.isLocal(i))return n&&n(i);var a=o.getMap();if(a[i])return n&&n(a[i]);o.actionUpload({source:i,type:0,call:function(t){var e=r.trim(t.url);a[i]=e||i,o.saveMap(),n&&n(e||i)},error:function(){n&&n("https://uploadfiles.nowcoder.com/images/20190919/56_1568900435177_29C080A5413E925FE3B3CCB4048AB99B")}})},canUpload:function l(t){var e=this,i=o.isArray(t)?t:[t];return 0<i.length&&!!o.find(i,function(t){return(t=r.trim(t))&&!e.isLocal(t)})},isUploaded:function d(t){var e=this,i=e.getMap(),n=o.isArray(t)?t:[t];return 0===n.length||o.every(n,function(t){return!(t=r.trim(t))||e.isLocal(t)||i[t]})},isLocal:function u(t){var e=this.a;if(!(t=r.trim(t)))return!1;e.href=t;var i=e.hostname;return!!o.find(["nowcoder.com","nowcoder.net","aliyuncs.com"],function(t){return 0<=i.indexOf(t)})},actionUpload:function p(t){a.uploadImageOnline({query:{watermark:"true"},body:{source:t.source,type:t.type||0},call:t.call,error:t.error})},getMap:function f(){return this._remoteMap=this._remoteMap||s.get("data")||{}},saveMap:function h(){s.set("data",this._remoteMap)}}},function(t,e,i){var r=i(1),s=i(0),n=i(2),o=i(16),c=i(8),l=i(6),d=i(27),u=i(5),p=t.exports=n.create();s.extend(p,o,{_pool:{},input:function a(t){return new p({input:t})},showList:function f(t,i){var n=this._pool[t]=this._pool[t]||{},o=n.listMenu;if(!s.isObject(i))return n.isListMenuShow=!1,o&&o.attach&&o.attach.fire("forceHide");n.bakInput||(n.bakInput=r('<input type="input" style="position:absolute;left:-999999px;top:-999999px;" />'),r(document.body).append(n.bakInput));o||((o=n.listMenu=d.show({input:n.bakInput,focusIpt:i.ipt,needSame:!0,noHover:!0,noEnterLeave:!0,selectCls:"hover",reqList:function(t,e){t=r.trim(t),u.atSuggest({body:{query:t},call:function(t){e(t.data)},error:function(t){e([])}})},getItemStr:function(t){return l.execTpl(['<li class="js-item suggest-user" data-id="#{_sid}">','<img class="list-head" src="#{head}">','<span class="list-name" title="#{nickname}">#{nickname}</span>',"</li>"].join(""),{_sid:t._sid,head:t.head||"//static.nowcoder.com/images/head.png",nickname:t.nickname})},ok:function(t){i.ok&&i.ok(t),o.attach.fire("forceHide")}})).listen("hideList",function(t){t&&n.isListMenuShow&&(n.isListMenuShow=!1)}),o.attach.listen("attachHide",function(){n.isListMenuShow=!1}));n.bakInput.val(i.text);var e=o.attach,a=e.getEl();e.one("attachShow",function(){n.isListMenuShow=!0;var t=i.pos||{},e=i.ext||{};o.getEl().addClass("letter-content"),a.css("left",(t.left||0)+(e.left||0)),a.css("top",(t.top||0)+(e.top||0)),o.getEl().outerWidth(220)}),e.fire("forceShow")},getPool:function h(t){return this._pool[t]=this._pool[t]||{}}}),s.extend(p.prototype,o,{initialize:function g(t){this.ipt=t.input,this.id=s.ascId(),this.lineHeight=0,this.initIpt()},initIpt:function v(){var i,t=this,e=t.ipt,n=p.getPool(t.id);function o(){window.clearTimeout(i),i=window.setTimeout(function(){t.analyze()},50)}e.on("click",o),e.on("focus",o),e.on("propertychange",o),e.on("blur",function a(){window.clearTimeout(i),i=window.setTimeout(function(){p.showList(t.id)},150)}),e.on("keydown",function r(t){window.clearTimeout(i);var e=+t.keyCode;if(!{38:1,40:1,13:1}[e])return o();13==e&&n.isListMenuShow&&t.preventDefault()})},analyze:function m(){var n=this,o=n.ipt,t=n.getAtInfo();if(!t)return p.showList(n.id);var e=c.getCursorPos({el:o,index:t.range.start,beforeRemove:n.lineHeight?null:function(t,e){n.lineHeight=r(e).outerHeight()}}),i=c.getPosLeft(o),a=c.getPosTop(o);p.showList(n.id,{ipt:o,text:t.text,pos:e,ext:{top:n.lineHeight+a-o.scrollTop()+2,left:i},ok:function(t){var e=n.getAtInfo().range,i="@"+l.decodeHTML(t.nickname)+" ";o.range(e.start,e.end),o.range(i),o.caret(e.start+i.length),c.dispatchEvent(o,"input"),c.dispatchEvent(o,"change")}})},getAtInfo:function w(){var t,e=this.ipt.val(),i=this.ipt.range(),n=i.start-1,o=-1;for(;0<=n&&("@"===(t=e[n])&&(o=n),"@"!==t&&!/\s/.test(t));)n--;if(-1===o)return null;if(0<o&&/[1-9a-z]/gi.test(e[o-1]))return null;return{index:o,text:e.substring(o+1,i.start),full:e.substring(o,i.start),range:{start:o,end:i.end}}}})},function(t,e,a){var h=a(1),g=a(0),i=a(7),r=a(11),n=a(2),s=a(8),c=a(9),l=a(37),d=(a(14),a(3)),o=a(60),u=a(140),p=a(29),f=a(5),v=a(12),m=a(42),w=t.exports=n.create();n.mix(w,i,{_template:'<div class=""></div>',_listTemplate:'<div class="js-list"></div>',_noneTemplate:"没有数据",listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig,i=t.getEl();e.isDisableReply&&i.find(".js-cmt-action[data-action=reply]").hide(),t.isFeedAd&&i.find(".js-cmt-action").remove(),t.isFeedAd&&t.initAdBtn(),t.isFeedAd||t.initExtAction()}},{name:"click .js-cmt-action",handler:function(t){t.stopPropagation();var e=h(t.currentTarget),i=h.trim(e.attr("data-action")),n="action"+i.slice(0,1).toUpperCase()+i.slice(1);!this.isFeedAd&&this[n]&&this[n](e)}},{name:"click .answer-brief img",handler:function(t){var e=h(t.currentTarget),i=h.trim(e.attr("src"));i&&!e.attr("data-identity")&&o.show(i)}}],initConf:function y(t,e){var i=!!t.isFeedAd;return t.headImg=t.headImg||v.avatar.small,g.extend({},e,{item:t,floor:i?"广告":g.id(e.index)?+e.index+1:""},t)}},{initialize:function b(t){this.isFeedAd=!!t.isFeedAd},initAdBtn:function x(){var e=this,i=e.getEl(),t=i.find(".js-ad-tag"),n=u.show({target:t,options:[{text:"不感兴趣",value:1}],attach:{extOffset:{left:-1,top:-2}}});n.listen("attachShow",function(){t.find("i").removeClass("icon-angle-down").addClass("icon-angle-up")}),n.listen("attachHide",function(){t.find("i").removeClass("icon-angle-up").addClass("icon-angle-down")}),n.listen("change",function(){n.clear(),f.adNotInterest({body:{adId:e.rawConfig.id},call:function(t){i.slideUp(150,function(){e.destroy(),n.destroy()})},error:function(t){d.alert(t.msg)}})})},initExtAction:function C(){var t=this,e=t.rawConfig,i=e.item,n=(t.getEl(),h(t.getActionEl())),o=e.typeStatus,a=e.isWonderful,r=e.isAward,s=e.isLitigant,c=e.entityUid&&g.id(e.entityUid)===g.id(e.currentUid),l=t.isAdmin(),d=t.isSelf(),u=o.isSubCmt;if(0<n.length){var p=[{title:"分享",action:"share",need:!u&&e.needShare},{title:"举报",action:"report",need:!d&&(!u||e.needSubReport),cls:"click-del"},{title:"当事人回复",action:"litigant",need:l&&!u&&!s&&e.needLitigant},{title:"取消当事人回复",action:"litigant",need:l&&!u&&s&&e.needLitigant},{title:"设置精彩",action:"wonderful",need:l&&!u&&!a&&e.needWonderful},{title:"取消精彩",action:"wonderful",need:l&&!u&&a&&e.needWonderful},{title:"采纳回答",action:"accept",need:!u&&r&&c&&(l||g.id(i.authorId)!==g.id(e.entityUid))},{title:"标记为垃圾",action:"spam",need:l},{title:"删除",action:"del",cls:"click-del",need:(l||d)&&!i.isAccepted}],f=g.map(p,function(t){return t.need?'<a href="javascript:void(0);" class="js-cmt-action '+(t.cls||"")+'" data-action="'+t.action+'">'+t.title+"</a>":""}).join("");n.append(f)}},actionLike:function E(e){var i=this.rawConfig,n=i.isLiked;c.mark(e)||f[n?"unlike":"like"]({body:{id:i.id,type:v.type.comment},call:function(t){i.isLiked=!n,i.likes=t.count,e.text((n?"赞":"已赞")+"("+t.count+")")},error:function(t){d.alert(t.msg)},always:function(){c.pause(e)}})},actionDel:function k(t){var e=this,i=e.rawConfig,n=e.getEl();d.confirm("确定删除评论？",function(){f.cmtDel({body:{id:i.id},call:function(t){n.slideUp(150,function(){e.subCmtList&&e.subCmtList.destroy(),e.fire("delCmt",t),e.destroy()})},error:function(t){d.alert(t.msg)}})})},actionReply:function S(t){var e=this,i=e.getSubCmtEl();if(0===i.length)return;if(c.mark(t))return;if(e.subCmtList)return i.slideUp(150,function(){i.hide(),e.subCmtList.destroy(),e.subCmtList=null,i.html(""),c.pause(t)});e.openSubCmt()},actionWonderful:function T(e){var i=this,n=i.getEl(),o=i.rawConfig,a=o.isWonderful;d.confirm(a?"你确定将此评论取消精彩吗":"你确定要将评论设为精彩吗",function(){c.mark(e)||f[a?"cmtDelWonderful":"cmtAddWonderful"]({body:{commentId:o.id},call:function(t){o.isWonderful=!a,s.cls(n.find(".post-floor-green,.post-floor"),{"post-floor":a,"post-floor-green":!a}),e.text(a?"设置精彩":"取消精彩"),i.fire("wonderfulCmt")},error:function(t){d.alert(t.msg)},always:function(){c.pause(e)}})})},actionLitigant:function j(e){var i=this,n=i.getEl(),o=i.rawConfig,a=o.isLitigant;d.confirm(a?"你确定将此评论取消当事人评论吗":"你确定要将评论设为当事人评论吗",function(){c.mark(e)||f[a?"cmtDelLitigant":"cmtAddLitigant"]({body:{commentId:o.id},call:function(t){o.isLitigant=!a,a&&n.find(".lz-reply").remove(),a||n.find(".answer-detail p").append('<span class="lz-reply"><span class="lz-reply-txt">当事人回复</span></span>'),e.text(a?"当事人回复":"取消当事人回复"),i.fire("litigantCmt")},error:function(t){d.alert(t.msg)},always:function(){c.pause(e)}})})},actionAccept:function _(e){var i=this,n=i.getEl(),o=i.getActionEl(),t=i.rawConfig;d.confirm("采纳本楼为最佳回答后，你悬赏的牛币将直接打入对方账户，你将无法撤销本操作，是否确定采纳？",function(){c.mark(e)||f.cmtAccept({body:{commentId:t.id,entityId:t.entityId,entityType:t.entityType},call:function(t){n.find(".post-floor").after('<span class="plusFine accept-mini-tag float-right">已采纳</span>'),o.find(".js-cmt-action[data-action=del]").remove(),e.remove(),i.fire("acceptCmt")},error:function(t){d.alert(t.msg)},always:function(){c.pause(e)}})})},actionReport:function I(){p.show({type:v.type.comment,entityId:this.rawConfig.id,mainCommentEntryId:this.rawConfig.postId})},actionSpam:function L(){var n=this,o=n.rawConfig;new d({title:"提示",content:['<div style="text-align:center;">','<a href="javascript:void(0);" class=" btn btn-primary btn-lg js-close-popup" data-type="1" style="margin-bottom:20px;">这条回帖是垃圾</a>','<a href="javascript:void(0);" class="btn btn-warn btn-lg js-close-popup">TA的回帖都是垃圾</a>',"</div>"].join("")}).getEl().on("click","a.btn-lg",function(t){var e=h(t.currentTarget),i="1"===h.trim(e.attr("data-type"));d.confirm(i?"确定将这条评论标记为垃圾吗？":"确定将这个用户的所有评论标记为垃圾，并拉黑TA吗？",function(){f[i?"cmtMarkSpam":"cmtMarkUserAllSpam"]({body:i?{cid:o.id}:{uid:o.authorId,type:2},call:function(){n.fire("delCmt")},error:function(t){d.alert(t.msg)}})})})},actionShare:function P(){var t=this.rawConfig;m.shareImg({shareType:"2",entityId:t.id})},openSubCmt:function A(){var t=this,e=t.rawConfig,i=t.getSubCmtEl(),n=h(t.getActionEl().find("a.js-cmt-action")[0]),o=a(71);0<i.length&&!t.isFeedAd&&(i.show(),t.subCmtList=new o({renderTo:i,type:"sub",cmtClazz:t.constructor.subCmtClazz,isAdmin:e.isAdmin,isSubCmt:!0,isDisableReply:!!e.isDisableReply,needSubReport:!!e.needSubReport,lordUid:e.lordUid,needReply:!0,entityId:e.id,entityOwnerId:e.authorId,entityType:v.type.comment,currentUid:e.currentUid,userId:e.authorId,pageSize:10,page:1,order:1,extHeight:e.extHeight,clsUserCard:e.clsUserCard,clsHonorLevel:e.clsHonorLevel,urlProfile:e.urlProfile,extParam:e.extParam,postId:e.parentId,listeners:{listDataChange:function(t){n.text("回复("+(t.totalCount||0)+")")}}}),c.pause(n))},getSubCmtEl:function M(){},getActionEl:function z(){},isSelf:function D(){var t=this.rawConfig,e=g.id(t.currentUid);return e&&e===g.id(t.authorId)},isAdmin:function H(){return!!this.rawConfig.isAdmin},_getData:function F(t){var e=this,i=t.typeStatus,n=t.item,o=g.map(t.identity,e._getIdentityStr).join(""),a=g.extend({},t,{id:t.id,createTime:r.relate(new Date(t[t.isEdited?"updateTime":"createTime"]),"yyyy-MM-dd HH:mm:ss"),likeTxt:t.isLiked?"已赞":"赞",likeType:t.isLiked?"unlike":"like",floorStr:i.isWonderful||i.isAccept||!t.floor?"":'<span class="'+(t.isWonderful?"post-floor-green":e.isFeedAd?"post-ad-tag js-ad-tag":"post-floor")+'">'+t.floor+(e.isFeedAd?"":"#")+(e.isFeedAd?'<i class="icon-angle-down"></i>':"")+"</span>",acceptStr:i.isWonderful||i.isAccept||!n.isAccepted?"":'<span class="plusFine accept-mini-tag float-right">已采纳</span>',litigantStr:t.isLitigant?'<span class="lz-reply"><span class="lz-reply-txt">当事人回复</span></span>':"",identityStr:o,entityOwnerStr:t.lordUid&&t.lordUid===n.authorId?'<a href="javascript:void(0);"><img class="identity-icon" src="//uploadfiles.nowcoder.com/images/20190708/56_1562592127316_5889949873E3E23C8A0EC0CC8F6042A8"></a>':""},e.getExtData&&e.getExtData());return a.content&&(a.content=l.replaceLink(a.content)),a},_getIdentityStr:function R(t){return'<a title="'+t.name+'" href="/user/authentication" class="js-nc-title-tips" target="_blank"><img class="'+t.idenClass+' js-nc-title-tips" data-identity="1" src="//static.nowcoder.com/nc/image/identity/'+t.level+'.png"></a>'}})},function(t,e,i){var o=i(1),n=(i(0),i(2)),a=i(20),r=i(7),s=i(8),c=i(45),l=i(28),d=t.exports=n.create();n.mix(d,r,{_template:['<div class="reply-editbox clearfix" style="margin-top:10px;">','<div class="reply-write">','<textarea placeholder="#{placeholder}" class="reply-input reply-input-textarea js-ipt"></textarea>',"</div>",'<div class="reply-action clearfix">','<a href="javascript:void(0);" class="icon-emotion js-reply-emoji"></a>','<a class="btn btn-primary reply-btn js-reply" href="javascript:void(0);">回复</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.ipt=t.find(".js-ipt"),this.initInput(),this.initEmoji()}},{name:"click a.js-reply",handler:function(t){var e=o(t.currentTarget),i=(this.rawConfig,this.val());if(!i)return this.focus();this.fire("goAddCmt",i,e)}},{name:"keydown textarea.js-ipt",handler:function(t){var e=this.val(),i=o(t.currentTarget),n=(t.keyCode,"macintosh"===(a.getOs()||{}).os);if(!e)return this.focus();13===t.keyCode&&(n&&t.metaKey||!n&&t.ctrlKey)&&(t.preventDefault(),this.ipt.blur(),this.fire("goAddCmt",e,i))}}]},{initInput:function u(){var t=this.getEl(),e=this.ipt;e.on("focus",function(){t.addClass("reply-focus")}).on("blur",function(){t.removeClass("reply-focus")}),window.setTimeout(function(){e.outerWidth(t.width())},0),s.txtAutoHeight({el:e}),c.input(e)},initEmoji:function p(){var e=this,t=e.getEl(),i=l.show({target:t.find(".js-reply-emoji"),call:function(t){l.renderInIpt(e.ipt,t)}});e.pushChild(i)},val:function f(t){var e=this.ipt;if(0===arguments.length)return o.trim(e.val());(t=o.trim(t))!==o.trim(e.val())&&(e.val(t),e.trigger("change"))},focus:function h(){this.ipt.focus()},_getData:function g(t){return{placeholder:t.placeholder||"请输入你的观点"}}})},function(t,e,i){i(1),i(0);var n=i(14);t.exports={val:function o(t){if(0===arguments.length)return n.getParam("lang");(t=this.fix(t))&&t!==this.val()&&(window.location.href=n.addParam({lang:t}))},fix:function a(t){return t&&{zh:"zh",en:"en"}[t]||""}}},function(t,e,i){var r=i(0);t.exports={_poll:{},_index:1,open:function s(t){r.isString(t)&&(t={url:t});var e="openWin_"+this._index++,i=t.url||"",n=t.width||600,o=t.height||380,a=window.open(i,e,["width=",n,",height=",o,",left=",400,"px,top=",200,"px,toolbar=no,menubar=no,directories=no"].join(""));return this._poll[e]=a},close:function o(t){var e,i=this;if(t){r.isString(t)?e=i._poll[t]:t=(e=t).id;try{e&&e.close&&e.close(),t&&delete i._poll[t]}catch(n){}}else r.forEach(i._poll,function(t){i.close(t)})}}},function(t,e){t.exports={EVENT_USER_DATA_CHANGE:"EVENT_USER_DATA_CHANGE"}},function(t,e,l){var c=l(10),i=l(32),n=l(48),d=(l(6),l(1)),o=l(33),u=l(0),p=l(77),a=(l(3),n.val());t.exports={_ajaxIframeCache:{iframe:{},cb:{}},request:function r(s){function c(t){p.request({$:t,config:s.config||{},methodName:s.methodName,sync:!!s.sync,type:p.getRequestType(s),url:s.url,body:s.body,query:u.extend({token:o.get("csrf_token"),lang:a},s.query),params:s.params,timeout:s.timeout,dataType:s.dataType,json:s.json,jsonpCallback:s.jsonpCallback,cache:s.cache,beforeSend:s.beforeSend,complete:s.complete,callCode:e,call:s.call,error:s.error,always:s.always})}function e(t,e){var i=+t.code;if(999==i&&!s.noDealAuth)return function o(t,e,i){l(24).showLogin()}(),!1;if(1012==i)return function a(t,e,i){l(56).show({ok:function(){c(d)}})}(),!1;var n=s.captcha;return n&&n.type&&u.id(n.code||1125)===u.id(i)?(function r(n,t,e){var i=n.captcha;l(35).show({type:i.type,call:function(t){var e=n.captchaHandler,i="get"===p.getRequestType(n).toLowerCase()?"query":"body";e&&e(n,t),e||(n[i]=u.extend({},n[i],t)),c(d)},cancel:function(){n.error&&n.error(t,e)}})}(s,t,e),!1):void 0}"jsonp"===s.dataType?c(d):i.create(s.url,c)},add:function f(t,e,n,i){var o=this,a=t.urlPrefix||"";e=e||t.url,n=n||t.domain,i=i||t.domainDev;var r=c.isInHttps(),s=c.isInDev();n=s&&i?i:n&&s?"d."+n:n,u.forEach(e,function(e,i){u.isString(e)&&(e=a+e,e=n&&!/^(?:http|\/\/)/.test(e)?(r?"https://":"http://")+n+e:e,t[i]=function(t){t=p.getConfParam(t,e,i),o.request(t)},t[i+"Url"]=function(t){return p.getConfUrl(t,e,i)})})}}},function(t,e,i){var n=i(145)["default"];t.exports={show:function o(t){t=t||{};var e=n.ncPopup({propsData:{href:t.href,register:t.register}});e.$on("close",function(){t.close&&t.close()}),e.$on("register",function(){t.registerCb&&t.registerCb(),t.registerCb||window.location.reload()}),e.$on("login",function(){t.loginCb&&t.loginCb(),t.loginCb||window.location.reload()})}}},function(t,e,i){var l=i(1),n=(i(17),i(2)),d=i(0),o=i(7),a=(i(9),i(6)),r=i(11),u=i(3),s=i(19),c=i(13),p=i(5),f=i(54),h=t.exports=n.create();n.mix(h,o,{_template:'<div class=""><div style="padding:20px 0;text-align:center;font-size:14px;">数据加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var i=this;i.isMiddle=!!i.rawConfig.isMiddle,d.forEachAsync(["getCity","searchSchool"],function(t,e){i[t](d.bind(e,null,null))},function(){i.initContainer(),i.initCpns(),i.renderList(i.schoolData),i.popup&&i.popup.fixPosition()})}},{name:"click a.pop-school-item",handler:function(t){var e=this.rawConfig,i=l(t.currentTarget),n=i.attr("data-id"),o=i.attr("data-name");e.call&&e.call(n,o),this.popup&&this.popup.close()}},{name:"click .js-add-school",handler:function(t){var e=this;e.popup&&e.popup.hide(),f.show({noUnique:!0,isMiddle:e.isMiddle,val:{country:e.countryCpn.val(),prov:e.provCpn.val(),name:e.searchCpn.val()},listeners:{ok:function(t){e.countryCpn.val(t.country),e.fixCity(),e.provCpn.hidden||e.provCpn.val(t.prov),e.searchCpn.val(t.name),e.refresh(!0)},close:function(t){e.popup&&e.popup.show()}}})}}],show:function g(t){var e=new h(t=t||{});u.wrap(e,{title:t.isMiddle?"选择你的中学":"选择你的大学",content:e.html(),width:960,hasScroll:!0,hasNoFooter:!0,noUnique:!!t.noUnique});return o.setEvents(),e}},{initContainer:function v(){var t=this;t.getEl().html(['<div class="pop-filter-wrap js-filter-box"></div>','<div class="pop-school-box js-school-box"></div>']),t.headerEl=t.getEl(".js-filter-box"),t.contentEl=t.getEl(".js-school-box")},initCpns:function m(){var i=this,t=i.headerEl,e=function o(){return i.cityMap={},d.map(i.cityData,function(t,e){return{text:(i.cityMap[t.name]=t).name,value:t.name,checked:0===e}})}();i.countryCpn=new s({renderTo:t,text:"请选择国家",needSearch:5<e.length,options:e,listeners:{change:function(){i.fixCity()}}}),i.provCpn=new s({renderTo:t,text:"请选择省份",needSearch:!0,options:[]}),i.provCpn.hide();var n=r.frequency(750);i.searchCpn=new c({cls:"inline-block",renderTo:t,placeholder:"输入关键词查找学校",listeners:{change:function(){var t=this;n(function(){if(!l.trim(t.val()))return i.selectAll(i.countryCpn.val(),i.provCpn.val());i.searchSchool(function(t){i.renderList(t)})})}}}),i.fixCity(!0)},refresh:function w(t){var e=this;e.searchSchool(function(t){t&&0!==t.length?e.renderList(t):e.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>')},t)},fixCity:function y(t){var e=this,i=e.countryCpn.val(),n=e.cityMap[i];if(!n)return;if(n.provs&&0<n.provs.length){var o=[];d.forEach(n.provs,function(t,e){o.push({text:t.name,value:t.name})}),e.provCpn.unlisten("change"),e.provCpn.listen("change",function(){e.selectAll(i,this.val())}),e.provCpn.replaceOptions(o),e.provCpn.select(0),e.provCpn.show(),t||e.provCpn.fire("change")}else e.provCpn.hide(),e.selectAll(i)},selectAll:function b(t,e){var i=this;if(i.searchCpn.val(""),!t)return void i.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>');if(!i.cityMap[t])return void i.contentEl.html('<h3 style="text-align:center">请先选择筛选条件</h3>');i.refresh()},renderList:function x(t){var i="";d.forEach(t,function(t){var e=+t.type;i+=a.execTpl('<a href="javascript:void(0);" data-id="#{id}" data-name="#{name}" class="pop-school-item" title="#{name}#{tip}">#{name}#{tip}</a>',{id:t.id,name:t.name,tip:3==e||5==e?"(审核中)":""})});var e=['<div style="padding:20px;margin:0 auto;font-size:14px;width:520px;">',"没有找到你的学校？试试以下方法：</br>","1、检查学校名称是否输入正确，是否有错别字或者多字漏字</br>","2、检查是否输入了学校别名/别称？试试输入学校的官方正式全称</br>","3、检查学校是否更名，试试输入你的学校最新的院校名称</br>","4、国外院校？试试输入外语的学校名称全称，如输入英文/日文/法文/德文等</br>",'如仍未查找到你的学校，<a href="javascript:void(0);" class="link-green js-add-school">点此帮助牛客完善学校信息</a></br>',"注意：请勿恶意提交无效院校信息，多次恶意提交者将被严肃处理哦！","</div>"].join("");this.contentEl.html(i||e)},getCity:function C(i){var n=this;p.getSchoolBrief({type:"GET",query:{isMiddle:n.isMiddle},call:function(t){var e=n.cityData=t.data||[];i&&i(e)},error:function(t){n.popup&&n.popup.close(),u.alert(t.msg)}})},searchSchool:function E(n,t){var o=this,a=o.schoolCache=o.schoolCache||{},e=s(),r=c(e);if(!t&&a[r])return n&&n(a[r]);function s(){var t=(o.countryCpn?l.trim(o.countryCpn.val()):"中国")||undefined,e=(o.provCpn?o.provCpn.hidden?"":l.trim(o.provCpn.val()):"北京")||undefined,i=(o.searchCpn?l.trim(o.searchCpn.val()):"")||undefined;return{country:i?undefined:t,province:i?undefined:e,query:i,limit:250}}function c(t){return[t.country||"",t.province||"",t.query||""].join("$$$$")}p.getSchool({query:d.extend({isMiddle:o.isMiddle},e),call:function(t){var e=o.schoolData=t.data||[];a[r]=e;var i=c(s());r===i&&n&&n(e)},error:function(t){u.alert(t.msg),o.popup&&o.popup.close()}})}})},function(t,e,i){var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=i(1),a=i(2),r=i(0),s=i(7),c=i(9),l=i(3),d=i(19),u=i(13),p=i(5),f=t.exports=a.create();a.mix(f,s,{_template:'<div><div style="padding:20px 0;text-align:center;font-size:14px;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;t.isMiddle=!!e.isMiddle,t.getCity(function(){t.initContainer(),t.initCpns(),e.val&&t.val(e.val),t.popup&&t.popup.fixPosition()})}}],show:function h(t){var e=new f(t=t||{});l.wrap(e,{title:"添加学校信息",content:e.html(),width:700,noUnique:!!t.noUnique,okTxt:"提交",ok:function(){return e.check()&&e.submit(),!0},cancel:function(){},close:function(){e.fire("close")}});return e}},{initContainer:function g(){this.getEl().html(['<div class="pop-authorize-tip" style="width:auto;font-size:14px;">',"提交学校信息后，管理员将于3个工作日内审核，审核期间将不影响简历的正常投递。</br>","如有以下情况，则该申请将会被拒绝，且除简历以外涉及学校的个人资料将需重新填写学校信息：</br>","1.重复添加学校信息<br />","2.新增学校名称不完整或名称错误<br />","3.若未找到学校所在的地区，请选择【中国-北京】并申请地区+学校名称如“美国哈佛大学”","</div>",'<div class="pop-filter-wrap js-filter-box"></div>'].join("")),this.headerEl=this.getEl(".js-filter-box")},initCpns:function v(){var i=this,t=i.headerEl,e=function n(){return i.cityMap={},r.map(i.cityData,function(t,e){return{text:(i.cityMap[t.name]=t).name,value:t.name}})}();i.countryCpn=new d({renderTo:t,text:"请选择国家",needSearch:5<e.length,options:e,listeners:{change:function(){return i.fixCity()}}}),i.provCpn=new d({renderTo:t,text:"请选择省份",needSearch:!0,options:[]}),i.provCpn.hide(),i.iptCpn=new u({cls:"inline-block",renderTo:t,placeholder:"请输入学校全称"}),i.fixCity()},val:function m(t){var e=this;if(0===arguments.length)return{country:e.countryCpn.val()||"",prov:e.provCpn.hidden?undefined:e.provCpn.val()||"",name:o.trim(e.iptCpn.val())};"中国"!==(t=t||{}).country&&e.countryCpn.val(t.country),"北京"!==t.prov&&e.provCpn.val(t.prov),e.iptCpn.val(o.trim(t.name)),e.fixCity()},check:function w(){var t=this,e=t.val(),i=!0,n=e.name||"";e.country?"中国"!==e.country||e.prov||(t.provCpn.error(),i=!1):(t.countryCpn.error(),i=!1);n?250<n.length&&(t.iptCpn.errorTips("学校名称不能超过250个字符"),i=!1):(t.iptCpn.errorTips("学校名称不能为空"),i=!1);return i},submit:function y(){var e=this,i=e.val(),t=e.getEl();if(c.mark(t))return;p.addSchool({body:n({isMiddle:e.isMiddle},i),call:function(t){e.fire("ok",i),e.popup&&e.popup.close()},error:function(t){return e.iptCpn.errorTips(t.msg)},always:function(){return c.clear(t)}})},fixCity:function b(){var t=this,e=t.countryCpn.val(),i=t.cityMap[e];if(!i)return;if(i.provs&&0<i.provs.length){var n=[];r.forEach(i.provs,function(t,e){n.push({text:t.name,value:t.name})}),t.provCpn.replaceOptions(n),t.provCpn.show()}else t.provCpn.hide()},getCity:function x(i){var n=this;p.getSchoolBrief({query:{isMiddle:n.isMiddle},call:function(t){var e=n.cityData=t.data||[];i&&i(e)},error:function(t){l.alert(t.msg),n.popup.close()}})}})},function(t,e,i){var r=i(1),s=i(0),a=i(79),c=i(8),l=i(25),d=i(3),u=i(13),o=i(12);t.exports={wx:function n(t,e){if(t)return new d({title:"分享到微信",noUnique:e,width:320,content:['<div class="avarta-box">','<img height="200px" style="display:block;margin:0 auto;" src="',t,'" />','<div style="text-align:center;font-size:14px;margin-top:20px;">微信扫一扫，点击手机屏幕右上角分享</div>',"<div>"].join("")})},ac:function p(t){var e=this,i=t.nextUrl||"",n=(t.share,window.location.origin+"/questionTerminal/"+t.uuid),o=new d({title:"恭喜通过本题",width:700,content:['<div class="clearfix">','<div class="pop-course">','<div class="pop-c-main"><img src="//static.nowcoder.com/images/res/course/add-jy.png" >','<span class="pop-c-tip">恭喜你通过本题</span>','<div class="pop-c-result">',"<p>运行时间：",t.seconds,"ms</p>","<p>占用内存：",t.memory,"k</p>"," </div>",'<div class="layer-share-wrapper" style="position:initial;border:0px;box-shadow:initial;">','<span style="line-height:42px;font-size:14px;">邀请朋友来挑战：</span>','<div class="layer-share-item js-share-wx"><i class="icon-nc-wechat"></i><p>微信</p></div>','<div class="layer-share-item js-share-link" data-share="fqq"><i class="icon-nc-qq"></i><p>QQ</p></div>','<div class="layer-share-item js-copy-link"><i class="icon-nc-link"></i><p>复制链接</p></div>'," </dl>","</div>",""!==i?'<a href="'+i+'" class="btn btn-primary js-go-next">进入下一题</a>':"","</div>",'<a href="',t.answerUrl,'" class="btn btn-primary" target="_blank">分享解题思路</a>',"</div>"].join(""),listeners:{"click .js-share-wx":{handler:function(){e.wx(l.rqUrl("https://m.nowcoder.com/questionTerminal?uuid="+t.uuid))}}}});return a.bind({el:o.getEl('.js-share-link[data-share="fqq"]'),desc:"这道题我终于AC了，有要一起刷的吗？",link:n}),c.copy({el:o.getEl(".js-copy-link"),content:n,call:function(){d.tips("复制成功!")},error:function(){d.alert("复制失败!")}}),o},ipt:function f(t,e,i,n,o){return new d({title:t||"提示",width:530,content:['<div class="pop-recovery-content">',e?'<p class="pop-tip">'+e+"</p>":"",'<div class="control-group js-ipt" style="width:100%;"><textarea class="pop-recovery-txt"',i?" placeHolder="+i:"",' style="width:97%;padding:0.5% 1%;height:120px;margin:10px auto;resize:none;"></textarea></div>',"</div>"].join(""),render:function(){var t=this.ipt=u.transform(this.getEl("div.js-ipt"));o&&t.listen("change",function(){o(t,t.val())})},ok:function(){var t=this.ipt,e=t.val();return!(!o||o(t,e))||(o||e)&&n&&n.call(this,e,t)},close:function(){}})},selectJob:function h(t,e){var a=o.jobs,i=s.toMap(t,function(t){return{key:t,value:!0}}),n="";s.forEach(a,function(t,e){n+='<a class="tag-label '+(i[t]?"selected":"")+'" href="javascript:void(0);" data-name="'+e+'">'+e+"</a> "}),new d({title:"职业方向",content:n,noUnique:!0,render:function(){this.getEl().on("click","a.tag-label",function(t){var e=r(t.currentTarget);e[e.hasClass("selected")?"removeClass":"addClass"]("selected")})},ok:function(){var t=this.getEl(),n=[],o=[];if(s.forEach(t.find("a.selected"),function(t){var e=r.trim(r(t).attr("data-name")),i=a[e];i&&n.push(i),i&&o.push(e)}),0===o.length)return d.error("请选择职业方向"),!0;e&&e(n,o)},cancel:function(){}})}}},function(t,e,i){var r=i(1),n=i(0),o=i(2),a=i(7),s=i(6),c=i(11),l=i(9),d=i(3),u=i(13),p=i(12),f=i(21),h=i(5),g=t.exports=o.create();o.mix(g,a,{_template:["<div>",'<p class="pop-verify-tip" style="text-align:center;">#{alertContent}</p>','<div style="width:400px;margin:0 auto;">','<div class="form-group">','<label class="control-label">手机号码</label>','<div class="control-group form-phone-fill js-account">','<div class="btn-group js-country"></div>','<input type="text" placeholder="请输入手机号码">',"</div>","</div>",'<div class="form-group">','<label class="control-label">验证码</label>','<div class="btn-group phone-code">','<div class="control-group js-captcha"><input type="text" placeholder="请输入验证码"></div>','<span class="input-group-btn">','<button class="btn btn-primary js-btn-captcha" style="padding:0 5px;">获取验证码</button>',"</span>","</div>","</div>","</div>",'<div class="pop-phone-tips">','<div style="text-align:right;">','<a href="javascript:void(0);" class="link-gray js-phone-used"><i class="icon-question-sign"></i>手机号码已被注册？</a>',"</div>","</div>",'<a href="javascript:void(0);" class="btn btn-primary btn-lg js-verify" style="display:block;margin:50px auto 0;">确定</a>','<p class="reg-tips" style="text-align:center;margin-top:25px;">点击"确定"按钮，即表示你同意 <a href="https://static.nowcoder.com/protocol/register.html" target="_blank;">《注册协议》</a> 和 <a href="https://static.nowcoder.com/protocol/privacy-policy.html" target="_blank;">《隐私政策》</a></p>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){this.initCpn(),this.initCaptcha(),this.initPhoneTips()}},{name:"click .js-verify",handler:function(t){this.submit()}}],show:function v(t){var e=new g(t=t||{});d.wrap(e,{title:"验证手机",content:e.html(),width:550,hasNoFooter:!0});return e}},{initCpn:function m(){var t=this,e=t.getEl(),i=t.cpn={};i.zip=f.initPhoneZip({renderTo:e.find(".js-country")}),i.account=u.transform(e.find(".js-account")),i.captcha=u.transform(e.find(".js-captcha")),i.zip.listen("change",n.bind(t.checkAccount,t)),i.account.listen("blur",n.bind(t.checkAccount,t))},initCaptcha:function w(){var t=this,n=t.getEl(".js-btn-captcha"),o=!1,a=0;function e(){if(!o){o=!0;var e=r.trim(t.cpn.zip.val()),i=r.trim(t.cpn.account.val());t.checkAccount(function(t){t||(o=!1),t&&h.validatePhone({body:{phone:e+i},captcha:{type:p.captcha.sendVerifyCode},call:function(t){o=!1,function i(e){o||(o=!0,n.addClass("btn-default").removeClass("btn-primary"),c.countDown({second:60,call:function(t){return a===e&&n.html(t+"秒后重新获取"),a!==e},end:function(){a===e&&(n.html("重新获取验证码"),n.addClass("btn-primary").removeClass("btn-default"))}}))}(++a)},error:function(t){o=!1,d.alert(t.msg)}})})}}n.on("click",function(t){t.preventDefault(),e()}),t.listen("destroy",function i(){a++})},initPhoneTips:function y(){this.getEl().find(".js-phone-used").on("click",function(){i(57).show({})})},val:function b(){var t=this.cpn,e=r.trim(t.zip.val())||"+86",i=r.trim(t.account.val());return{phone:e+i,code:r.trim(this.cpn.captcha.val())}},submit:function x(){var i=this,n=i.cpn,o=i.rawConfig,a=i.getEl(".js-verify");i.check(function(t){if(t&&!l.mark(a)){var e=i.val();h.activePhone({body:e,call:function(){i.popup.close(),d.tips("验证成功"),o.ok&&o.ok(e.phone)},error:function(t){var e=t.msg||"";-1!==e.indexOf("验证码")?n.captcha.setErrorTips(e):d.alert(t.msg)},always:function(){l.clear(a)}})}})},check:function C(e){var t=this.val(),i=this.cpn,n=!0;t.code||(i.captcha.setErrorTips("验证码不能为空"),n=!1);this.checkAccount(function(t){e&&e(n&&t)})},checkAccount:function E(t){var e=this.accountMap=this.accountMap||{},i=this.cpn.account,n=r.trim(this.cpn.zip.val()),o=r.trim(i.val()),a=e[o];if("+86"===n?!s.isPhone(o):!/^\d{3,}$/.test(o))return i.setErrorTips("请输入正确的手机号码"),t&&t(!1);if(!0===a)return i.setErrorTips("该手机号码已经被注册"),t&&t(!1);if(!1===a)return i.setSuccess(),t&&t(!0);h.checkPhone({query:{phone:n+o},call:function(){e[o]=!1,o===r.trim(i.val())&&i.setSuccess(),t&&t(!0)},error:function(){e[o]=!0,o===r.trim(i.val())&&i.setErrorTips("该手机号码已经被注册"),t&&t(!1)}})},_getData:function k(t){return{alertContent:t.alertContent||"应国家法律要求，使用该功能时需完成手机号验证。<br />感谢您的支持和理解 ⁄(⁄ ⁄•⁄ω⁄•⁄ ⁄)⁄. "}}})},function(t,e,i){var a=i(1),n=i(0),o=i(2),r=i(7),s=i(6),c=i(9),l=i(3),d=i(13),u=i(21),p=i(10),f=i(5),h=t.exports=o.create(),g="申请成功，我们将于72小时内审核你的改绑申请，结果将以系统通知的形式告知";o.mix(h,r,{_template:'<div><div style="padding:20px;text-align:center;font-size:14px;">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var e=this,i=e.popup;f.unbindAccountResult({type:"GET",call:function(t){t.data?(i.close(),l.ok(g)):(e.initHtml(),e.initCpn(),i.fixPosition())},error:function(t){i.close(),l.alert(t.msg)}})}},{name:"click .js-submit",handler:function(){this.submit()}}],show:function v(t){var e=new h(t=t||{});l.wrap(e,{title:"更改绑定的手机号",content:e.html(),width:600,hasNoFooter:!0})}},{initHtml:function m(){this.getEl().html(s.execTpl(['<div class="pop-bind-phone">','<div class="form-group">','<label class="control-label">当前账号ID</label>','<div class="control-group">#{uid}</div>',"</div>",'<div class="form-group">','<label class="control-label">原账号ID</label>','<div class="js-id"><input type="text" placeholder="请输入原账号ID" /></div>','<a href="https://www.nowcoder.com/discuss/157931" target="_blank" class="pop-check-account link-gray"><i class="icon-question-sign"></i> 如何查看原账户ID？</a>',"</div>",'<div class="form-group">','<label class="control-label">手机号码</label>','<div class="control-group form-phone-fill js-account">','<div class="btn-group js-country"></div>','<input type="text" placeholder="请输入手机号码" />',"</div>","</div>",'<div class="form-group">','<label class="control-label">验证码</label>','<div class="btn-group phone-code">','<div class="control-group js-captcha"><input type="text" placeholder="请输入验证码" /></div>','<span class="input-group-btn"><button class="btn btn-primary js-btn-captcha" style="padding:0;">获取验证码</button></span>',"</div>","</div>",'<div class="form-group">','<label class="control-label">改绑理由</label>','<div class="control-group js-reason"><input type="text" placeholder="请输入改绑理由" /></div>',"</div>",'<div class="warning-tips"><i class="icon-warning-sign"></i>注意！手机号改绑完成后，原账号将不能用该手机号登录</div>',"</div>",'<div class="pop-btn-wrapper">','<a href="javascript:void(0);" class="btn btn-primary js-submit">确定申请</a>',"</div>"].join(""),{uid:(p.getUser()||{}).ownerId}))},initCpn:function w(){var t=this.cpn={},e=this.getEl();t.uid=d.transform(e.find(".js-id")),t.zip=u.initPhoneZip({renderTo:e.find(".js-country")}),t.account=d.transform(e.find(".js-account")),t.captcha=d.transform(e.find(".js-captcha")),t.reason=d.transform(e.find(".js-reason")),u.initCaptcha({btn:e.find(".js-btn-captcha"),isPhone:!0,check:n.bind(this.checkAccount,this),val:function(){return a.trim(t.zip.val())+a.trim(t.account.val())}})},checkAccount:function y(t){u.checkPhone({zip:this.cpn.zip,phone:this.cpn.account,needRegister:!0,call:t})},val:function b(t){var e=this.cpn;if(0===arguments.length)return{uid:a.trim(e.uid.val()),phone:a.trim(e.zip.val())+a.trim(e.account.val()),code:a.trim(e.captcha.val()),reason:a.trim(e.reason.val())}},check:function x(){var t=this.cpn,e=this.val(),i="+86"===a.trim(t.zip.val()),n=a.trim(t.account.val()),o=!0;e.uid||(t.uid.setErrorTips("原账号ID不能为空"),o=!1);n||(t.account.setErrorTips("手机号码不能为空"),o=!1);(i&&!s.isPhone(n)||!i&&!/^\d+$/.test(n))&&(t.account.setErrorTips("请填写正确的手机号码"),o=!1);e.code||(t.captcha.setErrorTips("验证码不能为空"),o=!1);e.reason||(t.reason.setErrorTips("改绑理由不能为空"),o=!1);return o},submit:function C(){var e=this,i=e.getEl();e.check()&&(c.mark(i)||f.unbindAccount({body:e.val(),call:function(t){e.popup.close(),l.tips(g)},error:function(t){l.alert(t.msg),c.clear(i)}}))}})},function(t,e,i){var r=i(15),o=i(1),n=i(0),a=i(2),s=i(16),c=i(11),l=i(5),d=t.exports=a.create();n.extend(d.prototype,s,{initialize:function u(e){var i=this;i.netease=!!window.useNeteaseCaptcha,i.errorCount=0,i.cbName="ncGt"+(new Date).getTime()+n.ascId(),i.initEvent(),i.getData({type:e.type,call:function(t){i[i.netease?"initNetease":"initGt"](e,t)}})},initEvent:function p(){var e=this;e.gt=null,e.listen("getGtCode",function(t){e.gt=t})},initGt:function f(i,n){var o=this,a=o.cbName;window[a]=null,r.use("//api.geetest.com/getfrontlib.php?callback="+a+"&gt="+n.captchaId),window[a]=function(){window[a]=null;var t=new window.Geetest({gt:n.captchaId,challenge:n.challenge,product:i.product||"float",offline:!n.success}),e=o.getElId(i,a);e&&t.appendTo("#"+e),o.fire("getGtCode",t)}},initNetease:function h(i,n){var o=this,a=o.cbName;r.use("//cstaticdun.126.net/load.min.js",function(){c.waitUtil({times:250,condition:function(){return!!window.initNECaptcha},call:function(){var t=o.getElId(i,a),e=i.product||"float";t&&window.initNECaptcha({captchaId:n.captchaId,element:"#"+t,mode:e,width:260,onVerify:function(t,e){!t&&e&&(o.neteaseValidateResult=e.validate)}},function(t){o.fire("getGtCode",t)},function(t){o.fire("getGtCodeError",t)})}})})},check:function g(){var t=this.gt;if(this.netease){var e=this.neteaseValidateResult||(t&&t.getValidate?t.getValidate():null);return e?{netease_validate:e}:null}return t?t.getValidate():null},refresh:function v(){try{this.gt&&this.gt.refresh&&this.gt.refresh()}catch(t){}},getData:function m(e){var i=this,t=!!i.netease;l.getGtData({query:{t:(new Date).getTime(),source:t?"netease":"gt"},params:{type:e.type},call:function(t){i.errorCount=0,e.call&&e.call(t.data)},error:function(){if(i.errorCount++,i.errorCount<5)return window.setTimeout(n.bind(i.getData,i,e.call),250);i.errorCount=0}})},getElId:function w(t,e){var i=o(t.el),n=i.get(0);if(n&&(!document.contains||document.contains(n))){return i.attr("id")||i.attr("id",e),i.attr("id")}}})},function(t,e,i){t.exports=i(4)(10)},function(t,e,i){t.exports=i(4)(62)},function(t,e,i){t.exports=i(4)(59)},function(t,e,i){var o=i(1),n=i(7),a=i(9),r=i(2),s=(i(0),i(6),i(3)),c=i(13),l=(i(19),i(30)),d=i(5),u=t.exports=r.create();r.mix(u,n,{_template:['<div class="pop-blog">','<a href="javascript:void(0);" class="pop-close" title="关闭"></a>','<div class="pop-blog-notice">','<img src="https://uploadfiles.nowcoder.com/images/20190612/59_1560326890360_5D1A01F653D48D3D8D4FC1BC38C0C54F" alt="">',"<p>欢迎开通牛客博客</p>","</div>",'<div class="">','<div class="module-head clearfix">',"<h1>你的博客地址</h1>",'<span class="module-head-tips">地址确认后不再提供修改权限</span>',"</div>",'<div class="pop-blog-cont">',"<section>","<span>https://blog.nowcoder.net/</span>",'<div><input type="text" name="name" placeholder="博客个性地址" class="js-pop-url"></div>',"</section>",'<p class="pop-blog-txt">注意：可以是3-24位小写字母与数字的组合，不支持纯数字</p>',"</div>",'<label class="checkbox">','<span class="icons"></span>','<input type="checkbox">',"</label>",'<span style="color:#888;">确认开通牛客博客并遵守<a href="https://www.nowcoder.com/discuss/199171" class="link-green" target="_blank">《牛客博客用户协议》</a></span>',"</div>",'<div class="pop-btn-wrapper">','<a href="javascript:void(0);" class="btn btn-default">立即开通博客</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){this.initData()}},{name:"click a.btn",handler:function p(t){var e=o(t.currentTarget),i=this.rawConfig;if(!this.agreeCheckbox.isChecked())return void s.tips("请先同意《牛客博客规定》");var n=o.trim(this.urlIpt.val());if(!/^[a-z0-9]{3,24}$/.test(n)||/^[0-9]+$/.test(n))return void this.urlIpt.setErrorTips("请输入3-24位小写字母与数字的组合，不支持纯数字");if(a.mark(e))return;d.blogOpen({body:{url:n},call:function(t){var e=i.returnUrl;!e&&i.getReturnUrl&&(e=i.getReturnUrl(n)),e=e||"https://blog.nowcoder.net/"+n,window.location.href=e},error:function(t){s.alert(t.msg)},always:function(){a.clear(e)}})}}],show:function f(t){var e=new u(t=t||{});s.wrap(e,{hasNoTitle:!0,hasNoFooter:!0,width:680,content:e.html()});return e}},{initialize:function h(t){},initData:function g(){var t=this.getEl(),e=t.find("a.btn");this.urlIpt=c.transform(t.find(".js-pop-url").parent()),this.agreeCheckbox=l.transform(o("label.checkbox"),{listeners:{change:function(){e[this.isChecked()?"addClass":"removeClass"]("btn-primary"),e[this.isChecked()?"removeClass":"addClass"]("btn-default")}}})}})},function(t,e,a){var l=a(1),i=a(7),r=a(9),n=a(2),d=(a(0),a(6)),s=a(3),o=a(13),c=a(21),u=a(23),p=a(5),f=t.exports=n.create();n.mix(f,i,{_template:["<div>","#{avatar}",'<ul class="complete-tabs js-tab">','<li class="selected">注册新账号</li>',"<li>绑定已有账号</li>","</ul>",'<div class="account-form clearfix">','<div class="control-group form-phone-fill js-phone">','<div class="btn-group js-country">','<button class="btn btn-default dropdown-toggle">中国+86</button>',"</div> ",'<input type="text" placeholder="请输入手机号码">',"</div>",'<div class="form-group">','<div class="control-group js-account"><input type="text" placeholder="请输入邮箱/手机号码"></div>',"</div>",'<div class="form-group" style="text-align:left;">','<div class="btn-group phone-code">','<div class="control-group js-captcha"><input type="text" placeholder="请输入验证码"></div>','<span class="input-group-btn"><button class="btn btn-primary js-btn-captcha" style="padding:0 5px;">获取验证码</button></span>',"</div>","</div>",'<div class="form-group change-account js-change-type">','<a href="javascript:void(0);" class="link-green">海外手机号</a>',"</div>","</div>",'<a href="javascript:void(0);" class="btn btn-primary btn-lg js-submit">保存</a>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;t.initCpn(),t.initCaptcha(),t.initChangeType(),l.trim(e.avatar)&&t.initAvatar(),t.changeType(e.type)}},{name:"click .js-submit",handler:function(){this.submit()}}],show:function h(t){var e=new f(t=t||{}),i=s.wrap(e,{title:"10s补全资料，解锁全部功能。",width:550,content:e.html(),hasNoFooter:!0,cancel:t.cancelCb,close:t.closeCb});return i.popupContent.addClass("pop-complete").css("padding","20px"),i.fixPosition(),e}},{initialize:function g(t){},initCpn:function v(){var t=this.getEl(),e=this.cpn={};e.zip=c.initPhoneZip({renderTo:t.find(".js-country")}),e.phone=o.transform(l(".js-phone")),e.account=o.transform(l(".js-account")),e.captcha=o.transform(l(".js-captcha"))},initCaptcha:function m(){var i=this,t=(i.getEl(),i.cpn);c.initCaptcha({cpn:i,btn:l(".js-btn-captcha"),isPhone:function(){return i.isPhone()},check:function(t){var e=i.isNew();e&&i.checkPhone(t),!e&&t&&t(i.checkBind(!0))},val:function(){i.isPhone();return"bind"!==i.type?l.trim(t.zip.val())+l.trim(t.phone.val()):l.trim(t.account.val())}})},initChangeType:function w(){var i=this,t=i.getEl();t.on("click",".js-tab li",function(t){var e=l(t.currentTarget).index();i.changeType(0===e?"":"bind")}),t.on("click",".js-change-type a",function(t){i.changeType("oversea"===i.type?"bind":"oversea")})},initAvatar:function y(){var e=l(".js-avatar");u.avatar({el:e,call:function(t){e.find("img").attr("src",t),l("div.nowcoder-header div.img-box img").attr("src",t)}})},changeType:function b(t){var e=this;if(t=l.trim(t)||"new",e.type===t)return;e.type=t;var i=e.getEl(),n=e.cpn,o=e.isNew(),a="bind"!==t,r=i.find(".js-tab").find("li");r.removeClass("selected"),l(r[o?0:1]).addClass("selected");var s=i.find(".js-change-type"),c=s.find("a");s[o?"hide":"show"](),c.html("oversea"===e.type?"国内账号":"海外手机号"),e.clear(),n.phone.getEl()[a?"show":"hide"](),n.account.getEl().parent()[a?"hide":"show"](),e.stopCapcha()},val:function x(){var t=this.cpn,e=this.isPhone(),i="bind"!==this.type,n={code:l.trim(t.captcha.val())};return n[e?"phone":"email"]=i?l.trim(t.zip.val())+l.trim(t.phone.val()):l.trim(t.account.val()),e&&(n.method=1),n},submit:function C(){var i=this,t=i.rawConfig,e=(i.cpn,l(".js-submit"));function n(){t.callCb&&t.callCb(i.type),t.callCb||window.location.reload()}i.clear(),function o(t){var e=i.isNew();e&&i.checkNew(t),!e&&t&&t(i.checkBind())}(function(t){t&&!r.mark(e)&&p[i.isPhone()?"activeOAuthPhone":"activeEmail"]({body:i.val(),call:function(t){i.popup.close();var e=(t.data||{}).isNew;s.tips("操作成功",function(){e?a(34).show({closeCb:n}):n()})},error:function(t){var e=t.msg||"";-1!==e.indexOf("验证码")?i.cpn.captcha.setErrorTips(e):s.alert(e)},always:function(){r.clear(e)}})})},checkNew:function E(e){var t=this.cpn,i=!0;l.trim(t.captcha.val())||(t.captcha.setErrorTips("验证码不能为空"),i=!1);this.checkPhone(function(t){e&&e(i&&t)})},checkBind:function k(t){var e=this.cpn,i=this.isPhone(),n="oversea"===this.type,o=n?l.trim(e.zip.val()):"",a=l.trim(e.account.val()),r=l.trim(e.phone.val()),s=!0;if(a||n){var c="";n?c=("+86"!==o?/^\d{3,}$/.test(r):d.isPhone(r))?"":"请输入正确的手机号码":(i&&(c=d.isPhone(a)?"":"请输入正确的手机号码"),i||(c=d.isEmail(a)?"":"请输入正确的邮箱")),e[n?"phone":"account"][c?"setErrorTips":"setNone"](c),s=s&&!c}else e.account.setErrorTips("请输入正确的邮箱或手机号码"),s=!1;if(t)return s;l.trim(e.captcha.val())||(e.captcha.setErrorTips("验证码不能为空"),s=!1);return s},checkPhone:function S(t){var e=this.cpn;c.checkPhone({zip:e.zip,phone:e.phone,call:t})},stopCapcha:function T(){var t=this.getEl(".js-btn-captcha");this.fire("STOP_CAPTCHA_COUNTING"),t.removeClass("btn-default").addClass("btn-primary").html("获取验证码")},clear:function j(){var t=this.cpn;t.phone.setNone(),t.account.setNone(),t.captcha.setNone()},isNew:function _(){return"bind"!==this.type&&"oversea"!==this.type},isPhone:function I(){var t=l.trim(this.cpn.account.val());return"bind"!==this.type||/^\d+$/.test(t)},_getData:function L(t){var e=l.trim(t.avatar);return{avatar:e?['<div class="complete-avatar">','<a class="avatar-pic js-avatar" href="javascript:void(0);">','<img src="'+e+'" height="80" width="80">','<div class="change-photo"></div>',"</a>","</div>"].join(""):""}}})},function(t,e,i){t.exports=i(4)(38)},function(t,e,i){t.exports=i(4)(19)},function(t,e,i){var n=i(1),o=i(7),a=i(9),r=i(2),s=(i(0),i(14)),c=i(3),l=i(5),d=i(12),u=t.exports=r.create();r.mix(u,o,{_template:['<div class="wrapper-content clearfix">','<div class="form-group verify-box">','<label class="control-label">验证码</label>','<div class="control-group">','<input type="text" class="popupcaptcha-val" />',"</div>",'<img class="verify-pic" alt="验证码图片" src="#{src}" />','<a href="javascript:void(0);" class="change-verify">看不清，换一张</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.ipt=t.find("input.popupcaptcha-val"),this.image=t.find("img.verify-pic"),this.ipt.focus()}},{name:"click a.change-verify",handler:function(t){var e=n(t.currentTarget);if(!a.mark(e)){var i=n('<img class="verify-pic" alt="验证码图片" src="'+this.getImgSrc()+'" />');this.image.replaceWith(i),this.image=i,this.ipt.val("").focus(),a.pause(e)}}},{name:"keydown input.popupcaptcha-val",type:"bind",handler:function(t){13===t.keyCode&&this.popup&&this.popup.ok()}}],show:function p(e){var i=new u(e=e||{});c.wrap(i,{title:e.title||"请输入验证码",content:i.html(),width:400,okTxt:"确定",cancelTxt:"取消",ok:function(){var t=n.trim(i.ipt.val());if(!t)return i.ipt.focus(),!0;e.call&&e.call({code:t})},cancel:function(){e.cancel&&e.cancel()}});return i}},{getImgSrc:function f(){var t=this.rawConfig,e=t.type||d.captcha.refAnswer,i=t.url||l.getCaptchaUrl({params:{type:e}});return s.addParam({t:(new Date).getTime()},i)},_getData:function h(t){return{src:this.getImgSrc()}}})},function(t,e,d){var r;d(106);var n=d(15),l=d(1),i=d(7),o=(d(9),d(2)),u=(d(6),d(11)),p=d(0),f=d(8),s=d(20),c=d(43),h=d(68),a=d(107),g=d(108),v=d(109),m=t.exports=o.create();function w(t,e){return h.md2html(t,e)}o.mix(m,i,{_template:['<div class="editor-box ke-container ke-container-nowcoder">','<div class="ke-toolbar"></div>','<div style="background:#ffffff;overflow:hidden;" class="ke-edit clearfix">','<textarea class="ke-edit-textarea ke-md-textarea js-ipt"></textarea>','<textarea class="ke-edit-textarea ke-md-textarea js-bak-ipt" style="position:absolute;top:0;left:0;display:none;height:0;overflow:hidden;"></textarea>','<div class="ke-md-edit-preview"><iframe hidefocus="true" allowtransparency="true" frameborder="0"></iframe></div>','<div class="js-fold unfold-textarea"></div>','<div class="js-fold fold-textarea"></div>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;t.getEl();t.initEl(),t.iptEl.attr("placeholder",l.trim(e.placeholder)||"请使用gfm规范"),t.iptEl.val(e.content||""),t.initPreview(),t.initAutoHeight(),t.initToolBar(),t.showPreview(!e.noPreivew),t.initContentChange(),t.initEvent(),e.disabled&&t.disable(),e.content&&t.fire("afterChange"),t.history.record(),t.initPlugin()}},{name:"click .js-insert-md",handler:function(t){var e=l(t.currentTarget),i=l.trim(e.attr("data-type"));i&&this.insertMd(i)}}],loadDep:function y(i){n.use(["ncPlugin/kindeditor/kindeditor/themes/nowcoder/nowcoder.css?t=7","ncPlugin/highlighter/highlighter","ncPlugin/md/markdown","ncPlugin/md/to-markdown","ncPlugin/md/markdown","ncPlugin/md/to-markdown"],function(t,e){r=e,i&&i()})},html2md:function b(t){return h.html2md(t)},md2html:w},{initialize:function x(){this.isMd=!0},initEl:function C(){var t=this,e=t.getEl();t.toolbarEl=e.find("div.ke-toolbar"),t.bodyEl=e.find("div.ke-edit"),t.iptEl=e.find("textarea.js-ipt"),t.bakIptEl=e.find("textarea.js-bak-ipt"),t.previewEl=e.find("div.ke-md-edit-preview"),t.iframeEl=t.previewEl.find("iframe"),t.iframeDoc=t.iframeEl.get(0).contentDocument||t.iframeEl.get(0).contentWindow.document,t.iframeWin=t.iframeEl[0].contentWindow,t.unfoldEl=e.find("div.unfold-textarea"),t.foldEl=e.find("div.fold-textarea"),t.selection=new a({input:t.iptEl}),t.cmd=new g({editor:t}),t.history=new v({editor:t})},initEvent:function E(){var i=this,n=i.rawConfig,t=i.getEl(),e=i.iptEl,o=(i.cmd,i.history),a="macintosh"===(s.getOs()||{}).os;t.on("click","div.js-editor-mask",function(){return n.clickMask&&n.clickMask.call(i)}),e.on("keydown",function(t){var e=t.keyCode;9===e?(t.preventDefault(),i.selection.insert("    ")):(t.ctrlKey||t.metaKey)&&(89===e||t.shiftKey&&90===e?(t.preventDefault(),o.redo()):90===e?(t.preventDefault(),o.undo()):13===e&&(a&&t.metaKey||!a&&t.ctrlKey)&&(t.preventDefault(),i.fire("pressEnter"),n.pressEnter&&n.pressEnter()))})},initPlugin:function k(t){var e=this,i=d(110),n=d(111),o=d(112),a=d(113),r=d(128),s=d(129),c=d(130),l=[i,n,o,a,r,s,c];p.forEach(l,function(t){new t(e)})},initPreview:function S(){var i=this,t=i.getEl(),e=i.rawConfig,n=u.frequency(500),o=i.iframeDoc;function a(){n(function(){if(i.isInPreview){var t=i.iptEl.val(),e=i.getMdHtml(t,{showLine:!0});i.iframeDoc.body.innerHTML=e||"",r.init(l(i.iframeDoc.body).find("pre.prettyprint")),i.fire("updatePreview")}})}o.open(),o.write('<html><head><meta charset="utf-8" /><title>预览</title><link rel="stylesheet" href="https://static.nowcoder.com/nc/plugin/1.0.17/release/highlighter/style/shCoreDefault.css"><style>'+c.css+'</style></head><body style="overflow-y:'+(e.noAutoHeight?"auto":"hidden")+';margin:5px 5px 5px 21px;"></body></html>'),o.close(),i.listen("afterChange",a),i.listen("showPreview",a),t.find(".js-fold").on("click",function(t){var e=l(t.currentTarget);i.showPreview(e.hasClass("fold-textarea"))})},initAutoHeight:function T(){var t=this,e=t.rawConfig,i=t.iptEl,n=u.frequency(100);function o(){n(function(){t.reWidth((t.lastSize||{}).width),t.autoHeight()})}t.listen("afterChange",o),i.on("keyup",o),i.on("keydown",o),i.css("overflow-y",e.noAutoHeight?"auto":"hidden")},initContentChange:function j(){var e,t,i=this,n=i.rawConfig,o=i.iptEl,a=i.history,r=u.frequency(800,!0);i.listen("destroy",function(){window.clearInterval(t)});var s=o.val()||null;function c(){r(function(){var t=o.val();e!==t&&(e=t,i.fire("draftChange"),n.draftChange&&n.draftChange.call(i,i.val()))})}f.bindChange(o,function(){var t=o.val();t!==s&&(s=t,a.record(),c(),i.fire("afterChange"))}),n.draftChange&&(t=window.setInterval(c,1600))},initToolBar:function _(t){var i=this,e=i.rawConfig,n=i.toolbarEl,o=i.history,a=i.cmd;t=t||"preview,|,bold,italic,|,codeblock,bockquote,insertorderedlist,insertunorderedlist,link,|,image,|,math,removeformat".split(","),t=e.isAdmin?t:"preview,|,bold,italic,|,codeblock,bockquote,insertorderedlist,insertunorderedlist,|,image,|,math,removeformat".split(",");var r=h.getToolbarHtml(t);n.append(r),n.on("click",".ke-toolbar-icon",function(t){t.preventDefault();var e=l(t.currentTarget).attr("data-name");e&&a[e]&&a[e](),i.fire("afterChange"),o.record(!0)})},insertMd:function I(t){var i=this,n=(i.selection,i.iptEl),e=t&&{h1:"\n# 标题\n",h2:"\n## 标题\n",h3:"\n### 标题\n",hr:"\n---\n",strong:" **加粗** ",em:" *斜体* ",code:" `行内代码`",blockcode:"\n```\n代码块\n```\n",ul:"\n- 无序列表内容\n- 无序列表内容\n",ol:"\n1. 有序列表内容\n2. 有序列表内容\n",blockquote:"\n> 引用内容\n",link:" [链接标题](https://www.nowcoder.com) ",image:' ![图片说明](https://static.nowcoder.com/images/logo_87_87.png "图片标题") '}[t]||"";e&&function o(t){var e=n.range().start;n.caret(e),n.range(t),n.caret(e+t.length),i.fire("afterChange")}(e)},val:function L(t){if(0===arguments.length){var e=this.iptEl.val();return this.getMdHtml(e)}var i=m.html2md(t);this.text(i)},text:function P(t){if(0===arguments.length)return this.iptEl.val();this.iptEl.val(t||""),this.fire("afterChange")},blur:function A(){this.iptEl.blur()},focus:function M(){this.iptEl.focus(),this.selection.focus()},disable:function z(t){var e=this.getEl(),i=e.find(".js-editor-mask");if(!(t=!1!==t))return i.hide();0===i.length&&(i=l('<div class="js-editor-mask" style="background:#fff;opacity:0;filter:alpha(opacity=0);position:absolute;width:100%;height:100%;top:0;left:0;z-index:999;"></div>'),e.append(i));i.show()},isEmpty:function D(){return!l.trim(this.text())},showPreview:function H(t){var e=this,i=e.rawConfig,n=e.getEl();t=!1!==t,e.isInPreview=t,n[t?"removeClass":"addClass"]("ke-md-no-preview"),e.selectToolbarItem("preview",t),e.fire("showPreview",t);var o=e.lastSize||{},a=o.width||i.width||"auto",r=o.height||Math.max(+i.height||0,150);e.resize(a,r)},resize:function F(t,e){var i=this,n=i.rawConfig;i.getEl();if(i.lastSize={width:t,height:e},i.reWidth(t),e){var o=i.toolbarEl.outerHeight(),a=Math.max(e-o-2,0);if(i._editHeight=a,n.noAutoHeight){i.bodyEl.outerHeight(a);var r=i.bodyEl.height();i.iptEl.outerHeight(r),i.previewEl.outerHeight(r)}else i.autoHeight()}(t||e)&&i.fire("resize")},reWidth:function R(t){var e=this,i=e.getEl(),n=e.lastSize&&e.lastSize.width===t;e.lastSize&&(e.lastSize.width=t),!n&&t&&i.css("outerWidth",t)},autoHeight:function N(){var t=this,e=t.rawConfig,i=t.getEl();if(e.noAutoHeight)return;var n=f.getScrollParent(i),o=(n=l(n||window)).scrollTop(),a=t.isInPreview?t.getIframeHeight():0,r=t.getTxtHeight(),s=Math.max(a,r,t._editHeight);if(t._lastHeight===s)return;t.bodyEl.outerHeight(s),t.iptEl.outerHeight(s),t.previewEl.outerHeight(s),t.iframeEl.outerHeight(s);var c=t._lastHeight?s-t._lastHeight:0;t._lastHeight=s,n.scrollTop(o+c)},selectToolbarItem:function U(t,e){var i=this.toolbarEl.find("a[data-name="+t+"]").parent();i[(e=!1!==e)?"addClass":"removeClass"]("ke-on"),i[e?"attr":"removeAttr"]("data-on",1)},getTxtHeight:function B(){var t=this.bakIptEl;t.width(this.iptEl.width()),t.val(this.iptEl.val()).show();var e=t.get(0).scrollHeight;return t.hide(),e},getIframeHeight:function q(){var t=this.iframeEl.height(),e=this.iframeDoc.body;this.iframeEl.height(1);var i=e.scrollHeight;return this.iframeEl.height(t),i},getMdHtml:w})},function(t,e,i){var n=i(15),o=i(0),a=i(1),r=i(6);t.exports={html2md:function s(t){t=a.trim(t);var e=n.require("ncPlugin/md/to-markdown"),i=t?e(t,{gfm:!0,converters:[{filter:"pre",replacement:function(t){return("```\n"+t+"\n```").replace(/\n+/gi,"\n")}},{filter:"em",replacement:function(t){return"*"+t+"*"}},{filter:"address|center|dir|div|dl|fieldset|form|isindex|iframe|menu|table|thead|tbody|tr".split("|"),replacement:function(t){return t+"\n\n"}},{filter:"td",replacement:function(t){return t+" "}}]}):"";return i=i.replace(/<.*?>/gi,"")},md2html:function c(t,e){var i=n.require("ncPlugin/md/markdown");if(this._initMd||i.setOptions({gfm:!0,breaks:!0,tables:!0,sanitize:!1,langPrefix:"lang-"}),this._initMd=!0,a.trim(t)){return i(t,e)}return t},getToolbarHtml:function l(t){var i={preview:"预览",bold:"粗体",italic:"斜体",codeblock:"代码",bockquote:"引用",insertorderedlist:"编号",insertunorderedlist:"项目符号",link:"超级链接",image:"图片",table:"表格",math:"插入公式",removeformat:"清除全部格式"};return o.map(t,function(t,e){return t=a.trim(t),r.execTpl("|"===t?'<span class="ke-inline-block ke-separator"></span>':'<span class="ke-outline" data-title="#{name}"><a href="javascript:void(0);" data-name="#{key}" class="ke-toolbar-icon ke-toolbar-icon-url ke-icon-#{key}"></a></span>',{key:t,name:i[t]})})}}},function(t,e,i){var n=i(15),u=i(1),a=i(33),o=i(7),r=i(2),s=i(20),c=i(0),p=i(8),l=i(12),d=i(43),f=i(114),h=t.exports=r.create();r.mix(h,o,{_template:'<div style="position:relative;"></div>',listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;t.getEl();t.initEvent(),t.initPlugin(),e.disabled&&t.disable(),t.resize(e.width,e.height),t.initKe()}},{name:"destroy",type:"custom",handler:function(){try{this.keEditor.remove()}catch(t){}}}],create:function g(t,e){if(0===(t=u(t)).length)return;var i=(t.prop("tagName")||"").toLowerCase(),n="input"===i||"textarea"===i;return new h(c.extend({renderTo:t,renderBy:"replaceWith",content:n?t.val():"",height:Math.max(t.outerHeight(),200)},e))},loadDep:function v(t){n.use(["ncPlugin/kindeditor/kindeditor","ncPlugin/kindeditor/kindeditor/themes/nowcoder/nowcoder.css?t=4"],t)}},{initialize:function m(t){this._createdQueue=[]},initKe:function w(){this._initKePlugin();var t=this.getEl(),e=u("<div></div>");t.append(e);var i=this.keEditor=window.KindEditor.create(e.get(0),this._getConf()),n=i.html;i.html=function(t){return t?(t=t.replace(/\u00A0/g,"&nbsp;"),n.call(this,t)):n.apply(this,arguments)}},initPlugin:function y(){var e=this;e.waitCreated(function(){var t=[i(115),i(117),i(118),i(119),i(120),i(121),i(122),i(123),i(124),i(125),i(126),i(127)];c.forEach(t,function(t){new t(e)})})},initEvent:function b(){var n=this,o=n.rawConfig,t=n.getEl();if(n._initEvent)return;n._initEvent=!0,n.listen("afterCreate",function(){if(!n._afterCreate){n._afterCreate=!0,o.content&&n.val(o.content),c.forEach(n._createdQueue,function(t){return t&&t.call(n)}),n._createdQueue.length=0,t.on("click","div.js-editor-mask",function(){try{o.clickMask&&o.clickMask.call(n)}catch(t){}}),o.afterCreate&&o.afterCreate.call(n);var i=u(n.getEditorDoc());i.on("keydown",function(t){t.keyCode;var e="macintosh"===(s.getOs()||{}).os;13===t.keyCode&&(e&&t.metaKey||!e&&t.ctrlKey)&&(t.preventDefault(),i.blur(),n.fire("pressEnter"),o.pressEnter&&o.pressEnter())})}}),n.listen("afterChange",function(){var t=n.keEditor,e=t.edit.cmd.range;n.isInTagNode(e.startContainer,"blockquote")||n.isInTagNode(e.endContainer,"blockquote")?t.toolbar.select("bockquote"):t.toolbar.unselect("bockquote");var i=n.isInTagNode(e.startContainer,"pre")||n.isInTagNode(e.endContainer,"pre");t.edit.designMode&&(i?(t.toolbar.disableAll(!0,["source","codeblock"]),t.toolbar.select("codeblock")):(t.toolbar.disableAll(!1),t.toolbar.unselect("codeblock"))),o.afterChange&&o.afterChange.call(n)}),n.listen("afterBlur",function(){o.afterBlur&&o.afterBlur.call(n)}),n.listen("afterFocus",function(){o.afterFocus&&o.afterFocus.call(n)})},val:function x(){return this.keEditor.html.apply(this.keEditor,arguments)},text:function C(){return this.keEditor.text.apply(this.keEditor,arguments)},iframeHtml:function E(){var t=this.keEditor;try{if(t.isCreated)return t.edit.doc.body.innerHTML;var e=t.srcElement;return{button:1,input:1,select:1,textarea:1}[(((e=e&&e.get?e.get(0):e)||{}).nodeName||"").toLowerCase()]?(e.value||"").replace(/(<(?:p|p\s[^>]*)>) *(<\/p>)/gi,""):e?e.innerHTML:""}catch(i){return""}},count:function k(){return this.keEditor.count("text")},blur:function S(){try{this.keEditor.blur()}catch(t){}},focus:function T(){try{this.keEditor.focus()}catch(t){}},disable:function j(e){var i=this.getEl();this.waitCreated(function(){var t=i.find(".js-editor-mask");if(!1===e)return t.hide();0===t.length&&(t=u('<div class="js-editor-mask" style="background:#fff;opacity:0;filter:alpha(opacity=0);position:absolute;width:100%;height:100%;top:0;left:0;z-index:999;"></div>'),i.append(t)),t.show()})},isEmpty:function _(){return this.keEditor.isEmpty()},resize:function I(n,o){var a=this,r=a.rawConfig,s=a.getEl();a.waitCreated(function(){var t=a.keEditor;if(n&&s.outerWidth(n),a.getEditorEl().width("auto"),o){var e=a.getToolbarEl().outerHeight(),i=!r.noAutoHeight;o=Math.max(o-e-2,0),i&&(t.edit._editHeight=o+"px"),i&&a.autoHeight(),i||t.edit.setHeight(o)}})},autoHeight:function L(t){var e=this,i=e.rawConfig,n=e.keEditor,o=e.getEditorDoc();if(i.noAutoHeight)return;if(!t){var a=e.getEditorEl();t=p.getScrollParent(a),t=u(t||window)}var r=t.scrollTop();n.edit.setHeight(1);var s=o.body.scrollHeight;u(e.getEditorDoc().body).css("overflow","hidden"),e.getEditorEditEl().css("overflow","hidden").height(1),s=Math.max(s,o.body.scrollHeight);var c=e._lastHeight?s-e._lastHeight:0;e._lastHeight=s;var l=parseInt(n.edit._editHeight||0,10)||0;s=Math.max(s,l),n.edit.setHeight(s),t.scrollTop(r+(s===l?0:c))},waitCreated:function P(t){var e=this.keEditor;e&&e.isCreated?t&&t.call(this):this._createdQueue.push(t)},getEditor:function A(){return this.keEditor},getEditorDoc:function M(){return this.keEditor.edit.doc},getEditorWin:function z(){return this.keEditor.edit.win},getEditorEl:function D(){return u(this.keEditor.container[0])},getEditorEditEl:function H(){return u(this.keEditor.edit.div)},getToolbarEl:function F(){return u(this.keEditor.toolbar.div.get(0))},getCmdClosestEl:function R(){var t=this.keEditor.cmd.range.startContainer;for(;t&&1!==t.nodeType;)t=t.parentNode;return t},isInTagNode:function N(t,e){if(!t||!e)return!1;var i=!1;e=e.toLowerCase();try{for(;t;){var n=(t.tagName||"").toLowerCase();if(n&&n===e){i=!0;break}t=t.parentNode}}catch(o){}return i},removePlaceHolder:function U(){u(this.getEditorDoc()).find("#kePlaceholder").remove()},getElPos:function B(t){var e=this.getEl(),i=this.getEditorDoc(),n=u(i.body),o=p.getPosTop(t,n),a=p.getPosLeft(t,n),r=p.getPosTop(e),s=p.getPosLeft(e),c=this.getToolbarEl().outerHeight(),l=n.scrollTop(),d=n.scrollLeft();return{top:o+r+c-l,left:a+s-d}},_getConf:function q(){var t=this,e=t.rawConfig,i=c.clone(a.get());i.type=l.uploadType.image,i.watermark="true",i.token=a.get("csrf_token");var n={allowNCFileUpload:!0,allowFileManager:!0,filterMode:!e.noFilterHtml,themeType:"nowcoder",uploadJson:"/uploadImage",extraFileUploadParams:i,resizeType:0,height:(e.height||300)+"px",newlineTag:"div",cssData:d.css,items:f.getToolItems({isAdmin:e.isAdmin,isVote:!!e.cbEditVote}),htmlTags:{span:".color,.font-weight,.vertical-align".split(","),div:"align,.text-align,.color,.vertical-align".split(","),table:"border,cellspacing,cellpadding,height,align,bordercolor,.padding,.margin,.border,bgcolor,.text-align,.color,.background-color,.font-weight,.text-decoration,.background,.height,.border-collapse".split(","),"td,th":"align,valign,width,height,colspan,rowspan,bgcolor,.text-align,.color,.background-color,.font-weight,.text-decoration,.vertical-align,.background,.border".split(","),a:"href,target,name,data-card-uid".split(","),embed:"src,width,height,wmode,name,allowfullscreen,flashvars,type,loop,autostart,quality,.width,.height,align,allowscriptaccess".split(","),object:"classid,width,height,id".split(","),param:"name,value".split(","),video:"autoplay,controls,height,loop,muted,poster,preload,src,playsinline,.width,.margin".split(","),img:"id,src,width,height,border,alt,title,align,data-card-emoji,data-vote-id,.width,.height,.border".split(","),"p,ol,ul,li,blockquote,h1,h2,h3,h4,h5,h6":"align,.text-align,.color,.font-weight,.vertical-align".split(","),pre:["class"],hr:"class,.page-break-after".split(","),iframe:"frameborder,width,height,src,allowfullscreen".split(","),"br,tbody,tr,strong,b,sub,sup,em,i,u,strike,s,del":[]}},o=c.extend(n,e.keConf,{placeholder:e.placeholder,afterCreate:function(){t.keEditor=t.keEditor||this,t.fire("afterCreate")},afterChange:function(){t.keEditor=t.keEditor||this,t.waitCreated(function(){t.fire("afterChange")})},afterBlur:function(){t.keEditor=t.keEditor||this,t.fire("afterBlur")},afterFocus:function(){t.keEditor=t.keEditor||this,t.fire("afterFocus")}});e.noCodeSelect||c.forReverse(o.items,function(t,e){"codeblock"===t&&o.items.splice(e,1)});return o},_initKePlugin:function O(){var o=this;if(h._initKePlugin)return;h._initKePlugin=!0,window.KindEditor.plugin("bockquote",function(){var n=this;n.clickToolbar("bockquote",function(){if(u("#kePlaceholder",n.edit.doc).remove(),n.select(),e=n.cmd.commonNode({blockquote:"*"})){var t=n.cmd.range.createBookmark();e.remove(!0),n.cmd.range.moveToBookmark(t)}else{var e;if(n.cmd.indent(),e=n.cmd.commonNode({blockquote:"*"})){try{n.cmd.range.selectNodeContents(e),n.cmd.removeformat()}catch(i){}e.removeAttr("style"),e.next()||e.after("<br />")}}n.select(),o.fire("afterChange")})}),window.KindEditor.plugin("codeblock",function(){var n=this;n.clickToolbar("codeblock",function(){if(u("#kePlaceholder",n.edit.doc).remove(),n.select(),e=n.cmd.commonNode({pre:"*"})){var t=n.cmd.range.createBookmark();e.remove(!0),n.cmd.range.moveToBookmark(t)}else{var e;if(n.exec("formatblock","<pre>"),e=n.cmd.commonNode({pre:"*"})){try{n.cmd.range.selectNodeContents(e),n.cmd.removeformat()}catch(i){}e.addClass("prettyprint"),e.next()||e.after("<br />")}}n.select(),o.fire("afterChange")})})}})},function(t,e,i){var f=i(1),n=i(11),o=i(7),a=i(2),s=i(9),h=i(6),g=i(0),d=i(8),c=i(16),l=i(3),u=i(50),p=i(10),v=i(12),m=i(5),r=i(23),w=i(38),y=i(29),b=t.exports=a.create(),x={6484283:1},C="profile-card-new";a.mix(b,o,{_template:'<div class="'+C+'"></div>',listeners:[{name:"render",type:"custom",handler:function(){this.uid&&this.getUser()}},{name:"click .js-card-action",handler:function(t){var e=f(t.currentTarget),i=f.trim(e.attr("data-type"));i&&this[i]&&this[i](e,t)}}],cache:{},del:{},index:1,go:function E(o,a){var r,s,c=this,l={},d=b._commonCard=b._commonCard||new b({noRender:!0}),u=500,p=100;if(o=f.trim(o),a=a||{},!o)return;if(o=o.replace(/^\.+/,""),i(),a.keep){var t=n.frequency(1e3),e=function e(){return t(i)};return f(document).on("mousemove",e),function(){return f(document).unbind("mousemove",e)}}function i(){var t=f("."+o);g.forEach(t,function(e){e=f(e);var t=f.trim(e.attr("data-card-index")),i=f.trim(e.attr("data-card-uid"));if(!(!i||+i<=0||t&&l[t])){e.removeAttr("title");var n=f.trim(c.index++);e.attr("data-card-index",n),l[n]=!0,a.keepCls||e.removeClass(o),e.on("mouseenter",function(t){window.clearTimeout(s),s=window.setTimeout(function(){d.rawConfig.uid||(d.rawConfig.uid=i),window.clearTimeout(r),d.listen("render",function(){var t=d.getEl();t.on("mouseenter",function(){return window.clearTimeout(r)}),t.on("mouseleave",function(){window.clearTimeout(r),r=window.setTimeout(function(){return d.hide()},p)})}),d.unlisten("userChange"),d.listen("userChange",function(){d.fixPosition(e,a.attachConf),d.getEl().css("visibility","visible")}),d.render(),d.show(),d.getEl().css("visibility","hidden"),d.changeUser(i)},u)}).on("mouseleave",function(){window.clearTimeout(s),window.clearTimeout(r),r=window.setTimeout(function(){return d.hide()},p)})}})}}},{initialize:function k(t){this.uid=g.id(t.uid),t.renderTo=t.renderTo||f(document.body)},actionFollow:function S(n){var o=this;if(!p.isLogin())return o.hide();if(s.mark(n))return;var a=o.data,r=1===a.followedType||3===a.followedType;m[r?"unfollow":"follow"]({body:{id:o.uid,type:v.type.user},call:function(t){var e=t.data,i=e===undefined?{}:e;a.followedType=r?0:i.isAlsoFollow?3:1,n.html(r?"关注":i.isAlsoFollow?"互相关注":"已关注"),n.removeClass("icon-ok icon-plus icon-exchange"),n.addClass(r?"icon-plus":i.isAlsoFollow?"icon-exchange":"icon-ok"),c.fire(u.EVENT_USER_DATA_CHANGE,o.uid,"card")},error:function(t){return l.alert(t.msg)},always:function(){return s.pause(n)}})},actionSendMsg:function T(){this.hide(),p.isActive()&&p.isLogin()&&w.show({title:"发私信",content:"",receiver:{id:this.uid,name:(this.data||{}).name||"牛客用户"}})},actionBlack:function j(t){this.hide(),p.isLogin()&&r.black({id:t.attr("data-id"),name:t.attr("data-name"),black:!this.data.isBlacked,call:function(){return l.tips("操作成功",g.bind(location.reload,location))}})},actionReport:function _(t){this.hide(),p.isLogin()&&y.show({type:v.type.user,entityId:t.attr("data-id")})},attachTo:function I(t,e){var i=this.getEl();if(!(t=f(t)).get(0))return;var n=d.attachTo(g.extend({},e,{el:this.getEl(),target:t,extOffset:{top:5,reverseTop:-5}}));this.topArrow(!!n.verReverse);var o=i.find("div.arrow"),a=t.outerWidth(),r=i.outerWidth(),s=parseInt(i.css("left"),10),c=0;if(n.reverse){o.css("left","50%"),c=1+(r-a)/2;var l=parseInt(o.css("left"),10);o.css("left",Math.min(l+c,r-13))}else if((s-=(r-a)/2)<1&&(c=1-s,s=1),i.css("left",s),o.css("left",(r-o.outerWidth())/2),0<c){l=parseInt(o.css("left"),10);o.css("left",Math.max(l-c,13))}},topArrow:function L(t){var e=this.getEl("div.profile-card-arrow");e.removeClass("bottom"),!0===t&&e.addClass("bottom")},fixPosition:function P(t,e){this.attachTo(t,e)},changeUser:function A(t){var e=this;if((t=g.id(t))&&b.del[t])return e.hide();if(!t||e.uid===t)return e.fire("userChange");e.uid=t,e.getUser()},getUser:function M(){var i=this,n=i.uid,o=b.cache,e=b.del;if(!n)return;if(e[n])return i.hide();if(o[n])return i.renderUser(o[n]);i.renderWait(),m.getUserNameCard({type:"GET",params:{uid:n},call:function(t){if(n===i.uid){var e=t.data;e&&(o[n]=e),i.renderUser(e||{})}},error:function(t){i.renderWait(t.msg),1===t.code&&(i.hide(),e[n]=!0)}})},renderUser:function z(t){var e=this.getEl(),i=this.uid,n="女"===t.gender,o=!!t.hasWorked,a=t.isSelf,r=t.honorLevel,s=+t.monthExpertRank||0,c=+t.weekExpertRank||0,l=s||c;t.gender=n?"女":"男",this.data=t;var d=h.execTpl(['<div class="arrow"></div>','<div class="profile-card-new-info card-bg#{honorLevel} clearfix">','<a class="profile-card-new-avatar" href="javascript:void(0);"><img src="#{headUrl}"></a>','<div class="card-info-main '+(l?"":"no-medal-rank")+'">',"<section>",'<a href="/profile/#{uid}" class="profile-card-new-name target="_blank" title="#{name}">#{name}</a>',n?'<span class="sex-item js-nc-title-tips sex-female" title="#{gender}"><i class="icon-nc-female"></i></span>':'<span class="sex-item js-nc-title-tips sex-male" title="#{gender}"><i class="icon-nc-male"></i></span>',"</section>",o?'<span class="static-now static-work"><i class="icon-briefcase"></i>已工作</span>':'<span class="static-now"><i class="icon-nc-book3"></i>在上学</span>','<div class="card-new-identity">#{identity}</div>',"</div>",l?'<a href="/nowcoders-expert" class="card-medal" target="_blank"><span class="card-medal-rank">'+l+'</span><span class="card-medal-txt">本'+(0<s?"月":"周")+"牛人堂</span></a>":"","</div>",'<div class="card-cont-box">',o?'<span class="static-item" title="#{workInfo}"><i class="icon-nc-company"></i> <span class="static-item-txt">#{workInfo}</span></span>':"",o?'<span class="static-item" title="#{jobInfo}"><i class="icon-briefcase"></i> <span class="static-item-txt">#{jobInfo}</span></span>':"",'<span class="static-item" title="#{eduInfo}"><i class="icon-nc-hat"></i> <span class="static-item-txt" style="max-width:9em;">#{eduInfo}</span></span>',o?"":'<span class="static-item" title="#{workTime}"><i class="icon-time"></i> <span class="static-item-txt">#{workTime}</span></span>',o?"":'<span class="static-item" title="#{jobInfo}"><i class="icon-briefcase"></i> <span class="static-item-txt">#{jobInfo}</span></span>',"</div>",'<div class="card-state-box">','<a href="#{honorLevelUrl}" class="nc-level-tag nc-level#{honorLevel}" target="_blank" style="color:white;"><i class="icon-nc-niu"></i> #{honorLevelName} Lv.#{honorLevelShow}</a>','<ul class="card-state">','<li class="js-nc-title-tips" title="获赞与收藏"><i class="icon-nc-clap"></i> #{likedAndFollowCountStr}</li>','<li class="js-nc-title-tips" title="题目正确"><i class="icon-ok-sign"></i> #{doneRightCountStr}</li>','<li class="js-nc-title-tips" title="编程通过"><i class="icon-nc-code"></i> #{codeRightCountStr}</li>','<li class="js-nc-title-tips" title="产出优质内容"><i class="icon-nc-medal"></i> #{goodUgcScoreStr}</li>',"</ul>","</div>",'<div class="card-btn-box">',a?"":t.isBlacked?'<a href="javascript:void(0);" class="js-card-action btn btn-plain" data-type="actionBlack" data-name="#{name}" data-id="#{uid}"><i class="icon-ban-circle"></i>已拉黑</a>':0===t.followedType||2===t.followedType?'<a href="javascript:void(0);" class="nc-req-auth js-card-action btn btn-plain icon-plus" data-type="actionFollow">关注</a>':1===t.followedType?'<a href="javascript:void(0);" class="nc-req-auth js-card-action btn btn-plain icon-ok" data-type="actionFollow">已关注</a>':'<a href="javascript:void(0);" class="nc-req-auth js-card-action btn btn-plain icon-exchange" data-type="actionFollow">互相关注</a>',a||t.isBlacked?"":'<a href="javascript:void(0);" class="js-card-action btn btn-plain fui-chat nc-req-auth nc-req-active" data-type="actionSendMsg">私信</a>','<a href="/profile/#{uid}" target="_blank" class="btn btn-plain icon-user">个人主页</a>',a||x[i]?"":['<a href="javascript:void(0);" class="icon-reorder link-gray profile-oprt-link">','<div class="tooltip bottom tooltip-info">','<div class="tooltip-arrow"><i></i></div>','<div class="tooltip-inner">','<ul class="profile-oprt-menu">','<li class="js-card-action nc-req-auth" data-type="actionBlack" data-name="#{name}" data-id="#{uid}">'+(t.isBlacked?"移除黑名单":"加入黑名单")+"</li>",'<li class="js-card-action nc-req-auth" data-type="actionReport" data-id="#{uid}">举报TA</li>',"</ul>","</div>","</div>","</a>"].join(""),"</div>"].join(""),g.extend({},t,{uid:i,livePlace:p(t.livePlace)||"待完善",workInfo:p(t.workInfo)||"待完善",eduInfo:p(t.eduInfo)||"待完善",workTime:p(t.workTime)?t.workTime+"毕业":"待完善",jobInfo:p(t.jobInfo)||"待完善",likedAndFollowCountStr:u(t.likedAndFollowCount),doneRightCountStr:u(t.doneRightCount),codeRightCountStr:u(t.codeRightCount),goodUgcScoreStr:u(t.goodUgcScore),honorLevelShow:Math.max(0,(+t.honorLevel||0)-1),honorLevelUrl:a?"/profile/"+i+"/honor/detail":"https://www.nowcoder.com/discuss/455",identity:g.map(t.identityLevel,function(t){return'<img class="'+t.idenClass+'" src="//static.nowcoder.com/nc/image/identity/'+t.level+'.png"><span class="user-name js-nc-title-tips '+(l?"with-rank":"")+'"  title="'+t.name+'">'+t.name+"</span>"}).join(" "),honorLevelName:{1:"蒟蒻牛",2:"小白牛",3:"进阶牛",4:"出师牛",5:"青出于蓝",6:"飞黄腾达",7:"大橘已定",8:"红名大佬"}[r]||(r<1?"蒟蒻牛":8<r?"红名大佬":"---")}));function u(t){return t<=999?t:(t/1e3).toFixed(1)+"k"}function p(t){return t&&0!==t.indexOf("未填写")&&"待完善"!==t?t:""}e.html(d),e.get(0).className=C,this.fire("userChange")},renderWait:function D(t){var e=this.getEl();t=t||"正在加载中...",e.html('<div class="profile-card-arrow"></div><div class="card-btn-box" id="jsLoad" style="font-size:14px;text-align:center;padding:20px 0;">'+t+"</div>"),e.get(0).className=C,this.fire("userChange")}}),c.listen(u.EVENT_USER_DATA_CHANGE,function(t,e){if(t&&(delete b.cache[t],"card"!==e)){var i=b._commonCard;i&&g.id(i.uid)===g.id(t)&&(i.uid="")}})},function(t,e,r){var a=r(15),l=r(1),d=r(0),i=r(2),o=r(7),u=r(9),s=r(8),c=r(41),p=r(16),f=r(17),h=r(139),g=r(3),v=r(30),m=r(12),w=r(5),n=t.exports=i.create();i.mix(n,o,{_template:['<div class="">','<div class="js-tips"></div>','<div class="js-content" style="display:none;"></div>','<div class="js-pager-box" style="display:none;"></div>','<div class="js-reply-box" style="display:none;"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var i=this,t=i.getEl(),n=i.rawConfig;i.contentEl=t.find(".js-content"),i.replyEl=t.find(".js-reply-box"),i.tipsEl=t.find(".js-tips"),i.pageEl=t.find(".js-pager-box"),i.showTips("加载中...");var e=r(72),o=r(73);if(i.cmtClazz=n.cmtClazz||{bbs:e,wonderful:e,accept:e,sub:o}[n.type],!i.cmtClazz)return i.showTips("缺少评论模板");var a=d.id(n.commentId);a||i.refresh(),a&&w.cmtGetPageNumV2({query:{pageSize:i.pageSize,order:i.order,entityId:n.entityId,entityType:n.entityType,commentId:n.commentId},call:function(t){var e=t.data;i.page=+e.pageNum,a=n.commentId=e.toFirstLevelCommentId},always:function(){i.refresh(function(){window.setTimeout(function(){return i.scrollToId(a,!0,!0)},1e3)})}}),i.initReply()}}]},{initialize:function y(t){var e=this;t.type=t.type||"bbs",e.isWonderful="wonderful"===t.type,e.isAccept="accept"===t.type,e.isSubCmt=!!t.isSubCmt||"sub"===t.type,e.totalCount=-1,e.page=t.page,e.pageSize=t.pageSize||(e.isWonderful||e.isAccept?10:20),e.cmtList=[],e.order=d.id(t.order)||"1";var i=t.extCmts;e.extCmts=i?d.isArray(i)?i:[i]:[]},initTheme:function b(){var t=this.contentEl;o.recycle(t,!1);var e=this.cmtClazz._listTemplate||"";t.html(e).show(),this.listEl=t.find(".js-list")},initReply:function x(){var n=this,o=n.rawConfig,t=n.replyEl;if(!o.needReply||o.isDisableReply)return;var a=new(r(47))({renderTo:t,listeners:{render:function(){var t=this.ipt;o.currentUid||t.on("click",function(){t.blur(),p.fire("window:showAuthDialog")})},goAddCmt:function(t,e){var i=d.id(o.entityType)===d.id(m.type.comment)?o.entityId:null;u.mark(e)||n.createCmt({isText:!0,content:t,toUserId:o.userId||0,toCommentId:i,call:function(t){var e=d.id(t.data);e&&n.scrollToId(e),e||n.scrollToTop(),a.val("")},always:function(){return u.clear(e)}})}}});t.show()},changeOrder:function C(t){t=d.id(t)||"1",this.order!==t&&(this.order=t,this.renderPage(1))},refresh:function E(t){this.renderPage(this.page,t)},renderPage:function k(i,n){var o=this,a=o.rawConfig;o.getListData(i,function(t,e){0<(o.extCmts||[]).length&&0<(e.comments||[]).length&&i===a.page&&(e.comments=o.extCmts.concat(e.comments)),o.renderList(t,e),n&&n(t,e)})},renderList:function S(t,e){var i=this,n=(i.rawConfig,e.comments);if(i.cmtList.length=0,i.showTips(!1),i.initTheme(),0===n.length)i.renderNone();else{var o=0;d.forEach(n,function(t){i.renderCmtItem(t,o),t.isFeedAd||o++})}i.renderPager(t,e.totalPage),i.fire("listDataChange",{totalCount:i.totalCount}),a.use("ncPlugin/highlighter/highlighter",function(t){t.init()})},renderCmtItem:function T(t,e){var i=this,n=i.rawConfig,o=i.cmtClazz,a=i.order,r=e+(i.page-1)*i.pageSize,s=o.initConf(t,{renderTo:i.listEl,postId:n.postId||n.entityId,parentId:n.entityId,isAdmin:n.isAdmin,isAward:n.isAward,isDisableReply:n.isDisableReply,needWonderful:n.needWonderful,needLitigant:n.needLitigant,needSubReport:n.needSubReport,needShare:n.needShare,lordUid:n.lordUid,entityUid:n.userId,entityId:n.entityId,entityType:n.entityType,currentUid:n.currentUid,index:"0"===a?i.totalCount-r-1:"1"===a?r:undefined,extHeight:n.extHeight,clsUserCard:n.clsUserCard||"js-nc-card",clsHonorLevel:n.clsHonorLevel||"level-color-#{honorLevel}",urlProfile:n.urlProfile||"/profile/#{authorId}",extParam:n.extParam,typeStatus:{isSubCmt:i.isSubCmt,isWonderful:i.isWonderful,isAccept:i.isAccept},listeners:{goAddCmt:function(t,e){t&&!u.mark(e)&&i.createCmt(d.extend(t,{isText:!0,always:function(){return u.clear(e)}}))},delCmt:function(){i.totalCount--,i.refresh()},wonderfulCmt:function(){return i.fire("wonderfulChange")},litigantCmt:function(){return i.fire("litigantChange")},acceptCmt:function(){n.isAward=!1,i.fire("acceptChange")}}});t=new o(s);if(i.cmtList.push(t),n.fixCmtItem&&n.fixCmtItem(t),n.autoOpenSubCmt&&0!==s.commentCnt){var c=l(t.getActionEl().find("a.js-cmt-action")[0]);u.mark(c)||t.openSubCmt(c)}},renderNone:function j(){var t=this.rawConfig,e=(this.getEl(),t.noneTips||this.cmtClazz._noneTemplate||"没有数据");this.contentEl.html(e)},renderPager:function _(t,e){var i=this,n=(i.getEl(),i.pageEl);o.recycle(n,!1),n[1<e?"show":"hide"](),new h({renderTo:n,renderBy:"html",current:t,total:e,pageChange:function(t){return i.renderPage(t,function(){return i.scrollToTop()})}})},getListData:function I(i,n){var o=this,t=o.rawConfig;o.getEl();-1===(i=i||t.page||1)&&0<=o.totalCount&&(i=c.page(o.totalCount,o.pageSize));var e=o.isAccept?"cmtGetAcceptedList":o.isWonderful?"cmtGetWonderfulList":"cmtGetByPageV2";w[e]({query:d.extend({pageSize:o.pageSize,page:Math.max(i,1),order:o.order,entityId:t.entityId,entityType:t.entityType},t.extParam),call:function(t){var e=t.data;if(-1===i||0!==e.totalCnt&&0===e.comments.length)return o.renderPage(e.totalPage);o.totalCount=e.totalCnt,o.page=i,o.pageSize=e.pageSize,n(i,e)},error:function(t){return o.showTips(t.msg)}})},createCmt:function L(e){var n=this,t=n.rawConfig,i=e.content,o=e.isText?l.trim(i):l.trim(i.replace(/<\s*\/?\s*[a-z1-9]+.*?>/gi,"")),a=/<img.+>/gi.test(i);if(a||o)if(!a&&o.length<5&&!f.get("noReplyIrrigationAlert")){var r=g.confirm("灌水的话可能会被管理员删除的，确定现在提交吗？",s,e.always);new v({renderTo:r.popupFooter,text:"以后不再提示"}).listen("change",function(){f.set("noReplyIrrigationAlert",this.isChecked())})}else s();else g.alert("内容不能为空"),e.always&&e.always();function s(){w.cmtAdd({captcha:{type:m.captcha.postComment},body:{entityType:t.entityType,entityOwnerId:t.entityOwnerId||0,entityId:t.entityId,toFeed:e.toFeed?"true":"false",commentContent:i,toUserId:e.toUserId,toCommentId:e.toCommentId},call:function(i){n.page;n.totalCount++,n.renderPage(-1,function(t,e){!n.isSubCmt&&d.id(i.data)?n.scrollToId(i.data,!1,!0):n.scrollToTop()}),e.call&&e.call(i)},error:function(t){g.alert(t.msg),e.error&&e.error(t)},always:e.always})}},scrollToTop:function P(t){var e=this.rawConfig,i=e.renderTo;s.scrollToEl({el:i,scrollEl:s.getScrollParent(i),animation:!!t,ext:+e.extHeight||0})},scrollToId:function A(e,t,i){var n=this.rawConfig,o=(this.cmtList,d.find(this.cmtList,function(t){return d.id(t.rawConfig.id)===d.id(e)}));if(o){var a=o.getEl();s.scrollToEl({el:a,scrollEl:s.getScrollParent(a),animation:!!t,ext:+n.extHeight||0}),i&&s.highLight({el:a})}},showTips:function M(t){this.getEl();var e=this.tipsEl;if(!t||!l.trim(t))return e.hide().html("");e.html('<div style="padding:20px 0;text-align:center;font-size:14px;">'+t+"</div>").show()}})},function(t,e,i){i(1),i(0);var n=i(2),o=i(46),a=t.exports=n.create();n.mix(a,o,{_template:['<div class="answer-list-item clearfix js-copy-mark" data-mark-info="作者：#{authorName}">','<div class="answer-content clearfix">','<a class="answer-head #{clsUserCard}" data-card-uid="#{authorId}" href="#{urlProfile}" target="_blank">','<img alt="#{authorName}头像" src="#{headImg}">',"</a>",'<div class="answer-detail">',"<p>",'<a title="#{authorName}" href="#{urlProfile}" target="_blank" data-card-uid="#{authorId}" class="js-copy-tip #{clsUserCard} #{clsHonorLevel} answer-name">#{authorName}</a>'," #{identityStr}"," #{entityOwnerStr}","#{floorStr}","#{acceptStr}","#{litigantStr}","</p>",'<div class="answer-brief nc-post-content">#{content}</div>','<div class="answer-legend js-action">','<span class="answer-time">发表于 #{createTime}</span>','<a href="javascript:void(0);" class="js-cmt-action" data-action="reply">回复(#{commentCnt})</a>','<a href="javascript:void(0);" class="js-cmt-action" data-action="like">#{likeTxt}(#{likes})</a>',"</div>",'<div class="reply-box js-sub-cmt-list" style="display:none;"></div>',"</div>","</div>","</div>"].join(""),_listTemplate:'<div class="answer-list discuss-topic-answers js-list"></div>',_noneTemplate:['<div class="blank-box">','<div class="blank-img"><img src="//static.nowcoder.com/images/sofa.png"></div>',"<p>帖子还没人回复，快来抢沙发！</p>","</div>"].join("")},{getActionEl:function r(){return this.getEl().find(".js-action")},getSubCmtEl:function s(){return this.getEl().find(".js-sub-cmt-list")}})},function(t,e,i){i(1);var a=i(0),n=i(2),r=i(6),o=i(9),s=i(46),c=i(47),l=t.exports=n.create();n.mix(l,s,{_template:['<div class="reply-list-item js-copy-mark" data-mark-info="作者：#{authorName}">','<div class="reply-main clearfix">','<div class="reply-person" style="margin-right:5px;">','<a href="#{urlProfile}" target="_blank" data-card-uid="#{authorId}" class="js-copy-tip #{clsUserCard} #{clsHonorLevel}">#{authorName}</a>'," #{identityStr}"," #{entityOwnerStr}","#{authorExt}","</div>",'<div class="reply-content">#{content}</div>',"</div>",'<div class="answer-legend reply-info js-sub-action">','<span class="reply-time">#{createTime}</span>','<a href="javascript:void(0);" class="reply-answer js-cmt-action" data-action="reply">回复</a>','<a href="javascript:void(0);" class="reply-like js-cmt-action" data-action="like">#{likeTxt}(#{likes})</a>',"</div>",'<div class="js-sub-reply" style="display:none;"></div>',"</div>"].join(""),_listTemplate:'<div class="reply-list js-list"></div>',_noneTemplate:" "},{actionReply:function d(t){var i=this,n=i.rawConfig,e=i.getEl().find(".js-sub-reply");if(o.mark(t))return;if(i.replyCpn)return e.slideUp(150,function(){e.hide(),i.replyCpn.destroy(),i.replyCpn=null,e.html(""),o.clear(t)});i.replyCpn=new c({renderTo:e,placeholder:"回复"+n.authorName,listeners:{render:function(){this.getEl().prepend('<div class="toparrow"></div>').css("margin-top",0)},goAddCmt:function(t,e){i.fire("goAddCmt",{content:t,toUserId:n.authorId,toCommentId:n.id},e)}}}),e.slideDown(150,function(){o.clear(t),i.replyCpn.focus()})},getActionEl:function u(){return this.getEl().find(".js-sub-action")},getExtData:function p(){var t=this.rawConfig,e="：";if(t.toUserId&&a.id(t.toCommentId)!==a.id(t.parentId)){var i=a.map(t.toUserIdentity,this._getIdentityStr).join(""),n=a.id(t.toUserHonorLevel);e=r.execTpl(' 回复 <a href="/profile/#{uid}" target="_blank" data-card-uid="#{uid}" class="#{clsUserCard} #{cls}">#{userName}</a> #{toIdentityStr}#{entityOwnerStr}：',{uid:t.toUserId,userName:t.toUserName,clsUserCard:t.clsUserCard||"js-nc-card",cls:n?r.execTpl(t.clsHonorLevel||"level-color-#{honorLevel}",{honorLevel:n}):"",toIdentityStr:i,entityOwnerStr:t.lordUid&&t.lordUid===t.toUserId?'<a href="javascript:void(0);"><img class="identity-icon" src="//uploadfiles.nowcoder.com/images/20190708/56_1562592127316_5889949873E3E23C8A0EC0CC8F6042A8" /></a>':""})}var o=(t.content||"").replace(/\n/gi,"<br />");return o=o.replace(/\s+([^<>]+)(?=<)|\s+([^<>]+)$/g,function(t){return t.replace(/\s/g,"&nbsp;")}),{authorExt:e,content:o}}})},function(t,e,i){var l=i(1),d=i(0),n=i(2),u=i(8),o=i(7),p=i(11),a=i(27),s=i(142),r=t.exports=n.create();n.mix(r,o,{_template:["<div>",'<div class="tags-input-wrap js-tag-wrap" style="margin:0;display:block;">','<label class="icon-tag"></label>','<div class="tags-input-cont" style="cursor:text">','<div class="tag-label-box js-tag-home">','<span class="js-input-wrap">','<input type="text" class="js-input" style="width:5px;padding-left:0;padding-right:0;">',"</span>","</div>","</div>","</div>",'<div class="js-error" style="color:#ff5000;font-size:12px;"></div>','<div class="pop-common-wrap js-common-wrap" style="display:none;">',"<span>常用:</span>",'<div class="pop-common-label js-common-tag"></div>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;t.getEl();t.input=t.getEl(".js-input"),t.resize(),t.initIpt(),t.initCommon(),t.initSuggest(),e.value&&t.val(e.value)}}]},{initialize:function c(t){this.tagList=[],this.suggestMap={},t.maxTagLength=+t.maxTagLength||20},initIpt:function f(){var t,o=this,a=o.rawConfig,e=o.getEl(),i=e.find(".js-tag-wrap"),r=(e.find(".js-input-wrap"),o.input),n=p.frequency(20);function s(t){var e=o.tagList,i=e.length;if(!r.val()&&0<i){var n=e[i-1];o.delTag(n),o.suggest&&o.suggest.attach.fixPosition()}}function c(t){t.preventDefault();var e=(o.suggest||{}).keyboardItem;if(!(e&&0<=e.index)){var i=l.trim(r.val());if(i){var n=o.suggestMap[i];if(!n){if(a.noCustom)return o.showError("暂不支持自定义，请选择已有标签");if(i.length>a.maxTagLength)return o.showError("标签最长"+a.maxTagLength+"个字符");if(!!d.find(a.limitStr,function(t){return 0<=i.indexOf(t)}))return o.showError("标签中包含非法字符")}o.addTag(n?{text:n.text,value:n.value}:{text:i,value:i}),o.input.val(""),o.fixIptWidth(),o.suggest&&o.suggest.attach.fixPosition()}}}i.on("click",function(){r.focus()}),u.bindChange(r,function(){n(function(){o.fixIptWidth(),o.showError(!1)})}),r.on("focus",function(){window.clearTimeout(t),i.addClass("focus"),o.showError(!1)}),r.on("blur",function(){window.clearTimeout(t),t=window.setTimeout(function(){i.removeClass("focus"),o.suggest&&o.suggest.attach.forceHide(),o.fixIptWidth()},200)}),r.on("keydown",function(t){var e={8:s,13:c,32:c,188:c}[t.keyCode+""];e&&e(t)}),o.listen("change",function(){o.fixIptWidth()})},initCommon:function h(){var i=this,t=i.rawConfig,e=i.getEl(),n=e.find(".js-common-tag"),o=[];d.forEach(t.common,function(t){var e=d.isObject(t)?t:{text:t,value:t};l.trim(e.text)&&o.push(e)});var a=o.length;if(e.find(".js-common-wrap")[0===a?"hide":"show"](),0===a)return;var r=d.map(o,function(e){return new s({renderTo:n,text:e.text,value:e.value,needToggle:!0,listeners:{toggle:function(){var t=this.isChecked();t&&i.addTag(e),t||i.delTag(i.getTagByVal(e.text))}}})});i.listen("change",function(){var e=d.toMap(i.tagList,function(t){return{key:t.val(),value:!0}});d.forEach(r,function(t){t.checked(!!e[t.val()])})})},initSuggest:function g(){var o=this,i=o.rawConfig,e=o.input;o.getEl();i.getSuggest&&(o.suggest=a.show({input:e,needReWidth:!0,needSame:!0,noCache:!1,rePositionInList:!0,attach:i.attach,noLeave:!0,defaultIndex:i.noCustom?0:-1,reqList:function(t,e){i.getSuggest(t,function(t){e&&e(t)})},dealList:function(t){var e=[],i=o.suggestMap,n=d.toMap(o.tagList,function(t){return{key:t.val()}});return d.forEach(t,function(t){i[t.text]=t,n[t.value]||e.push(t)}),e},ok:function(t){e.val(""),o.addTag({text:t.text,value:t.value}),o.fixIptWidth(),o.input.focus()}}),o.pushChild(o.suggest))},val:function v(t){var e=this;if(0===arguments.length)return d.map(e.tagList,function(t){return t.val()});d.forEach(e.tagList,function(t){t&&t.destroy()}),e.tagList.length=0,d.forEach(t,function(t){t&&d.isString(t)&&(t={value:t,text:t}),e.addTag(t)})},check:function m(){var t=this.input,e=l.trim(t.val());e&&(t.focus(),this.showError("你还有未保存的收藏标签，请回车生成标签"));return!e},addTag:function w(t){var e=this;if((!t||!e.getTagByVal(t.value))&&t&&t.value&&t.text){var i=new s({renderTo:e.getEl(".js-input-wrap"),renderBy:"before",text:t.text,value:t.value,checked:!0,needDel:!0,listeners:{del:function(){e.delTag(this)}}});i.getEl().css("margin","2px"),e.tagList.push(i),e.fire("change","add",t)}},delTag:function y(t){var e=this.tagList;if(t&&d.contains(e,t)){this.tagList=d.without(e,t),t.destroy();var i=t.rawConfig;this.fire("change","del",{text:i.text,value:i.value})}},hasVal:function b(){return!!(this.input.val()||0<this.tagList.length)},getTagByVal:function x(e){return d.find(this.tagList,function(t){return t.val()===e})},resize:function C(){this.getEl();this.fixIptWidth()},fixIptWidth:function E(){var r=this,t=r.rawConfig,e=r.getEl(),s=r.input,i=e.find(".tags-input-cont"),n=+t.iptMinWidth||130,o=i.width(),a=r.hasVal();a&&function c(t){var e=s[0],i=s.val();if(i!==r._lastVal){r._lastVal=i;var n=parseFloat(s.css("paddingLeft"))+parseFloat(s.css("paddingRight"));if(s.width(1).css("overflowX","hidden"),1<e.scrollWidth){var o=t&&e.scrollWidth>t,a=o?t-n:e.scrollWidth-n;s.width(a),s.css("overflowX",o?"auto":"hidden")}}}(o),a||s.outerWidth(n),a||(r._lastVal=null),s.attr("placeholder",a?"":l.trim(t.placeholder)||"输入标签，回车确定")},showError:function k(t){var e=this.getEl();e.find(".js-tag-wrap")[t?"addClass":"removeClass"]("error"),e.find(".js-error").html(t||"")}})},function(t,e,i){var n=i(76),o=i(12),a=i(10),r=i(48),s=i(49),c=i(50),l=i(5),d=i(51),u=i(80),p=i(45),f=i(24),h=i(23),g=i(58),v=i(136),m=i(21),w=i(137),y=i(44),b=i(42),x=i(28),C=i(138),E=i(56),k=i(66),S=i(141),T=i(55),j=i(63),_=i(34),I=i(35),L=i(52),P=i(38),A=i(62),M=i(57),z=i(53),D=i(54),H=i(143),F=i(29),R=i(70),N=i(18),U=i(74),B=i(144);window.tempc=t.exports={Banner:n,Config:o,Env:a,Localization:r,Win:s,Enum:c,Action:l,Ajax:d,Launch:u,AtList:p,Auth:f,Bll:h,Captcha:g,Code:v,LoginUtil:m,Selection:w,UploadRemote:y,Util:b,AttachEmoji:x,Cmt:C.List,CmtItem:C.Item,CmtItemSub:C.ItemSub,CmtItemBbs:C.ItemBbs,PopupAuthPhone:E,PopupCaptcha:k,PopupCollect:S,PopupCommon:T,PopupCompleteAuth:j,PopupCompleteInfo:_,PopupGtCode:I,PopupLogin:L,PopupMsg:P,PopupOpenBlog:A,PopupPhoneApply:M,PopupSchool:z,PopupAddSchool:D,PopupVote:H,PopupReport:F,ProfileCard:R,Select:N,TagInput:U,Vote:B}},function(t,e,i){var s=i(1),c=i(9),l=i(0),n=i(2),o=t.exports=n.create();l.extend(o.prototype,{initialize:function a(t){var e=this;e.duration=+t.duration||5e3,e.fadeDuration=+t.fadeDuration||300,e.change=t.change;var i=s(t.ulEl);e.items=[].slice.call(i.children(),0),e.index=0,e.ulHeight=i.outerHeight(),e.initDot(t),e.initArrow(t),e.initHover(t),e.launch(),e.loadBannerImage(e.index,e.index+1)},initDot:function r(t){var i=this,e=s(t.dotEl),n=i.items.length;e.html(n<=1?"":new Array(n+1).join('<li class="dot"></li>')),i.dots=e.find("li.dot"),i.activeDot(i.index),e.on("click","li.dot",function(t){var e=s(t.currentTarget).index();i.loadBanner(e)})},initArrow:function d(t){var n=this,e=(s(t.wrapperEl),n.items.length),i=s(t.arrowPre),o=s(t.arrowNext);1<e?(i.on("click",l.bind(a,null,!1)),o.on("click",l.bind(a,null,!0))):function r(t){i[!1===t?"hide":"show"](),o[!1===t?"hide":"show"]()}(!1);function a(t,e){var i=s(e.currentTarget);c.mark(i)||(n.loadBanner(n.index+(t?1:-1)),window.setTimeout(function(){c.clear(i)},n.fadeDuration+50))}},initHover:function u(t){var e=this,i=s(t.wrapperEl);i.on("mouseenter",function(){e.stop(),e.isHover=!0}),i.on("mouseleave",function(){e.isHover=!1,e.launch()})},stop:function p(){window.clearTimeout(this._timer),this._timer=null},activeDot:function f(t){this.dots.removeClass("active"),s(this.dots[t]).addClass("active")},launch:function h(){var t=this;t.stop(),1<t.items.length&&!t.isHover&&(t._timer=window.setTimeout(function(){t.loadBanner()},t.duration))},loadBanner:function g(t){var e=this,i=e.items,n=i.length;if(0===n||e._change||t===e.index)return;var o=t||(0===t?0:e.index+1);n<=o&&(o=0),o<0&&(o=n-1),e.loadBannerImage(o,o+1),e.stop(),e.activeDot(o);var a=s(i[e.index]),r=s(i[o]).hide();a.after(r),r.css("marginTop",-1*e.ulHeight+"px"),a.fadeOut(e.fadeDuration-50,function(){r.css("marginTop",0),a.hide()}),r.fadeIn(e.fadeDuration,function(){r.css("marginTop",0),e._change=!1,e.launch()}),e.index=o,e.change&&e.change(o,n)},loadBannerImage:function v(t,e){var i=this.items,n=i.length,o=n<=t?null:s(i[t]),a=n<=e?null:s(i[e]);function r(t){if(t){var e=t.find("a"),i=e.attr("data-src");if(i){i.indexOf("nowcoder.com/")&&(i=i.replace(/^https?\:/,""));var n=e.css("backgroundColor");e.css("background",n+" url("+i+") top center no-repeat"),e.removeAttr("data-src")}}}r(o),window.setTimeout(function(){r(a)},500)}})},function(t,e,i){t.exports=i(4)(20)},function(t,e){t.exports=i("Vue")},function(t,e,i){t.exports=i(4)(49)},function(o,t,e){var i=e(0),n=(e(2),e(81)),a=e(82),r=e(83),s=e(84),c=e(85),l=e(86),d=e(87),u=e(88),p=e(89),f=e(90),h=e(91),g=e(92),v=e(93),m=e(94),w=e(95),y=e(133),b=e(134),x=e(135);o.exports={};var C=[{name:"DocWrite",cpn:u},{name:"Tips",cpn:n},{name:"RightNav",cpn:a},{name:"InIframe",cpn:r},{name:"LiveTips",cpn:s},{name:"NavActiveEmail",cpn:c},{name:"NavLogin",cpn:l},{name:"NavSearch",cpn:d},{name:"Copy",cpn:p},{name:"CopyRight",cpn:f},{name:"CheckLogin",cpn:h},{name:"CheckMessage",cpn:g},{name:"ContentShowHalf",cpn:v},{name:"Action",cpn:m},{name:"OAuth",cpn:w},{name:"Hijack",cpn:y},{name:"ProfileCard",cpn:b},{name:"FuckAdBlock",cpn:x}];i.forEach(C,function(t){var e=t.name,i=t.cpn,n="init"+e;o.exports[n]=function(t){return new i(t||{})}}),o.exports.initFuckAdBlock()},function(t,e,i){var n=i(0),o=i(1),a=i(2),r=i(11),s=i(26),c=i(59),l=t.exports=a.create();n.extend(l.prototype,{initialize:function d(t){var e=this,i=r.frequency(2e3);o(document).on("mousemove",function(){i(function(){e.initTips(),e.initQrCode()})})},initTips:function u(){s.title(".js-nc-title-tips")},initQrCode:function p(){n.forEach(o(".js-app-item"),function(t){(t=o(t)).removeClass("js-app-item");var e=o.trim(t.attr("data-url")),i=!!o.trim(t.attr("data-reverse"));e&&(/^https?:\/\//.test(e)||(e=window.decodeURIComponent(e)),new c({target:t,needClick:!1,attach:{center:!0,verReverse:i,extOffset:{top:i?-10:10}},content:['<div style="border:1px solid #e0e0e0;">','<img src="https://www.nowcoder.com/qr/to?size=150&url='+window.encodeURIComponent(e)+'" style="width:150px;height:150px;display:block;" />',"</div>"].join("")}))})}})},function(t,e,i){var n=i(0),o=i(1),r=i(8),s=i(20),c=i(17),a=i(2),l=t.exports=a.create();n.extend(l.prototype,{initialize:function d(t){var e=o(t.el);this.el=e.get(0)?e:o("div.fixed-menu"),this.initGoTop(),this.initQrCode()},initGoTop:function u(t){o(document).on("click",".js-nav-go-top",function(t){t.preventDefault(),r.scrollTo({top:0,animation:!0})})},initQrCode:function p(t){var e=this.el;if(s.mobile()||!e.get(0))return void e.hide();var i=null,n=e.find("div.phone-qrcode"),o=+c.get("phoneQrCodeDuration"),a=(new Date).getTime();(!o||6048e5<=a-o)&&(n.show(),n.find("a.qrcode-close").on("click",function(){n.hide(),c.set("phoneQrCodeDuration",a),i&&i()}));e.show(),i=r.fixedPos(e,function(t,e,i){t.css("bottom",Math.max(0,(i-e)/2))})}})},function(t,e,i){var n=i(0),o=(i(1),i(2)),a=i(10),r=t.exports=o.create();n.extend(r.prototype,{initialize:function s(t){a.canInIframe()||window.self===window.top||(top.location=window.location)}})},function(t,e,i){var n=i(0),a=i(1),o=i(2),r=i(33),s=t.exports=o.create();n.extend(s.prototype,{initialize:function c(t){if(r.get("show_live_tips"))return;var e=a(".js-global-tips");if(!e.get(0))return;var i=e.find("a.ad-close");i.get(0)||(i=e.find("a.icon-nc-cancel"));var n=e.find("a.js-global-tips-href").attr("href")||"",o=window.location.href;n&&-1===o.indexOf(n)&&-1===n.indexOf(o)&&e.show(250);i.on("click",function(){r.set("show_live_tips","1",{domain:"nowcoder.com",path:"/",expires:1}),e.remove()})}})},function(t,e,i){var n=i(0),o=i(1),a=i(2),r=i(6),s=t.exports=a.create();n.extend(s.prototype,{initialize:function c(t){var e=o("a#send-active-mail");e.on("click",function(t){"a"===e.prop("tagName").toLowerCase()&&!r.isJsHref(e.attr("href"))||window.open("/register/send-activited-email")})}})},function(t,e,i){var n=i(0),c=i(1),o=i(2),l=i(14),a=t.exports=o.create();n.extend(a.prototype,{initialize:function d(t){var e=t.domain||"",i=c("a#nav-login"),n=c("a#jsNavRegister"),o=window.location.pathname;if(o&&""!==o&&"/"!==o&&"/login"!==o&&"/register"!==o){var a=window.location.href.split("#")[0];a=window.decodeURIComponent(a);var r=l.addParam({callBack:a},e+"/login"),s=l.addParam({callBack:a},e+"/register");i.attr("href",r),n.attr("href",s)}}})},function(t,e,i){var l=i(1),d=i(0),u=i(11),n=i(2),p=i(14),c=i(36),o=i(16),f=i(8),a=i(17),r=i(6),h=i(27),s=i(10),g=i(5),v=t.exports=n.create(),m="NC_NAV_SEARCH_HISTORY";d.extend(v.prototype,o,{initialize:function w(t){var e=this;e.isIptFocus=!1,e.initAutoAddHistory(),e.initEl(),e.initSearch(),e.initHot()},initAutoAddHistory:function y(){if(/^\/search/.test(window.location.pathname||"")){var t=r.encodeHTML(p.getParam("query")),e=a.get(m)||[];t&&!d.contains(e,t)&&e.unshift(t),e.length=Math.min(e.length,5),a.set(m,e)}},initEl:function b(){var t=this.navEl=l(".nowcoder-navbar .js-nav-search");this.searchWrap=t.find(".search-input-wrap"),this.searchIpt=t.find("input[type=text]")},initSearch:function x(){var e=this,t=e.navEl,i=e.searchWrap,n=e.searchIpt,o=t.find(".icon-search-btn");if(!n.get(0))return;var a=/^\/search/.test(window.location.pathname||"")?p.getParam("type"):"";n.on("focus",function(){e.isIptFocus=!0,e.fire("showHot",!0)}),n.on("blur",function(){e.isIptFocus=!1}),n.on("keydown",function(t){13==+t.keyCode&&c()}),f.bindChange(n,function(){i[l.trim(n.val())?"addClass":"removeClass"]("focus")}),o.on("click",c);var r=h.show({input:n,defaultIndex:-1,attach:{extOffset:{left:-3,top:5}},needSame:!0,reqList:function(t,e){g.searchSuggest({query:{query:t},call:function(t){e(d.map(t.data,function(t){return{text:t}})||[])},error:function(){e([])}})},ok:function(t){e.search(t.text,a)},dealList:function(t){return t=t||[],e.fire("showHot",t.length<=0),t}});r.getEl().css("min-width",t.outerWidth());var s=u.frequency(10);function c(){var t=l.trim(n.val());t&&e.search(t,a),t||n.val("")}l(window).on("scroll",function(){s(function(){var t=r.attach;t.isShow()&&t.fixPosition()})}),n.attr("autocomplete","off")},initHot:function C(){var o,a=this,r=a.navEl,i=a.searchIpt;function s(t){t=!1!==t&&a.isIptFocus&&!l.trim(i.val());var e=r.find(".js-nav-search-list");if(window.clearTimeout(o),t&&!e.get(0))return function n(t){var e=l('<div class="nav-search-box js-nav-search-list" style="left:1px;top:45px;width:260px;display:none;">');r.append(e),function i(t){var n=[];d.forEachAsync([{name:"hot",call:d.bind(a.getHot,a)},{name:"history",call:d.bind(a.getHistory,a)}],function(e,i){e.call(function(t){n[e.name]=t,i()})},function(){t(n)})}(function(n){var t=(0===n.hot.length?"":c.execTpl(["<dl>","<dt>牛客热搜</dt>",'<dd v-for="item in items" :data-href="getHref(item.query)"><a href="javascript:void(0);">#{item.query}</a><i v-if="isShowMark(item)" class="label-hot icon-nc-fire2"></i></dd>',"</dl>"],{items:n.hot,getHref:function(t){return a.getSearchUrl(t,"post")},isShowMark:function(t){return t.rank<=3}}))+(0===n.history.length?"":c.execTpl(["<dl>",'<dt>搜索历史<a href="javascript:void(0);" class="icon-nc-delete js-clear-history"></a></dt>','<dd v-for="(item, index) in items" :data-index="index" :data-href="getHref(item)"><a href="javascript:void(0);">#{getItem(item)}</a><a href="javascript:void(0);" class="icon-nc-close js-del-history"></a></dd>',"</dl>"],{items:n.history,getItem:function(t){return t},getHref:function(t){return a.getSearchUrl(t,"post")}}));t&&(e.html(t),e.on("click","dd",function(t){var e=l(t.currentTarget),i=l.trim(e.attr("data-href"));i&&(window.location.href=i)}),e.on("click",".js-clear-history",function(t){t.stopPropagation(),a.isIptFocus=!0;var e=l(t.currentTarget);a.clearHistory(function(){e.closest("dl").remove()})}),e.on("click",".js-del-history",function(t){t.stopPropagation();var e=l(t.currentTarget).closest("dd"),i=+e.attr("data-index");a.isIptFocus=!0,a.delHistory(n.history[i],function(){var t=e.closest("dl");e.remove(),0===t.find("dd").length&&t.remove()})}),f.hoverToggle({duration:1,el:[r.find(".search-input-wrap"),e],enter:d.bind(s,null,!0),leave:d.bind(s,null,!1)}),window.clearTimeout(o),e.show())})}();t&&e.html()?e.show():o=window.setTimeout(function(){e.hide()},100)}a.listen("showHot",s)},search:function E(t,e){window.location.href=this.getSearchUrl(t,e)},delHistory:function k(e,t){var i=s.isLogin(),n=a.get(m)||[];n=n&&d.filter(function(t){return t!==e}),a.set(m,n),!i&&t&&t(),i&&g.searchDelHistory({body:{query:e},always:t})},clearHistory:function S(t){var e=s.isLogin();a.remove(m),!e&&t&&t(),e&&g.searchClearHistory({type:"POST",always:t})},getHot:function T(e){var i=this,n=i.hotList;n&&e&&e(n),n||g.searchGetHot({type:"GET",call:function(t){n=i.hotList=t.data||[],e&&e(n)},error:function(){e&&e([])}})},getHistory:function j(e){var i=this;if(!s.isLogin())return e(a.get(m)||[]);var n=i.historyList;n&&e&&e(n),n||g.searchGetHistory({type:"GET",call:function(t){n=i.historyList=t.data||[],e&&e(n)},error:function(){e&&e([])}})},getSearchUrl:function _(t,e){return e=e||"all",p.addParam({query:l.trim(t),type:e},"/search")}})},function(t,e,i){var n=i(0),o=i(1),a=i(2),r=t.exports=a.create();n.extend(r.prototype,{initialize:function s(t){document.write;document.write=function(){var e=o(document.body);n.forEach(arguments,function(t){t&&e.append(t)})}}})},function(t,e,i){var n=i(0),o=i(1),a=i(2),r=i(11),s=i(8),c=i(3),l=t.exports=a.create();n.extend(l.prototype,{initialize:function d(t){document.createElement("div");var e=r.frequency(2e3);function i(){var t=o(".js-clipboard");0!==t.length&&(t.removeClass("js-clipboard"),n.forEach(t,function(t){var e=o(t),i=e.attr("data-clipboard-text")||"";i=(i=n.map(i.split(""),function(t){return 160===t.charCodeAt(0)?" ":t}).join("")).replace(/^\n+|\n+$/g,""),s.copy({el:e,content:i,call:function(){c.tips("复制成功")},error:function(){c.alert("复制失败，请手动复制")}})}))}i(),o(document).on("mousemove",function(){e(i)})}})},function(t,e,i){var n=i(0),r=i(1),o=i(2),a=i(37),s=t.exports=o.create();n.extend(s.prototype,{initialize:function c(t){var e=(window.location.href||"").split("?")[0];if(t.need&&!t.need(e))return;a.copy({el:document,max:100,dealContent:function(t,e,i){var n=[],o=window.location.href,a=r.trim(r(t).closest(".js-copy-mark").attr("data-mark-info"));return a&&n.push(a),n.push("链接："+(i?'<a target="_blank" href="'+o+'">'+o+"</a>":o)),n.push("来源：牛客网"),n.push(""),n.push(e),n.join(i?"<br />":"\n")}})}})},function(t,e,i){var n=i(10),o=i(5),a=i(3),r=i(0),s=(i(1),i(2)),c=t.exports=s.create();r.extend(c.prototype,{initialize:function l(t){this.check()},check:function d(t){var i=this;if(!n.isLogin())return;window.clearTimeout(i.checkLoginTimer),i.checkLoginTimer=window.setTimeout(function(){o.checkLoginOtherPlace({type:"GET",noDealAuth:!0,call:function(t){i.check(3e4)},error:function(t){var e=+t.code||0;998===e?a.alert("您的账号已在其他地方登录，您被迫下线。如果并非您本人的操作，那么您的密码可能已泄露，请尽快重新登录并更改密码。",function(){window.location.reload()}):999===e?window.location.reload():i.check(3e4)}})},t||5e3)}})},function(t,e,i){var n=i(0),o=i(1),u=i(14),a=i(2),r=i(16),p=i(10),f=i(5),s=t.exports=a.create();n.extend(s.prototype,{initialize:function c(){var t=this;t.title=o.trim(document.title),t.check(),r.listen("NOWCODER_MESSAGE_CHANGE",function(){t.check()})},check:function h(t){var s=this,e=p.isLogin(),c=o("li.nav-msg a");if(!e||!c.get(0))return;var l=s.title,d=c.attr("href");f.queryUnreadCount({type:"get",call:function(t){var e=t.data||{},i=+e.unreadMsgCount||0,n=+e.unreadNotifyCount||0,o=i-n;if(i<=0)c.html("消息"),c.attr("href",u.removeParam("type",d)),s.updateTitle(l);else{var a=0<o,r=a?99<o?"99+":o:99<n?"99+":n;c.html((a?'<span class="nav-msg-num">'+r+"</span>":'<span class="nav-msg-num msg-dot"></span>')+"消息"),c.attr("href",a?u.removeParam("type",d):u.addParam({type:1},d)),s.updateTitle("("+r+"条"+(a?"未读私信":"未读通知")+") "+l)}},always:function(){window.setTimeout(function(){s.check()},9e4)}})},updateTitle:function l(t){var e=o.trim(document.title);(t=o.trim(t))!==e&&(document.title=t)}})},function(t,e,i){var n=i(0),o=i(1),a=i(2),r=t.exports=a.create();n.extend(r.prototype,{initialize:function s(t){var e=o(".js-nc-half");n.forEach(e,function(t){var e=(t=o(t)).find(".js-nc-half-content"),i=t.find(".js-nc-half-hide-box");0<e.length&&0<i.length&&360<e.outerHeight()&&(e.outerHeight(300).css("overflow","hidden"),i.show(),i.on("click",function(){e.css("overflow","auto").height("auto"),i.hide()}))})}})},function(t,e,o){var i=o(0),r=o(1),n=o(2),s=o(6),a=o(16),c=o(14),l=(o(3),o(60)),d=o(10),u=o(5),p=o(24),f=o(38),h=o(29),g=t.exports=n.create();i.extend(g.prototype,{initialize:function v(t){t=t||{};this.bind("click","a","actionA"),this.bind("click",".js-nc-pop-image img","actionImage"),this.bind("click",".js-open-blog","actionOpenBlog"),t.noAuth||this.bind("click",".nc-req-auth","actionLogin"),t.noLogout||this.bind("click",".nc-logout","actionLogout"),t.noActive||this.bind("click",".nc-req-active","actionActive"),t.noComplete||this.bind("click",".nc-req-complete","actionComplete"),t.noMessage||this.bind("click",".js-send-message","actionMessage"),t.noReport||this.bind("click",".js-nc-report","actionReport"),a.listen("window:showAuthDialog",function(){d.isLogin()||p.showLogin()})},actionA:function m(t){var e=r(t.currentTarget).attr("href");e&&s.isJsHref(e)&&t.preventDefault()},actionImage:function w(t){t.stopPropagation(),t.preventDefault();var e=r(t.currentTarget),i=r.trim(e.attr("src"));!e.attr("data-card-emoji")&&i&&l.show(i)},actionOpenBlog:function y(t){var e=r(t.currentTarget),i=r.trim(e.attr("data-type")),n=r.trim(e.attr("data-href"));this.checkLogin(t,function(t){o(62).show({getReturnUrl:function(t){return n||("add"===i||"collect"===i?"https://blog.nowcoder.net/detail/0"+("collect"===i?"":"?isCollect=true"):"")}})})},actionLogin:function b(t){if(d.isLogin())return;t.stopPropagation(),t.preventDefault();var e=r(t.currentTarget),i=e.prop("tagName").toLowerCase(),n="a"===i?r.trim(e.attr("href")):"";if((n=n&&!s.isJsHref(n)?n:"")&&/\/login$|\/login\?|\/login#|\/login\/$/.test(n)){var o=c.getParam("callBack",n);n=o||window.location.href}if(n=n||window.location.href,"textarea"===i||"input"===i&&"text"===e.attr("type"))try{e.blur()}catch(a){}p.showLogin({href:n})},actionLogout:function x(t){u.logout({type:"POST",call:function(){window.location.reload()},error:function(){}})},actionActive:function C(t){this.checkLogin(t,function(){d.isActive()||(t.stopPropagation(),t.preventDefault(),p.showActive())})},actionComplete:function E(t){this.checkLogin(t,function(){d.isCompleteInfo()||(t.stopPropagation(),t.preventDefault(),p.showCompleteInfo({call:function(){window.location.reload()}}))})},actionMessage:function k(t){t.preventDefault(),this.checkActive(t,function(t){var e=r.trim(t.attr("data-receiver-id")),i=r.trim(t.attr("data-receiver-name"));f.show({title:"发私信",content:"",receiver:e?{id:e,name:i||"牛客用户"}:undefined})})},actionReport:function S(t){this.checkLogin(t,function(t){var e=r.trim(t.attr("data-id")),i=r.trim(t.attr("data-main-id")),n=r.trim(t.attr("data-type")),o=r.trim(t.attr("data-uuid"));e&&n&&h.show({type:n,entityId:e,mainCommentEntryId:i,uuid:o})})},checkLogin:function T(t,e){var i=r(t.currentTarget);if(d.isLogin())return e&&e(i);i.hasClass("nc-req-auth")||this.actionLogin(t)},checkActive:function j(t,e){var i=r(t.currentTarget);if(d.isActive())return e&&e(i);i.hasClass("nc-req-active")||this.actionActive(t)},bind:function _(t,e,i){var n=this,o=r(document),a=n[i];a&&o.on(t,e,function(t){a.call(n,t)})}})},function(t,e,a){var r=a(0),s=a(1),i=a(2),n=a(20),o=a(3),c=a(49),l=t.exports=i.create(),d=!0;r.extend(l.prototype,{initialize:function u(t){this.initCallback(),this.initBind()},initCallback:function p(){function o(t){t&&t.split("#")[0]!==window.location.href.split("#")[0]?window.location.href=t:window.location.reload()}window.loginCallBack=function(t,e,i){d=!1,c.close(),t=(t=s.trim(t))&&!/^javascript/gi.test(t)?t:window.location.href;var n=window.location.href;"true"!==e||/\/register/.test(n)||/\/login/.test(n)?o(t):a(63).show({callCb:r.bind(o,null,t),cancelCb:r.bind(o,null,t)})}},initBind:function f(){s(document).on("click",".nc-js-action-oauth",function(t){t.preventDefault();var e=s(t.currentTarget).attr("data-href");if(e){var i=c.open(e);i&&!n.safari()&&setTimeout(function(){i.onunload=function(){setTimeout(function(){d&&(c.close(),window.location.reload())},1e3)}},1e3),o.hide()}})}})},function(t,e,i){t.exports=i(4)(61)},function(t,e,n){function g(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a=n(15),h=n(1),i=n(7),o=n(2),v=n(0),r=n(17),s=n(8),m=n(6),w=n(11),c=n(31),l=n(64),d=n(65),y=n(3),u=n(32),b=n(5),p=n(18),f=t.exports=o.create(),x="codeEditorCache";o.mix(f,i,{_template:['<div class="subject-eidt-box" style="position:relative;">','<div class="subject-eidt-header">','<a href="javascript:void(0);" class="ico-fresh js-fresh-code" title="还原模板代码">'+v.lang("重置")+"</a>",'<a href="javascript:void(0);" class="ico-computer js-self-test" title="代码自测">自测</a>','<div class="subject-edit-oprt js-head-tool">','<a href="javascript:void(0);" class="icon-fullscreen js-full-screen"></a>',"</div>","</div>",'<div class="js-editor-body code-font"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig,i=t.getEl();e.noRefresh&&i.find(".js-fresh-code").remove(),e.noSelfTest&&i.find(".js-self-test").remove(),e.selfTestWarning=e.selfTestWarning||"注意：自测用例通过仅代表自测时使用的数据通过，不代表题目的测试用例均能通过。",t.initCMPlugin(function(){t.headerEl=i.find("div.subject-eidt-header"),t.editorEl=i.find("div.js-editor-body"),t.initHeader(),t.initEditor(),t.originalHeight=i.height(),t.toolbarHeight=i.find("div.subject-eidt-header").outerHeight(),(e.width||e.height)&&t.resize(e.width,e.height),t.initAutoSize(),t.initPlugin(function(){t.initEvent(),t.execPlugin("cache","initCacheCode")})})}},{name:"click a.js-full-screen",handler:function(){var t=this.rawConfig,e=v.isFunction(t.goFullScreen);e&&t.goFullScreen.call(this),e||this.goFullScreen()}},{name:"click a.js-fresh-code",handler:function(){var t=this;t.rawConfig.noRefresh||y.confirm(v.lang("刷新后代码框将重置为初始状态，正在编辑的代码将清空，但不会影响已提交的代码，确定刷新吗？"),function(){return t.execPlugin("cache","restoreTpl")})}},{name:"click div.js-editor-mask",handler:function(){var t=this.rawConfig;this._disabled&&t.clickMask&&t.clickMask.call(this)}}],loadDep:function C(t){a.use(["ncPlugin/codemirror/style/codemirror.css","ncPlugin/codemirror/style/theme/monokai.css","ncPlugin/codemirror/codemirror"],t)},saveLastLangue:function E(t){var e=window.localStorage,i=r.create(x);t&&i.set("NC_Code_Langue",t),t&&e&&e.removeItem&&e.removeItem("NC_Code_Langue")},getLastLangue:function k(){var t=window.localStorage,e=r.create(x).get("NC_Code_Langue");!e&&t&&(e=t.NC_Code_Langue,this.saveLastLangue(e));return e}},{initialize:function S(t){this.codeSubmit=new l,this.isJudgeVoj=!!t.isJudgeVoj,this._disabled=!1,this._createdQueue=[]},initCMPlugin:function T(t){a.use(["ncPlugin/codemirror/mode/clike/clike","ncPlugin/codemirror/addon/edit/matchbrackets","ncPlugin/codemirror/addon/edit/closebrackets","ncPlugin/codemirror/addon/hint/showhint","ncPlugin/codemirror/addon/invisible/invisible"],t)},initHeader:function j(){var n=this,o=n.rawConfig.options,i=-1;v.forEach(o,function(t,e){i=t.checked&&i<0?e:i,t.text=t.name||c.getNameById(n.isJudgeVoj?t.ncValue:t.value)||"",t.value=m.trim(t.value)}),o[Math.min(Math.max(0,i),o.length-1)].checked=!0,n.langueSelect=new p({options:o,renderTo:n.headerEl,renderBy:"prepend",change:function(){var e=n.valLangue();f.saveLastLangue(e);var t=n.isJudgeVoj?v.find(o,function(t){return t.value===e}):null,i=c.getCMById(n.isJudgeVoj?t.ncValue:e);i&&a.use("ncPlugin/codemirror/mode/"+i.plugin+"/"+i.plugin,function(){e===n.valLangue()&&n.editor.setOption("mode",{name:i.name})}),n.execPlugin("cache","restoreCode"),n.fire("langueChange")}})},initEditor:function _(){var e=this,t=e.rawConfig,i=(e.getEl(),r.create("codeEditorCache")),n=v.extend({theme:"monokai",indentUnit:o(),lineNumbers:!0,showInvisibles:!0,mode:"text/x-csrc",matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1,closeOnUnfocus:!0},extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),e||t.replaceSelection(new Array(o()+1).join(" "),"end","+input")}}},t.codeMirrorConf);function o(){return{2:2,4:4,8:8}[i.get("settingSpaceCount")]||4}e.editor=CodeMirror(e.editorEl.get(0),n),t.readOnly&&e.disable(),v.forEach(e._createdQueue,function(t){return t&&t.call(e)}),e._createdQueue.length=0},initPlugin:function I(t){var i=this,e=[{name:"cache",plugin:n(98)},{name:"hint",plugin:n(99)},{name:"setting",plugin:n(101)},{name:"selfTest",plugin:n(102)}];i.plugin={},v.forEach(e,function(t){var e=t.plugin;i.plugin[t.name]=new e({parent:i,editor:i.editor})}),t&&t()},initEvent:function L(){var t=this,e=t.rawConfig,i=t.getEl(),n=t.editor;n.on("changes",function(){return t.fire("codeChange")}),n.on("cursorActivity",function(){t._disabled&&(window.setTimeout(function(){return i.find(".CodeMirror-cursor").hide()},0),e.clickMask&&e.clickMask())})},initAutoSize:function P(){var t=this;t.rawConfig.noAutoSize||(t.editor.on("changes",function(){return t.autoSize()}),t.autoSize())},disable:function A(t){if((t=!1!==t)!==this._disabled){this.getEl().find(".CodeMirror-cursor")[t?"hide":"show"](),this._disabled=t,this.editor.setOption("readOnly",t),this.langueSelect.disabled(t)}},val:function M(t,e){2<=arguments.length&&(this.valLangue(t),this.valCode(e))},valCode:function z(t){if(0===arguments.length)return(this.editor.getValue()||"").replace(/ /gi," ");this.editor.setValue(t||"")},valLangue:function D(t,e){if(0===arguments.length)return this.langueSelect.val();(t=m.trim(t))&&this.langueSelect.val(t,e)},resize:function H(i,n,o){var a=this;a.waitCreated(function(){var t=a.getEl();i&&t.outerWidth(i),n?(n=parseInt(n,10),t.outerHeight(n),o||(a.originalHeight=t.height())):n=t.outerHeight();var e=a.toolbarHeight=t.find("div.subject-eidt-header").outerHeight();a.editor.setSize("100%",n-e),a.autoSize(),a.execPlugin("selfTest","resize")})},autoSize:function F(){var t=this;if(!t.rawConfig.noAutoSize&&!t.isFullScreen)try{t._editorScrollEl=t._editorScrollEl||h(t.editor.getScrollerElement()),t._editorSizerEl=t._editorScrollEl.find("div.CodeMirror-sizer");var e=window.parseInt(t._editorSizerEl.css("min-height")||t._editorSizerEl.height(),10);t.editor.setSize("100%",Math.max(t.originalHeight-t.toolbarHeight,e)),t.getEl().height("auto")}catch(i){}},goFullScreen:function R(){var t=this,e=t.rawConfig,i=t.getEl(),n=h(window);if(s.cls(i.find(".js-full-screen"),{"icon-fullscreen":t.isFullScreen,"icon-resize-small":!t.isFullScreen}),t.isFullScreen)return t.isFullScreen=!1,e.renderTo.append(i),t.layer.hide(),t.resize(e.width,t.originalHeight,!0),void t.fire("fullScreen",!1);t.isFullScreen=!0,t.layer=new d({showContent:!0,clickToHide:!1,listeners:{render:function(){this.contentEl.addClass("nk-body"),this.append(i),t.resize("100%",n.height(),!0)},winresize:function(){t.resize("100%",n.height(),!0)}}}),t.fire("fullScreen",!0)},getLangueData:function N(t){var e=this.rawConfig,i=v.toMap(e.options,function(t){return{key:t.value,value:t}});return t?i[t]:i},checkCode:function U(e){var t=this.valLangue(),i=this.valCode(),n=h.trim(i)?1e5<i.length?"啊，代码不要这么长嘛，人家受不了了~":t?"":"错误的代码语言":"代码不能为空";if(n)return f(n);if(this.isJudgeVoj)return e&&e(!0);if("1"===t||"2"===t||"22"===t){if(/%I64/.test(i)&&!/%ll/.test(i)){var o=y.confirm("在提交的代码中发现%I64，牛客OJ后台是Linux系统，64位long long请使用%lld，unsigned long long请使用 %llu",v.bind(e,null,!1),v.bind(e,null,!0));return o.okBtn.html("返回修改"),void o.cancelBtn.html("强制提交")}}else if("4"===t){if(!this.getLangueData()[t].tplCode){for(var a=h.trim(i).split("\n"),r=!1,s=!1,c=0,l=a.length;c<l;c++){var d=a[c];if(!r){var u=d.split("//")[0]||"";if(/\bpackage\b/.test(u))return f("请删除代码开头的package信息")}var p=/public\s+class\s+(\w+)/.exec(d);if(p&&!s&&(r=!0,!(s="Main"===p[1])))return f("请修改类名为Main")}if(!r)return f("找不到类名，请修改类名为Main")}}function f(t){y.alert(t),e&&e(!1)}e&&e(!0)},runCode:function B(){var p=this,f=p.execPlugin("selfTest","val")||{},h=!!f.inTest;function e(t){var e,n=p.rawConfig,i=n.runCode||{},o=!!i.questionId,a=(g(e={pid:i.pid,tid:i.tid,qid:i.qid,questionId:i.questionId||i.qid,tagId:i.tagId,subTagId:i.subTagId,content:p.valCode()},p.isJudgeVoj?"vojLanguage":"language",p.valLangue()),g(e,"languageName",p.langueSelect.text()),e);if(h){v.extend(a,{input:f.input,output:f.output,selfType:n.selfTestType||9});var r=(f.input||"").length,s=(f.output||"").length,c=2048<r;if(c||2048<s){var l="自测数据输入输出均不可超过2048个字符，当前"+(c?"输入长度"+r:"输出长度"+s)+"已超出，请在本地进行调试";return void y.alert(l)}}var d=n.getUrlSubmitCode?n.getUrlSubmitCode(o,h):"",u=n.getUrlGetCodeStatus?n.getUrlGetCodeStatus(o,h):"";p.codeSubmit[h?"submitDiyCode":o?"submitSelfCode":"submitTestCode"]({$:t,urlSubmitCode:d||b[h?"codeSelfTestUrl":o?"codeSubmitUrl":"codeRunUrl"](),urlGetCodeStatus:u||b[h?"codeSelfTestStatusUrl":"codeStatusUrl"](),data:a,maxStatusDelay:n.maxStatusDelay,extCodeParam:n[h?"selfTestRunExtParam":"runExtParam"],extStatusParam:n.statusExtParam,feedback:function(t,e,i){t=t.replace(/^\n+|\n+$/gi,""),h&&(t=m.encodeHTML(t.replace(/所有的?测试用例/gi,"你的自测数据")).replace(/\n/g,"<br />")),h&&!1===e&&(t+='\n<span style="color:#ff6547">'+n.selfTestWarning+"</span>"),p.showResult(t,e,h,i||{})},cbGetCaptcha:function(t){new y({noUnique:!0,hasNoTitle:!0,hasNoMove:!0,hasNoFooter:!0,clickToHide:!1,width:500,content:['<div style="font-size:16px;text-align:center;padding:20px;">','<img src="//static.nowcoder.com/fe/style/images/common/res/tips/13.png" style="display:block;width:80px;height:80px;margin:0 auto;">','<div style="margin-top:20px;">亲你点太快了，请<span class="js-code-count-down">3</span>s后再提交。</div>',"</div>"].join(""),render:function(){var e=this;w.countDown({second:3,call:function(t){return e.getEl(".js-code-count-down").html(t)},end:function(){return e.close()}})},close:function(){return t&&t({})}})},cbGetCaptchaError:function(){p.fire("runCodeError")},cbSubmitCodeBefore:function(){p.fire("beforeRunCode")},cbSubmitCodeComplete:function(t){t&&(t.isSelfTest=h),p.fire("runCodeSubmit",t)},cbSubmitCodeError:function(t){t&&(t.isSelfTest=h),p.fire("runCodeError",t)},cbStatusCodeBefore:function(){p.fire("beforeReqStatus")},cbStatusCodeSuccess:function(t){t&&(t.isSelfTest=h),h||p.fire("runCodeSuccess",t),p.fire("runCodeFinish",t)},cbStatusCodeFail:function(t){t&&(t.isSelfTest=h),p.fire("runCodeDanger",t),p.fire("runCodeFinish",t)},cbStatusCodeError:function(t){t&&(t.isSelfTest=h),p.fire("runCodeError",t)}})}p.checkCode(function(t){t&&p.getJquery(e),t||p.fire("runCodeError",{code:-1,msg:"代码不符合规范",isSelfTest:h})})},showResult:function q(t,e){var i=this.rawConfig.tipEl;if(h.trim(t))return i.removeClass(e?"alert-info":"alert-danger").addClass(e?"alert-danger":"alert-info"),i.html(t.replace(/\n/g,"<br />")).show(),void i.parent().show();i.html("").hide()},waitCreated:function O(t){this.editor?t&&t.call(this):this._createdQueue.push(t)},exactHeight:function W(){return this._editorScrollEl=this._editorScrollEl||h(this.editor.getScrollerElement()),this._editorSizerEl=this._editorScrollEl.find("div.CodeMirror-sizer"),window.parseInt(this._editorSizerEl.css("min-height")||this._editorSizerEl.height(),10)+(this.toolbarHeight||0)},execPlugin:function G(t,e){var i=(this.plugin||{})[t],n=[].slice.call(arguments,2);if(i&&i[e])return i[e].apply(i,n)},getJquery:function V(e){var i=this;if(i.tempJquery)return e&&e(i.tempJquery);var t=b.codeSubmitUrl();u.create(t,function(t){i.tempJquery=t,e&&e(t)})}})},function(t,e,i){var c=i(1),l=i(0),n=i(2),o=(i(16),i(17)),a=t.exports=n.create(),r="codeEditorCache",s=window.localStorage;l.extend(a.prototype,{initialize:function d(t){this.editor=t.editor,this.parent=t.parent,this.autoCacheCode()},initCacheCode:function u(){var t=this.parent,e=t.rawConfig,n=this._memoryCode={},i=!!e.noCacheCode,o=this.getStorageCode(),a=i?{}:o.code||{},r=i?t.valLangue():o.langue||t.valLangue(),s=t.getLangueData();l.forEach(s,function(t,e){var i=c.trim(a[e]||"");i=(i?a[e]:"")||t.code||t.tplCode,n[e]=i}),r&&t.valLangue(r,!0)},autoCacheCode:function p(){var t=this;t.editor.on("changes",function(){t.cacheCode2Memory()})},cacheCode2Memory:function f(t,e){var i=this.parent,n=this._memoryCode=this._memoryCode||{};arguments.length<2&&(t=i.valLangue(),e=i.valCode());t&&(n[t]=e,this.cacheCode2Storage())},cacheCode2Storage:function h(){var t=this.parent,e=t.rawConfig,i=this.getCacheId(e.runCode),n=this._memoryCode;if(e.noCacheCode)return void(i&&this.delStorageCode());if(i&&s&&n){this.delStorageCode(!0),o.create(r).set(i,{code:n,langue:t.valLangue()})}},delStorageCode:function g(t){var e=this.parent.rawConfig,i=this.getCacheId(e.runCode);if(i&&s){if(s[i]="",s.removeItem(i),!t)o.create(r).remove(i)}},getMemoryCode:function v(t){var e=this._memoryCode||{};return t&&e[t]||""},getStorageCode:function m(){var t,e=this.parent.rawConfig,i=this.getCacheId(e.runCode);if(i){var n=o.create(r);!(t=n.get(i))&&s&&(t=l.json(s[i]))&&(n.set(i,t),s.removeItem(i))}return t||{}},getCacheId:function w(t){if(t){var e=t.questionId||[t.pid||"",t.tid||"",t.qid||""].join("_");if(e&&!/^_+$/.test(e))return e="NC_Code_Cache_"+e}},restoreTpl:function y(){var t=this.parent,e=t.valLangue(),i=(t.getLangueData()[e]||{}).tplCode||"";t.valCode(i),this.cacheCode2Memory(e,i)},restoreCode:function b(){var t=this.parent,e=t.valLangue(),i=this.getMemoryCode(e);t.valCode(i)}})},function(t,e,i){var h=i(1),g=i(0),n=i(2),o=i(16),a=i(100),c=i(31),r={xcsrc:{keyword:"main;include;define;std;break;case;continue;default;do;else;for;goto;if;_Pragma;return;switch;while;catch;operator;try;throw;using;asm;__asm__;auto;bool;_Bool;char;_Complex;double;enum;float;_Imaginary;int;long;short;signed;struct;typedef;union;unsigned;void;class;wchar_t;template;char16_t;char32_t;const;extern;register;restrict;static;volatile;inline;private;protected;public;friend;explicit;virtual;export;mutable;typename;constexpr;new;delete;alignas;alignof;decltype;noexcept;thread_local;and;and_eq;bitand;bitor;compl;not;not_eq;or;or_eq;typeid;xor;xor_eqconst_cast;dynamic_cast;reinterpret_cast;static_cast;sizeof;namespace;NULL;true;false;TRUE;FALSE;nullptr",header:"cstdlib;csignal;cstdarg;typeinfo;bitset;functional;utility;ctime;cstddef;new;memory;climits;cfloat;limits;exception;stdexcept;cassert;cerrno;cctype;cwctype;cstring;cwchar;string;vector;deque;list;set;map;stack;queue;algorithm;iterator;cmath;complex;valarray;numeric;iosfwd;ios;istream;ostream;iostream;fstream;sstream;iomanip;streambuf;cstdio;locale;clocale",func:"isascii(int c)>int;isdigit(int c)>int;isspace(int c)>int;isupper(int c)>int;isxdigit(int c)>int;gcvt(double number, size_t ndigits, char *buf)>char*;toascii(int c)>int;tolower(int c)>int;toupper(int c)>int;getpagesize(void)>size_t;mmap(void *start, size_t length, int prot, int flags, int fd, off_t offsize)>void*;munmap(void *start, size_t length)>int;asctime(const struct tm * timeptr)>char*;ctime(const time_t *timep)>char*;gettimeofday(struct timeval * tv, struct timezone * tz)>int;tm *gmtime(const time_t *timep)>struct;tm *localtime(const time_t * timep)>struct;mktime(strcut tm * timeptr)>time_t;settimeofday(const struct timeval *tv, const struct timezone *tz)>int;time(time_t *t)>time_t;index(const char *s, int c)>char*;memccpy(void *dest, const void * src, int c, size_t n)>void*;memchr(const void *s, char c, size_t n)>void*;memcmp(const void *s1, const void *s2, size_t n)>int;rindex(const char *s, int c)>char*;strcasecmp(const char *s1, const char *s2)>int;strcpy(char *dest, const char *src)>char*;strdup(const char *s)>char*;strncasecmp(const char *s1, const char *s2, size_t n)>int;strtok(char *s, const char *delim)>char*;abs(int j)>int;asin(double x)>double;atan(double x)>double;atan2(double y, double x)>double;endgrent(void)>void;endpwent(void)>void;endutent(void)>void;getgrent(FILE * stream)>struct group*;fgetpwent(FILE * stream)>struct passwd*;getegid(void)>gid_t;geteuid(void)>uid_t;getgid(void)>gid_t;getgrent(void)>struct group*;getgrgid(gid_t gid)>struct group*;getgrnam(const char * name)>struct group*;getgroups(int size, gid_t list[])>int;getpw(uid_t uid, char *buf)>int;getpwent(void)>struct passwd*;getpwnam(const char * name)>struct passwd*;getpwuid(uid_t uid)>struct passwd*;getuid(void)>uid_t;getutent(void)>struct utmp*;getutid(strcut utmp *ut)>struct utmp*;getutline(struct utmp *ut)>struct utmp*;initgroups(const char *user, gid_t group)>int;pututline(struct utmp *ut)>void;seteuid(uid_t euid)>int;setfsgid(uid_t fsgid)>int;setfsuid(uid_t fsuid)>int;setgid(gid_t gid)>int;setgrent(void)>void;setgroups(size_t size, const gid_t * list)>int;setpwent(void)>void;setregid(gid_t rgid, gid_t egid)>int;setreuid(uid_t ruid, uid_t euid)>int;setuid(uid_t uid)>int;setutent(void)>void;utmpname(const char * file)>void;close(int fd)>int;creat(const char * pathname, mode_tmode)>int;dup(int oldfd)>int;dup2(int odlfd, int newfd)>int;flock(int fd, int operation)>int;fsync(int fd)>int;lseek(int fildes, off_t offset, int whence)>off_t;mkstemp(char * template)>int;read(int fd, void * buf, size_t count)>ssize_t;sync(void)>int;write(int fd, const void * buf, size_t count)>ssize_t;clearerr(FILE * stream)>void;fclose(FILE * stream)>int;fdopen(int fildes, const char * mode)>FILE*;feof(FILE * stream)>int;fflush(FILE* stream)>int;fgetc(FILE * stream)>int;fgets(char * s, int size, FILE * stream)>har*;fileno(FILE * stream)>int;fputc(int c, FILE * stream)>int;fputs(const char * s, FILE * stream)>int;fread(void * ptr, size_t size, size_t nmemb, FILE * stream)>size_t;freopen(const char * path, const char * mode, FILE * stream)>FILE*;fseek(FILE * stream, long offset, int whence)>int;ftell(FILE * stream)>long;fwrite(const void * ptr, size_t size, size_t nmemb, FILE * stream)>size_t;mktemp(char * template)>char*;setbuffer(FILE * stream, char * buf, size_t size)>void;setlinebuf(FILE * stream)>void;atexit(void (*function) (void))>int;execl(const char * path, const char * arg, ...)>int;execlp(const char * file, const char * arg, ...)>int;execv(const char * path, char * const argv[])>int;execve(const char * filename, char * const argv[], char * const envp[])>int;execvp(const char *file, char * const argv [])>int;exit(int status)>void;_exit(int status)>void;getpgid(pid_t pid)>pid_t;getpgrp(void)>pid_t;getpid(void)>pid_t;getppid(void)>pid_t;getpriority(int which, int who)>int;nice(int inc)>int;on_exit(void (* function) (int void*), void *arg)>int;setpgid(pid_t pid, pid_t pgid)>int;setpgrp(void)>int;setpriority(int which, int who, int prio)>int;system(const char * string)>int;wait(int * status)>pid_t;waitpid(pid_t pid, int * status, int options)>pid_t;fprintf(FILE * stream, const char * format, ...)>int;fscanf(FILE * stream, const char *format, ...)>int;scanf(const char * format, ...)>int;vfprintf(FILE *stream, const char * format, va_list ap)>int;vfscanf(FILE * stream, const char * format, va_list ap)>int;vprintf(const char * format, va_list ap)>int;vscanf(const char * format, va_list ap)>int;vsprintf(char * str, const char * format, va_list ap)>int;vsscanf(const char * str, const char * format, va_list ap)>int;access(const char * pathname, int mode)>int;alphasort(const struct dirent **a, const struct dirent **b)>int;chdir(const char * path)>int;chmod(const char * path, mode_t mode)>int;chown(const char * path, uid_t owner, gid_t group)>int;chroot(const char * path)>int;closedir(DIR *dir)>int;fchdir(int fd)>int;fchmod(int fildes, mode_t mode)>int;fchown(int fd, uid_t owner, gid_t group)>int;fstat(int fildes, struct stat *buf)>int;ftruncate(int fd, off_t length)>int;getcwd(char * buf, size_t size)>char*;link(const char * oldpath, const char * newpath)>int;lstat(const char * file_name, struct stat * buf)>int;opendir(const char * name)>DIR*;readdir(DIR * dir)>struct dirent*;readlink(const char * path, char * buf, size_t bufsiz)>int;rewinddir(DIR *dir)>void;seekdir(DIR * dir, off_t offset)>void;stat(const char * file_name, struct stat *buf)>int;symlink(const char * oldpath, const char * newpath)>int;telldir(DIR *dir)>off_t;truncate(const char * path, off_t length)>int;umask(mode_t mask)>mode_t;unlink(const char * pathname)>int;utime(const char * filename, struct utimbuf * buf)>int;utimes(char * filename, struct timeval *tvp)>int;alarm(unsigned int seconds)>unsigned int;kill(pid_t pid, int sig)>int;pause(void)>int;sigaddset(sigset_t *set, int signum)>int;sigdelset(sigset_t * set, int signum)>int;sigemptyset(sigset_t *set)>int;sigfillset(sigset_t * set)>int;sigismember(const sigset_t *set, int signum)>int;(*signal(int signum, void(* handler)(int)))(int)>void;sigpending(sigset_t *set)>int;sigprocmask(int how, const sigset_t *set, sigset_t * oldset)>int;sleep(unsigned int seconds)>unsigned int;ferror(FILE *stream)>int;strerror(int errnum)>char*;mkfifo(const char * pathname, mode_t mode)>int;pclose(FILE * stream)>int;popen(const char * command, const char * type)>FILE*;accept(int s, struct sockaddr * addr, int * addrlen)>int;bind(int sockfd, struct sockaddr * my_addr, int addrlen)>int;connect(int sockfd, struct sockaddr * serv_addr, int addrlen)>int;endprotoent(void)>void;endservent(void)>void;getsockopt(int s, int level, int optname, void* optval, socklen_t* optlen)>int;htonl(unsigned long int hostlong)>unsigned long int;htons(unsigned short int hostshort)>unsigned short int;inet_addr(const char *cp)>unsigned long int;inet_aton(const char * cp, struct in_addr *inp)>int;inet_ntoa(struct in_addr in)>char*;listen(int s, int backlog)>int;ntohl(unsigned long int netlong)>unsigned long int;ntohs(unsigned short int netshort)>unsigned short int;recv(int s, void *buf, int len, unsigned int flags)>int;recvfrom(int s, void *buf, int len, unsigned int flags, struct sockaddr *from,int *fromlen)>int;recvmsg(int s, struct msghdr *msg, unsigned int flags)>int;send(int s, const void * msg, int len, unsigned int falgs)>int;sendmsg(int s, const strcut msghdr *msg, unsigned int flags)>int;sendto(int s, const void * msg, int len, unsigned int flags, const struct&nbsp>sockaddr * to, int tolen);setprotoent(int stayopen)>void;setsockopt(int s, int level, int optname, const void * optval, ,socklen_toptlen)>int;shutdown(int s, int how)>int;socket(int domain, int type, int protocol)>int;getenv(const char *name)>char*;putenv(const char * string)>int;getopt(int argc, char * const argv[], const char * optstring)>int;isatty(int desc)>int;select(int n, fd_set * readfds, fd_set * writefds, fd_set * exceptfds, struct&nbsp>timeval * timeout);ttyname(int desc)>char*"},xjava:{keyword:"abstract;assert;boolean;break;byte;case;catch;char;class;const;continue;default;do;double;else;enum;extends;final;finally;float;for;goto;if;implements;import;instanceof;int;interface;long;native;new;package;private;protected;public;return;short;static;strictfp;super;switch;synchronized;this;throw;throws;transient;try;void;volatile;while",extra:"Enum;MONTH;WEEK_OF_MONTH;DECEMBER;OutputStream;ArrayList;String;Math;WEDNESDAY;NEGATIVE_INFINITY;LONG_STANDALONE;YEAR;WEEK_OF_YEAR;TreeSet;CASE_INSENSITIVE;SATURDAY;Vector;TYPE;LITERAL;LONG_FORMAT;in;SIZE;AM;DOTALL;Float;UNICODE_CASE;ERA;SortedMap;Byte;JULY;Object;DAY_OF_WEEK;Arrays;Map;DAY_OF_YEAR;Set;MAY;DAY_OF_MONTH;Matcher;E;FRIDAY;AM_PM;FEBRUARY;COMMENTS;Reader;MAX_VALUE;SortedSet;out;ZONE_OFFSET;StringWriter;UNDECIMBER;StringReader;Queue;MIN_EXPONENT;LONG;PrintWriter;JUNE;Pattern;err;Hashtable;Calendar;NOVEMBER;IOException;TreeMap;UNIX_LINES;StringBuffer;Runnable;MARCH;OutputStreamWriter;MILLISECOND;Writer;LinkedHashSet;BYTES;Comparable;THURSDAY;HashMap;NARROW_STANDALONE;DAY_OF_WEEK_IN_MONTH;NARROW_FORMAT;Comparator;FIELD_COUNT;Random;MINUTE;List;Collections;Short;HashSet;JANUARY;DST_OFFSET;EMPTY_MAP;SUNDAY;UNICODE_CHARACTER_CLASS;TUESDAY;CANON_EQ;SEPTEMBER;Double;LinkedList;Stack;POSITIVE_INFINITY;DATE;MAX_EXPONENT;ByteArrayInputStream;EMPTY_SET;Long;AUGUST;Collection;MULTILINE;CASE_INSENSITIVE_ORDER;Scanner;Dictionary;HOUR;ALL_STYLES;MatchResult;System;Number;MIN_NORMAL;HOUR_OF_DAY;Iterator;NaN;APRIL;PrintStream;SHORT_STANDALONE;InputStreamReader;OCTOBER;InputStream;Error;ByteArrayOutputStream;MIN_VALUE;Date;Exception;SHORT;Integer;MONDAY;EMPTY_LIST;PI;SECOND;PM;SHORT_FORMAT",header:"java.util.Collections;java.util.Comparator;java.util.Date;java.util.List;java.util.Locale;java.util.regex.Pattern;java.util.regex.Matcher;java.util.regex.MatchResult;java.io.BufferedOutputStream;java.io.BufferedInputStream;java.io.FileOutputStream;java.io.FileInputStream;java.io.StringReader;java.io.StringWriter;java.util.regex.Matcher;java.util.regex.MatchResult;java.util.Arrays;java.util.Collections;java.util.Arrays;java.util.ArrayList;java.util.Set;java.util.Map;java.util.HashMap;java.util.HashSet;java.util.Dictionary;java.util.Iterator;java.util.LinkedHashMap;java.util.LinkedHashSet;java.util.LinkedList;",method:"nextFloat;newSetFromMap;setSecurityManager;toUnsignedLong;asList;offer;unmodifiableCollection;quote;trim;disjoint;getSuppressed;getMonth;removeAllElements;getAvailableLocales;setTime;emptyEnumeration;printStackTrace;subMap;divideUnsigned;useDelimiter;concat;contains;size;toBinaryString;endsWith;listIterator;lowerKey;pollFirst;headMap;usePattern;emptySet;compare;roll;nextAfter;lineSeparator;setLenient;removeLast;appendCodePoint;search;nanoTime;setTimeZone;after;close;getenv;setMonth;synchronizedMap;set;toHexString;doubleToRawLongBits;getTimezoneOffset;abs;setTimeInMillis;floorDiv;toString;bitCount;toUnsignedString;hasNextBigDecimal;unmodifiableSortedSet;retainAll;byteValue;emptyIterator;navigableKeySet;higherEntry;longBitsToDouble;getLast;empty;compute;checkedNavigableSet;toMatchResult;getStackTrace;addSuppressed;getFirst;decrementExact;enumeration;add;list;ioException;setStackTrace;ulp;asLifoQueue;fillInStackTrace;reverseBytes;hasTransparentBounds;getTime;notifyAll;regionMatches;runFinalizersOnExit;locale;replaceAll;remove;random;tanh;emptyList;setHours;load;hashCode;elementAt;subSet;sin;end;gc;useRadix;hasNextBoolean;codePointCount;floorEntry;toIntExact;isEmpty;setFirstDayOfWeek;parse;subSequence;nextLong;hasNextShort;nextGaussian;parseByte;offerLast;print;insertElementAt;computeIfPresent;getFirstDayOfWeek;clone;asin;emptySortedSet;hasNextLong;append;charAt;numberOfTrailingZeros;deleteCharAt;copyOfRange;getWeekYear;headSet;codePointAt;setMinimalDaysInFirstWeek;containsValue;parseUnsignedLong;identityHashCode;sqrt;higherKey;setSeconds;toArray;parallelStream;findInLine;join;codePointBefore;write;compareToIgnoreCase;atan2;spliterator;lower;getTimeInMillis;regionEnd;hasNext;peekFirst;toDegrees;peekLast;ceil;doubleToLongBits;getExponent;ceilingKey;toGMTString;writeTo;exit;compareUnsigned;getDisplayName;setWeekDate;mapLibraryName;hasNextDouble;tailMap;synchronizedSortedMap;wait;ceilingEntry;getLocalizedMessage;intBitsToFloat;skip;notify;addLast;checkedMap;stream;parseShort;copyValueOf;comparingDouble;trimToSize;synchronizedSet;nextLine;max;getActualMinimum;getMessage;hasAnchoringBounds;peek;IEEEremainder;getLong;comparator;getSeconds;unmodifiableSortedMap;parseLong;equals;currentTimeMillis;setDate;nullsFirst;shuffle;rotate;getTimeZone;UTC;cos;expm1;offerFirst;compareTo;decode;setOut;floatToRawIntBits;nextUp;split;find;removeFirst;indexOf;emptyNavigableMap;read;comparingLong;entrySet;swap;getLeastMaximum;toLowerCase;sort;acos;fill;synchronizedNavigableSet;removeIf;lastIndexOfSubList;addElement;requireEnd;getBuffer;keys;getMaximum;delete;substring;parallelSort;parseDouble;getHours;println;setSize;putAll;nextBoolean;floor;keySet;console;getCalendarType;forEach;contentEquals;nextInt;toRadians;setYear;getDay;getMinutes;appendReplacement;lastEntry;removeElement;reversed;toCharArray;firstElement;setProperties;rint;setCharAt;iterator;removeAll;getWeeksInWeekYear;deepHashCode;merge;equalsIgnoreCase;exp;element;floorKey;tailSet;nextBigDecimal;synchronizedSortedSet;checkedCollection;getProperties;initCause;toUnsignedInt;addExact;lowerEntry;nextByte;log10;descendingIterator;replaceFirst;sum;checkError;pollLast;isFinite;pop;parseUnsignedInt;getDeclaringClass;min;thenComparing;isInfinite;setElementAt;ints;arraycopy;hypot;removeElementAt;pow;synchronizedList;checkedSet;getDisplayNames;subList;intern;unmodifiableNavigableMap;getChars;singletonList;parallelSetAll;nextDouble;radix;addAll;emptyListIterator;hasNextLine;incrementExact;comparingInt;addFirst;chars;ordinal;getOrDefault;emptyNavigableSet;thenComparingDouble;markSupported;log1p;available;indexOfSubList;run;isNaN;getCause;getBytes;frequency;compile;getActualMaximum;quoteReplacement;checkedSortedSet;singletonMap;nextShort;getMinimum;toUpperCase;shortValue;forEachRemaining;unmodifiableNavigableSet;removeLastOccurrence;codePoints;synchronizedNavigableMap;last;sinh;copyInto;floatValue;setMinutes;unmodifiableMap;numberOfLeadingZeros;pollLastEntry;getSecurityManager;firstKey;lastElement;name;ensureCapacity;region;toLocaleString;higher;next;thenComparingInt;computeIfAbsent;useTransparentBounds;descendingSet;synchronizedCollection;multiplyExact;binarySearch;toOctalString;printf;cbrt;flush;negateExact;lastKey;singleton;valueOf;start;nextDown;parseInt;lastIndexOf;appendTail;isWeekDateSupported;toByteArray;checkedQueue;getInstance;putIfAbsent;mark;useLocale;deepToString;copySign;put;getEncoding;floatToIntBits;delimiter;asPredicate;nextBigInteger;hasNextBigInteger;signum;isSet;doubleValue;matcher;matches;push;getYear;groupCount;doubles;setProperty;reset;hasNextInt;useAnchoringBounds;hitEnd;runFinalization;parseFloat;getMinimalDaysInFirstWeek;naturalOrder;parallelPrefix;log;reverseOrder;pattern;flags;rotateLeft;longValue;capacity;longs;remainderUnsigned;get;emptyMap;getDate;firstEntry;copy;hasNextByte;containsAll;copyOf;reverse;toInstant;checkedList;nCopies;elements;first;descendingKeySet;getClass;getAvailableCalendarTypes;before;replace;splitAsStream;getInteger;poll;atan;clearProperty;lookingAt;checkedSortedMap;checkedNavigableMap;inheritedChannel;from;group;tan;setErr;loadLibrary;setIn;deepEquals;containsKey;format;comparing;unmodifiableList;setLength;nullsLast;removeFirstOccurrence;setSeed;hasNextFloat;getGreatestMinimum;scalb;floorMod;isLenient;descendingMap;values;insert;findWithinHorizon;regionStart;nextBytes;pollFirstEntry;unmodifiableSet;ready;setAll;lowestOneBit;subtractExact;ceiling;getProperty;rotateRight;intValue;clear;match;cosh;emptySortedMap;thenComparingLong;round;highestOneBit;offsetByCodePoints;startsWith"},xpython:{keyword:"and;as;assert;break;class;continue;def;del;elif;else;except;exec;finally;for;from;global;if;import;in;is;lambda;not;or;pass;print;raise;return;try;while;with;yield"},xjs:{keyword:"break;case;catch;continue;default;delete;do;else;finally;for;function;if;in;instanceof;new;return;switch;this;throw;try;typeof;var;void;while;with;abstract;boolean;byte;char;class;const;debugger;double;enum;export;extends;final;float;goto;implements;import;int;interface;long;native;package;private;protected;public;short;static;super;synchronized;throws;transient;volatile"},xcsharp:{keyword:"abstract;as;base;bool;break;byte;case;catch;char;checked;class;const;continue;decimal;default;delegate;do;double;else;enum;ecent;explicit;extern;false;finally;fixed;float;for;foreach;get;goto;if;implicit;in;int;interface;internal;is;lock;long;namespace;new;null;object;out;override;partial;private;protected;public;readonly;ref;return;sbyte;sealed;set;short;sizeof;stackalloc;static;struct;switch;this;throw;true;try;typeof;uint;ulong;unchecked;unsafe;ushort;using;value;virtual;volatile;volatile;void;where;while;yield"},xphp:{keyword:"__halt_compiler;abstract;and;array;as;break;callable;case;catch;class;clone;const;continue;declare;default;die;do;echo;else;elseif;empty;enddeclare;endfor;endforeach;endif;endswitch;endwhile;eval;exit;extends;final;finally;for;foreach;function;global;goto;if;implements;include;include_once;instanceof;insteadof;interface;isset;list;namespace;new;or;print;private;protected;public;require;require_once;return;static;switch;throw;trait;try;unset;use;var;while;xor;yield"}},s=t.exports=n.create();g.extend(s.prototype,o,{codeIndex:1,lastHintList:null,currentHintList:null,initialize:function l(t){this.editor=t.editor;var e=(this.parent=t.parent).rawConfig.codeHint;if(!{keyword:1,all:1}[e||""])return;this.useRemote="all"===e,this.initHint(),this.initEvent(),this.canUse=!0},initHint:function d(){var o,a=this,t=a.editor;g.forEach({"text/x-csrc":"hintCSRC","text/x-c++hdr":"hintCSRC","text/x-c++src":"hintCSRC","text/x-java":"hintJava",python:"hintPython","text/x-python":"hintPython",javascript:"hintJs","text/javascript":"hintJs","text/x-csharp":"hintCSharp",php:"hintPhp","application/x-httpd-php":"hintPhp"},function(t,e){window.CodeMirror.registerHelper("hint",e,a.wrapHint(a[t]))}),t.on("change",function(t,e){var i=t.getValue(),n=o===i;if(o=i,!n){if(a.codeIndex++,!e||"+input"!==e.origin)return a.closeMenu();a.showHint()}});var e=g.bind(a.getHintList,a);e.async=!0,g.extend(t.options.hintOptions,{hint:e})},initEvent:function u(){var t=this;t.listen("codeHintClose",function(){t.lastHintList=null}),t.listen("codeHintShown",function(){})},start:function p(t){this.canUse=!1!==t},showHint:function f(){if(!this.canHint())return;this.currentHintList=this.lastHintList,this.editor.showHint()},hintCSRC:function v(t){return this.hintCommonAction(t,[".","->"],"xcsrc")},hintJava:function m(t){return this.hintCommonAction(t,["."],"xjava")},hintPython:function w(t){return this.hintCommonAction(t,null,"xpython")},hintJs:function y(t){return this.hintCommonAction(t,null,"xjs")},hintCSharp:function b(t){return this.hintCommonAction(t,null,"xcsharp")},hintPhp:function x(t){return this.hintCommonAction(t,null,"xphp")},hintCommonAction:function C(e,t,i){var a=this,n=a.getInfo()||{},o=n.token,r=n.cur;if(!o||!r)return e&&e();var s=o.string,c=[];if(t&&g.contains(t,s))return a.currentHintList=null,o.start=r.ch,o.end=r.ch,void a.server(o,r,function(t){g.isArray(t)&&0!==t.length&&(g.forEach(t,function(t){var e=t.name,i=h.trim(e.split("(")[0]),n=t.type,o=20<e.length?e.substr(0,20)+"...":e;c.push(a.wrapListItem({text:i,display:o,ext:n,method:!0}))}),e&&e(a.wrapResult(c,o,r)))});if("xcsrc"===i&&/^#[^#]+$/.test(s)){var l=s.substr(o.start,r.ch-o.start);if(/^#[^#]+$/.test(l))if(/\s/g.test(l)){var d=l.split(/\s+/);if(2===d.length&&/^<[^<]+$/.test(d[1])){var u=l.indexOf(d[1]);s=d[1].replace(/</gi,""),o.start=u+1}}else s=l.replace("#",""),o.start+=1,/\s/.test(l)?o.end=l.indexOf(" "):o.end=Math.min(l.length,o.end)}if(a.hintHistory(s,o,r,e))return;var p=a.getHintData(i);g.forEach(["keyword","header","extra"],function(e){g.forEach(p[e],function(t){a.isStartWith(t,s)&&c.push(a.wrapListItem({text:t,display:t,ext:e}))})}),g.forEach(p.method,function(t){a.isStartWith(t,s)&&c.push(a.wrapListItem({text:t+"()",display:t,ext:"function"}))}),g.forEach(p.func,function(t){a.isStartWith(t.text,s)&&c.push(a.wrapListItem({text:t.text,display:t.display,ext:t.type,method:!0}))});var f=a.wrapResult(c,o,r);e&&e(f)},hintHistory:function E(e,t,i,n){var o=this;if(!o.currentHintList)return!1;var a=g.filter(o.currentHintList.list,function(t){return o.isStartWith(t.text,e)});return n&&n(o.wrapResult(a,t,i)),!0},getHintList:function k(t,e){var i=t.getCursor(),n=(t.getHelpers(i,"hint")||[])[0];if(n)return n&&n(e);var o=window.CodeMirror.hint.auto.resolve(t,i)(t);e&&e(o)},getSocket:function S(t){var n=this;if(!a.isSupport||!n.useRemote)return;if(n.ws)t&&t(n.ws);else{var e=n.ws=new a({url:"wss://101.37.169.225:9012/suggest"});e.listen("open",function(){t&&t(e)}),e.listen("error",function(){n.ws=null,g.out("出现错误")}),e.listen("close",function(){n.ws=null}),e.listen("message",function(t){var e=g.id(t.id),i=n.getSocketEventName(e);if(e!==g.id(n.codeIndex))return n.unlisten(i);n.fire(i,t.data)}),e.connect()}},getInfo:function T(){if(!this.canHint())return;var t=this.editor,e=t.getCursor(),i=t.getTokenAt(e);return i.state=window.CodeMirror.innerMode(t.getMode(),i.state).state,{token:i,cur:e}},getHintData:function j(t){var e=this._cacheHintData=this._cacheHintData||{};e[t]||(e[t]={},e[t]={keyword:(r[t].keyword||"").split(";"),header:(r[t].header||"").split(";"),extra:(r[t].extra||"").split(";"),method:(r[t].method||"").split(";"),func:g.map((r[t].func||"").split(";"),function(t){var e=t.split(">"),i=e.pop(),n=e.join(">");h.trim(n.split("(")[0]);return{display:50<n.length?n.substr(0,50)+"...":n,text:n,type:i}})});return e[t]},getSocketEventName:function _(t){return"NC_CODEMIRROR_CODE_HINT"+t},closeMenu:function I(){var t=this.editor;try{t.state.completionActive&&t.state.completionActive.close()}catch(e){}},canHint:function L(){var t=this.parent,e=this.editor,i=e.getCursor(),n=e.getTokenAt(i);if(!this.canUse)return;{var o=g.id(t.valLangue()),a=c.getHintLang();if(!o||!g.contains(a,o))return}var r=n.type,s=n.string;if(/\b(?:string|comment)\b/.test(r))return;return!!h.trim(s)||void 0},fireEditor:function P(){var t=this.parent;this.fire.apply(this,arguments),t.fire.apply(t,arguments)},isStartWith:function A(t,e){return 0===t.indexOf(e)},server:function M(t,i,n){var o=this,a=o.parent,r=o.codeIndex;o.getSocket(function(t){if(t&&r===o.codeIndex){var e=o.getSocketEventName(r);o.one(e,n),t.clearSendList(),t.send({code:o.editor.getValue(),line:i.line+1,col:i.ch+1,lang:a.valLangue(),id:r})}})},wrapListItem:function z(t){return{text:t.text+(t.method,""),displayText:t.display,ext:t.ext,render:function(t,e,i){t.innerHTML=(i.ext?'<span style="float:right;margin-left:20px;">'+i.ext+"</span>":"")+i.displayText}}},wrapResult:function D(t,e,i){var n=this,o=CodeMirror.Pos;return g.isArray(t)&&0!==t.length?{list:t,from:o(i.line,e.start),to:o(i.line,e.end),_handlers:{shown:[function(){n.fireEditor("codeHintShown")}],select:[function(){n.fireEditor("codeHintSelect")}],pick:[function(){n.fireEditor("codeHintPick")}],close:[function(){n.fireEditor("codeHintClose")}]}}:null},wrapHint:function H(t){var n=this;return function(e){var i;g.isFunction(e);return g.bind(t,n)(function(t){i=t,g.isFunction(e)&&(n.lastHintList=t,e(t))}),n.lastHintList=i}}})},function(t,e,i){t.exports=i(4)(54)},function(t,e,i){var u=i(1),p=i(0),n=i(2),o=i(17),a=i(30),r=t.exports=n.create();p.extend(r.prototype,{initialize:function s(t){this.editor=t.editor,this.parent=t.parent,this.initDb(),this.initSwitch()},initDb:function c(){var t=this.db=o.create("codeEditorCache"),e=o.get("codeEditorHintStatus"),i=o.get("codeEditorTabSpaceStatus");e!==undefined&&null!==e&&(t.set("settingHint",e),o.remove("codeEditorHintStatus"));i!==undefined&&null!==i&&(t.set("settingTabSpace",i),o.remove("codeEditorTabSpaceStatus"))},initSwitch:function l(){var t=u(['<div class="format-setting">','<a href="javascript:void(0);" class="icon-cog"></a>','<ul class="dropdown-menu js-switch"></ul>',"</div>"].join(""));this.getEl().append(t);var e=t.find(".js-switch");this.createHint(e),this.createTab(e),this.createSpaceCount(e)},createHint:function d(t){var e=this.parent,i=e.rawConfig,n=this.db;if({keyword:1,all:1}[i.codeHint||""]){var o=n.get("settingHint");o=!(o!==undefined&&!o);var a=this.createSwitch(t,"代码自动补全",o);a.listen("change",function(){r(a.isChecked())}),r(o)}function r(t){n.set("settingHint",!!t),e.execPlugin("hint","start",!!t)}},createTab:function f(t){var e=this.parent,i=(e.rawConfig,e.getEl()),n=this.db,o=n.get("settingTabSpace");o=!(o!==undefined&&!o);var a=this.createSwitch(t,"空格tab提示",o);function r(t){n.set("settingTabSpace",!!t),i[t?"removeClass":"addClass"]("cm-nc-tab-space-close")}a.listen("change",function(){r(a.isChecked())}),r(o)},createSpaceCount:function h(t){var s=this.parent,c=this.db,e=u(['<li style="width:180px;">','<div class="code-typography-item">','<span class="code-typography-txt">Tab长度</span>','<span class="code-typography-oprt"><a href="javascript:void(0);" class="typography-oprt js-space-action" data-type="-">-</a><span class="js-result">'+d()+'</span><a href="javascript:void(0);" class="typography-oprt js-space-action" data-type="+">+</span></span>',"</div>","</li>"].join("")),l=e.find(".js-result");function d(){return{2:2,4:4,8:8}[c.get("settingSpaceCount")]||4}t.append(e),e.on("click",".js-space-action",function(t){var e=u(t.currentTarget),i=u.trim(e.attr("data-type")),n=d(),o=[2,4,8],a=p.indexOf(o,n)+("-"===i?-1:1),r=o[a=Math.min(Math.max(0,a),o.length-1)];l.html(r),r!==n&&(c.set("settingSpaceCount",r),s.editor.setOption("indentUnit",r))})},createSwitch:function g(t,e,i){var n=u('<li style="width:180px;"><a href="javascript:void(0);"></a></li>');return t.append(n),new a({renderTo:n.find("a"),text:e,checked:i})},getEl:function v(){return this.parent.getEl().find(".js-head-tool")}})},function(t,e,i){var n=i(1),o=i(0),a=i(2),r=i(3),s=t.exports=a.create();o.extend(s.prototype,{initialize:function c(t){this.editor=t.editor,this.parent=t.parent,this.systemCase=t.parent.rawConfig.selfTestSystemCase||[],this.elMap={},this.isInTest=!1,this.hasSystemCase=0<this.systemCase.length,this.parent.rawConfig.noSelfTest||this.initAction()},initAction:function l(){var i=this,t=i.parent.getEl();t.on("click",".js-self-test",function(){i.enterTest()}),t.on("click",".js-exit-self-test",function(){i.exitTest()}),t.on("click",".js-more-self-test",function(){i.popupExplain()}),t.on("click",".js-system-list a.test-tag",function(t){var e=+n(t.currentTarget).attr("data-index")||0;i.fillCase(e)})},val:function d(){var t=this.elMap;return{inTest:!!this.isInTest,input:t.inputIpt?t.inputIpt.val():"",output:t.outputIpt?t.outputIpt.val():""}},enterTest:function u(){var t=this.parent,e=t.getEl(),i=this.elMap;if(!this.isInTest){if(!i.content){var n=this._createMask(),o=this._createContent();e.append(n),e.append(o),i.mask=n,i.content=o,i.head=o.find(".js-head"),i.body=o.find(".js-body"),i.input=o.find(".js-input"),i.output=o.find(".js-output"),i.inputIpt=o.find(".js-input textarea"),i.outputIpt=o.find(".js-output textarea"),i.listDv=o.find(".js-system-list")}this.isInTest=!0,i.mask.show(),i.content.show(),i.inputIpt.focus(),this.resize(),t.fire("enterSelfTest")}},exitTest:function p(){var t=this.parent,e=this.elMap;e.mask&&e.mask.hide(),e.content&&e.content.hide(),this.isInTest&&t.fire("exitSelfTest"),this.isInTest=!1},resize:function f(){if(this.isInTest){var t=this.elMap,e=t.content,i=t.head,n=t.body,o=t.input,a=t.output,r=t.inputIpt,s=t.outputIpt,c=t.listDv;n.outerHeight(e.height()-i.outerHeight());var l=n.height()-(this.hasSystemCase?c.outerHeight():""),d=n.width();o.outerWidth(d).outerHeight(l/2),a.outerWidth(d).outerHeight(l/2),r.outerWidth(o.width()).outerHeight(o.height()),s.outerWidth(a.width()).outerHeight(a.height())}},fillCase:function h(t){var e=this.systemCase[t],i=this.elMap;e&&(i.inputIpt.val(e.input||""),i.outputIpt.val(e.output||""))},popupExplain:function g(){var t=this.parent.rawConfig;new r({title:"代码自测功能使用提示",hasNoFooter:!0,width:600,content:['<div class="pop-code-notice">','<div class="pop-info-tips">'+t.selfTestWarning+"</div>","<p>1.填写输入数据和你期待的结果</p>","<p>2.点击“自测调试”，如果你输入的数据得到的实际输出与你期待的输出一致，则表示你的测试数据通过，会有如下提示：</p>",'<img src="//uploadfiles.nowcoder.com/images/20180823/56_1535005008976_AD4F6DE9FF11BCC9697747A2B50BC911" style="width:550px;height:100px;" />',"<p>如果你输入的数据得到的实际输出与你期待的输出不一致，则表示你的测试数据不通过，会有如下提示：</p>",'<img src="//uploadfiles.nowcoder.com/images/20180823/56_1535005392947_E44F06C1B49DDAE84EB477856E41381F" style="width:550px;height:100px;" />',"</div>",'<div class="submit-btnbox"><a href="javascript:void(0);" class="btn btn-primary js-close-popup">关闭提示</a></div>'].join("")})},_createMask:function v(){return n('<div style="position:absolute;z-index:9;left:0;top:0;background:#000;width:100%;height:100%;filter:alpha(opacity:30);opacity:0.3;"></div>')},_createContent:function m(){var t=this.hasSystemCase?'<div class="self-test-tags js-system-list">使用示例自测'+o.map(this.systemCase,function(t,e){return'<a class="test-tag" href="javascript:void(0);" data-index="'+e+'">示例'+(e+1)+"</a>"}).join("")+"</div>":"";return n(['<div class="self-test-main" style="position:absolute;z-index:10;left:0;top:0;width:100%;height:100%;font-size:14px;overflow:hidden;">','<div class="js-head self-test-hd">','<span>根据本题要求输入你自测的用例，<a href="javascript:void(0);" class="link-green js-more-self-test">点击了解更多</a></span>','<a href="javascript:void(0);" class="link-green float-right js-exit-self-test">返回代码编辑器</a>',"</div>",'<div class="js-body self-test-bd">','<div class="js-input self-test-item" style="padding:0 0 5px 0;display:block;">','<textarea style="resize:none;" placeholder="输入数据"></textarea>',"</div>",'<div class="js-output self-test-item" style="padding:5px 0 0 0;display:block;">','<textarea style="resize:none;" placeholder="你期待的输出结果"></textarea>',"</div>",t,"</div>","</div>"].join(""))}})},function(t,e,i){var o=i(1),n=i(7),a=i(9),r=i(2),s=(i(0),i(22)),c=i(12),l=i(5),d=i(3),u=t.exports=r.create();r.mix(u,n,{_template:['<div class="">','<div class="subject-upload">','<div class="subject-upload-inner">','<span class="js-upload-wrap"><a class="btn-upload2 js-upload-btn" href="javascript:void(0);"></a></span>','<a class="btn-upload2 js-upload-btn-bak" style="display:none;" href="javascript:void(0);"></a>','<span class="subject-upload-text">#{desc}</span>',"</div>",'<div class="subject-upload-inner js-upload-progress" style="display:none;"></div>',"</div>",'<div class="subject-info" style="display:none;">','<div class="alert alert-danger js-run-info"></div>',"</div>",'<div class="subject-action clearfix">','<div class="subject-next">','<a href="javascript:void(0);" class="js-submit-code btn btn-primary" style="width:150px;">#{runTxt}</a>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.uploadFile=null,this.uploadFileId=[],this.progressEl=t.find("div.js-upload-progress"),this.runInfoEl=t.find("div.js-run-info"),this.initUpload()}},{name:"click .js-submit-code",handler:function(t){this.runCode(t)}},{name:"click .js-upload-btn-bak",handler:function(){d.alert("正在判题中，判题完成后才能再次提交")}}]},{initialize:function p(t){this.fileReset=!1},initUpload:function f(){var i=this,t=i.rawConfig,n=i.getEl();i.upload=new s({target:i,holderEl:n.find("a.js-upload-btn"),type:c.uploadType.data,fileType:t.fileType||"*.txt",fileSizeLimit:t.fileSize||5,fileQueueLimit:1,btn:{image:"//uploadfiles.nowcoder.com/images/20170720/56_1500535196899_0D6F0B229817E61B74168FFDD350D585",width:150,height:45},uploadSuccess:function(t,e){i.uploadFile=e,i.fileReset=!0,n.find("span.subject-upload-text").html("已上传"+e.fileName+"("+e.fileSize+")"),i.runInfoEl.parent().hide()}})},runCode:function h(t){var s=this,e=s.uploadFile,i=s.rawConfig,n=o(t.currentTarget);if(!e)return void d.alert("请先提交文件");if(s.isRuning)return void d.alert("正在判题中");if(!s.fileReset)return void d.alert("请不要重复提交运行同一文件");if(a.mark(n))return;function c(){s.hideUpload(!1),s.isRuning=!1,a.clear(n)}s.fileReset=!1,s.isRuning=!0,s.hideUpload(),s.showMemo("正在提交文件...","info","submit"),l.codeDmRun({body:{qid:i.qid,url:e.url},call:function(t){s.runTimer&&window.clearTimeout(s.runTimer),s.showMemo("正在判题...","info","status"),s.runTimer=setTimeout(function(){var r=arguments.callee;l.codeDmStatus({query:{submissionId:t.submissionId},call:function(t){var e=(t=t||{}).status,i=t.desc,n=t.memo;if(5===e){var o=i+"\n";if(t.needDownload){var a=t.downloadMemoName?t.downloadMemoName:"";o+='<div><a class="link-green" target="_blank" href="/downloadDataMingMemo?submissionId='+t.submissionId+"&filename="+a+'">点击下载结果</a></div>'}else t.isComplete?o+=n:(o+=n,o+='<div><a class="link-green" target="_blank" href="/completeDataMiningSubmissionInfo?submissionId='+t.submissionId+'">查看全部</a></div>');s.showMemo(o,"info","complete"),s.runTimer=null,c()}else if(0===e||23===e||19===e||100===e)s.runTimer=setTimeout(r,1e3),s.showMemo("正在判题...\n"+(i||"")+"\n"+(n||""),"info","wait");else{o=(i||"")+"\n"+(n||"");s.showMemo(o,"","complete"),s.runTimer=null,c()}},error:function(t){s.showMemo(t.msg||"出现错误，请重试","","error"),c()}})},1e3)},error:function(t){s.showMemo(t.msg||"出现错误，请重试","","error"),c()}})},showMemo:function g(t,e,i){var n=this.rawConfig,o=this.runInfoEl,a="info"===e?"alert-danger":"alert-info",r="info"===e?"alert-info":"alert-danger";o.removeClass(a).addClass(r),n.fixMemo&&(t=n.fixMemo(t,e)||t),o.html(t.replace(/\n/g,"<br />")).show(),o.parent().show()},hideUpload:function v(t){var e=o(".js-upload-btn-bak"),i=o(".js-upload-wrap");!1===t?(e.hide(),i.css("position","static"),i.css("top",0)):(i.css("position","absolute"),i.css("top","-100000px"),e.show())},_getData:function m(){var t=this.rawConfig;return{desc:t.desc||"上传数据结果文件，格式仅限txt文件",runTxt:t.runTxt||"运行"}}})},function(t,e,i){var a=i(15),s=i(1),c=i(0),n=i(7),o=i(2),r=i(8),l=i(6),d=i(31),u=i(64),p=(i(65),i(3)),f=i(12),h=i(5),g=i(66),v=i(18),m=t.exports=o.create();o.mix(m,n,{_template:['<div class="code-editor-wrap">','<div class="code-editor-head clearfix js-header">',"#{languageStr}","#{previewStr}","#{pluginStr}","</div>",'<div class="code-font js-container">','<div class="code-font js-editor" style="display:inline-block;"></div>','<div class="js-iframe-container" style="display:none;background:#fff;border:1px solid #272822;border-top:none;position:relative;">','<a href="javascript:void(0);" class="self-test-close js-close-preview" style="position:absolute;right:0;top:0;"></a>','<iframe class="js-iframe" style="width:100%;height:100%;" frameborder="0" hidefocus="true"></iframe>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig,i=t.getEl();t.initPlugin(function(){t.editorEl=i.find(".js-editor"),t.iframe=i.find(".js-iframe"),t.initEditor(),n.setEvents(),t.initTab(),t.changeMode(),t.initAutoSize(),e.openPreview&&t.showPreview()})}},{name:"click .js-go-preview",handler:function(t){this.showPreview(!this.isInPreview)}},{name:"click .js-close-preview",handler:function(){this.showPreview(!1)}}],loadDep:function w(t){a.use(["ncPlugin/codemirror/style/codemirror.css","ncPlugin/codemirror/style/theme/monokai.css","ncPlugin/codemirror/codemirror"],t)}},{initialize:function y(t){this._fixConf(t),this.initData(t),this.pluginSelected=[],this.isInPreview=!1,this.codeSubmit=new u},initData:function b(t){var i=this;i.languageSelected="",i.codeMap={html:"",css:"",javascript:""},c.forEach(t.languages,function(t){var e=t.text;t.checked&&(i.languageSelected=e),i.codeMap[e]=t.code||""})},initPlugin:function x(t){a.use(["ncPlugin/codemirror/mode/clike/clike","ncPlugin/codemirror/addon/edit/matchbrackets","ncPlugin/codemirror/addon/edit/closebrackets"],t)},initEditor:function C(){this.editor=CodeMirror(this.editorEl.get(0),{theme:"monokai",indentUnit:4,lineNumbers:!0,mode:"text/javascript",matchBrackets:!0,autoCloseBrackets:!0,extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),e||t.replaceSelection("    ","end","+input")}}})},initTab:function E(){var t,o=this,n=o.rawConfig,e=o.getEl().find("ul.js-tabs li"),a=e.find(".js-refresh-code");r.tab({el:e,change:function(t){var e=s(t.currentTarget),i=e.attr("data-language");o.codeMap[o.languageSelected]=o.getValue();var n=o.languageSelected===i;o.languageSelected=i,n||(o.changeMode(),a.hide(),e.find(".js-refresh-code").css("display","inline-block"))}}),a.on("click",function(t){var e=s(t.currentTarget).closest("li").attr("data-language"),i=c.find(n.languages,function(t){return t.text===e});i&&p.confirm("刷新后"+e+"代码框将重置为初始状态，正在编辑的代码将清空，但不会影响已提交的代码，确定刷新吗？",function(){o.codeMap[e]=i.code||"",o.languageSelected=e,o.changeMode()})}),o.editor.on("changes",function(){o.codeMap[o.languageSelected]=o.getValue(),window.clearTimeout(t),t=window.setTimeout(function(){o.updatePreview()},500)})},initAutoSize:function k(){var t=this,e=t.rawConfig,i=t.getEl();t.height=i.height(),t.toolbarHeight=i.find("div.js-header").outerHeight(),e.noAutoSize||t.editor.on("changes",function(){t.autoSize()}),t.autoSize()},bindIframe:function S(){var t=this,o=t._bindIframeCb=t._bindIframeCb||{},e=t.getEl(".js-iframe").get(0),i=e.contentDocument||e.contentWindow.document,n=i.parentWindow||i.defaultView;function a(t,e,i){var n=t.addEventListener;t.removeEventListener&&o[e]&&t.removeEventListener(e,o[e]),o[e]=i,n&&t.addEventListener(e,i,!1),!n&&t.attachEvent&&t.attachEvent("on"+e,i)}a(n,"focus",function(){t.fire("afterFocusIframe")}),a(n,"blur",function(){t.fire("afterBlurIframe")}),a(i,"click",function(){t.fire("afterFocusIframe")})},showPreview:function T(t){var e=this.rawConfig,i=this.getEl(),n=i.find("div.js-iframe-container"),o=i.find(".js-go-preview");0<o.length&&(t=!1!==t,this.isInPreview=t,o.html(t?"收起":"预览"),o.removeClass(t?"ico-review-code":"ico-unfold-review").addClass(t?"ico-unfold-review":"ico-review-code"),n.css("display",t?"inline-block":"none"),this.updatePreview(),this[e.noAutoSize?"resize":"autoSize"]())},updatePreview:function j(){if(!this.isInPreview)return;var t=this.getEl(),e=this.codeMap,i=t.find(".js-iframe").get(0),n=i.contentDocument||i.contentWindow.document,o=l.execTpl(["<!DOCTYPE html>","<html>","<head>",'<meta charset="utf-8">',"<title>nowcoder preview</title>","<style>#{css}</style>","</head>","<body>","#{html}","</body>","<script>#{javascript}<\/script>","</html>"].join(""),{css:e.css,html:e.html,javascript:"try {\n"+(e.javascript||"")+"\n} catch(e) {}"});n.open("text/html","replace"),n.write(o),n.close(),this.bindIframe()},changeMode:function _(e){var i=this,n=i.editor,o={html:{plugin:"htmlmixed",name:"text/html"},javascript:{plugin:"javascript",name:"text/javascript"},css:{plugin:"css",name:"text/css"}}[e=e||i.languageSelected];o&&a.use("ncPlugin/codemirror/mode/"+o.plugin+"/"+o.plugin,function(){n.setOption("mode",{name:o.name});var t=i.codeMap[e];n.setValue(t)})},valLangue:function I(){return d.langFE},valCode:function L(){return this.getJsonStr()},getValue:function P(){return this.editor.getValue()},getJsonStr:function A(){var i=this.rawConfig.plugins,t=this.codeMap;t[this.languageSelected]=this.getValue();var n={css:t.css,js:t.javascript,html:t.html,libs:[]};return c.forEach(this.pluginSelected,function(t){var e=i[t];e&&e.value&&n.libs.push(e.value)}),JSON.stringify(n)},resize:function M(t,e){var i=this.getEl(),n=i.find(".js-header"),o=i.find(".js-container"),a=i.find(".js-editor"),r=i.find(".js-iframe-container"),s=(i.find(".js-iframe"),!!this.isInPreview);c.id(t)&&i.outerWidth(t),c.id(e)&&i.outerHeight(e),t=i.width(),e=i.height()-n.outerHeight(),o.outerWidth(t),o.outerHeight(e),t=o.width(),e=o.height(),a.outerWidth(s?t/2:t).outerHeight(e),r.outerWidth(s?t/2:t).outerHeight(e),this.editor.setSize("100%",a.height())},autoSize:function z(){var t=this;if(t.rawConfig.noAutoSize)return;try{t._editorScrollEl=t._editorScrollEl||s(t.editor.getScrollerElement()),t._editorSizerEl=t._editorSizerEl||t._editorScrollEl.find("div.CodeMirror-sizer");var e=window.parseInt(t._editorSizerEl.css("min-height")||t._editorSizerEl.height(),10);e=Math.max(t.height,e+t.toolbarHeight),t.resize("100%",e)}catch(i){}},runCode:function D(){var i=this,t=(e=i.rawConfig).runCode;if(1e5<i.getJsonStr().length)return void p.alert("啊，代码不要这么长嘛，人家受不了了~");var e=i.rawConfig,n=!!(t=e.runCode||{}).questionId,o=e.getUrlSubmitCode?e.getUrlSubmitCode(n):"",a=e.getUrlGetCodeStatus?e.getUrlGetCodeStatus(n):"";i.codeSubmit[n?"submitSelfCode":"submitTestCode"]({urlSubmitCode:o||h[n?"codeSubmitUrl":"codeRunUrl"](),urlGetCodeStatus:a||h.codeStatusUrl(),data:{pid:t.pid,tid:t.tid,qid:t.qid,questionId:t.questionId,content:i.getJsonStr(),language:d.langFE},extCodeParam:e.runExtParam,extStatusParam:e.statusExtParam,feedback:function(t,e){i.showResult(t,e)},cbGetCaptcha:function(t){g.show({type:f.captcha.runCode,url:e.captchaUrl,call:t,cancel:t})},cbGetCaptchaError:function(t){i.fire("runCodeError",t)},cbSubmitCodeBefore:function(t){i.fire("beforeRunCode")},cbSubmitCodeComplete:function(t){i.fire("runCodeSubmit",t)},cbSubmitCodeError:function(t){i.fire("runCodeError",t)},cbStatusCodeBefore:function(){i.fire("beforeReqStatus")},cbStatusCodeSuccess:function(t){i.fire("runCodeSuccess",t),i.fire("runCodeFinish",t)},cbStatusCodeFail:function(t){i.fire("runCodeDanger",t),i.fire("runCodeFinish",t)},cbStatusCodeError:function(t){i.fire("runCodeError",t)}})},showResult:function H(t,e){var i=this.rawConfig.tipEl;if(!t||!s.trim(t))return i.html(""),void i.parent().hide();i.removeClass(e?"alert-info":"alert-danger").addClass(e?"alert-danger":"alert-info"),i.html(t.replace(/\n/g,"<br />")).show(),i.parent().show()},resetCode:function F(t){var e=this.rawConfig,i=this.getEl(),n=this.codeMap;n.html=t.html,n.css=t.css,n.javascript=t.js;var o=[],a=i.find(".js-header ul.dropdown-menu li label.checkbox"),r=c.toMap(t.libs,function(t){return{key:t,value:!0}});c.forEach(e.plugins,function(t,e){var i=!!r[t.value];(t.checked=i)&&o.push(e),s(a[e])[i?"addClass":"removeClass"]("checked")}),this.pluginSelected=o,this.showPreview(!!this.isInPreview),this.changeMode()},_getData:function R(t){return{languageStr:this._getTabStr(),previewStr:this._getPreviewStr(),pluginStr:this._getPluginStr()}},_getTabStr:function N(){var t=this.rawConfig,e='<ul class="edit-tabs js-tabs clearfix">',i={};return c.forEach(t.languages,function(t){i[t.text]=!0,e+=l.execTpl(['<li data-language="#{text}" class="edit-tab-item #{cls}">','<a href="javascript:void(0);" class="edit-tab-value">#{text}</a>','<a href="javascript:void(0);" class="ico-fresh js-refresh-code" title="还原模板代码" style="#{style}"></a>',"</li>"].join(""),{text:t.text,cls:t.checked?"selected":"",style:t.checked?"":"display:none;"})}),e+="</ul>"},_getPreviewStr:function U(){var t=this.rawConfig;return c.find(t.languages,function(t){return{html:1,css:1}[t.text]})?'<a href="javascript:void(0);" class="ico-review-code js-go-preview">预览</a>':""},_getPluginStr:function B(){var o=this,t=o.rawConfig,e=t.plugins=t.plugins||[f.FELib[1],f.FELib[2]];if(0===e.length)return"";var i=new v({text:"前端插件",size:"small",cls:"fixed-right",options:e,clickItemNoHide:!0,listeners:{render:function(){this.getEl().find(".dropdown-toggle").css("paddingTop",5).css("paddingBottom",5)}}});return i._renderOptions=function(){if(!this.menuRendered){var t=this.getEl(),e=c.map(this.rawConfig.options,function(t,e){return t.checked&&o.pluginSelected.push(e),l.execTpl('<li><label class="checkbox #{cls}"><span class="icons"></span> <input type="checkbox" /> #{text}</label></li>',{cls:t.checked?"checked":"",text:t.text})}).join("");t.find("ul.dropdown-menu").html(e),this.menuRendered=!0}},i.select=function(t){var e=this.rawConfig.options;if((t=c.id(t))&&!(+t>=e.length)){t=+t;var i=o.pluginSelected,n=!c.contains(i,t);if(n&&i.push(t),n||(i=c.without(i,t)),o.pluginSelected=i,this.menuRendered)return c.forEach(this.itemElList,function(t,e){s(t).find("label.checkbox")[c.contains(i,e)?"addClass":"removeClass"]("checked")});e[t].checked=!n}},i.html()},_fixConf:function q(r){var t=c.json(r.supportLang,{}),e=t.input||[],i=t.libs;(function n(){if(0<e.length){var i=c.toMap(r.languages,function(t){return{key:t.text,value:t}}),t=c.map(e,function(t){var e=f.FEInput[t];return i[e]||{text:e}});r.languages=t}})(),function s(){var e=["html","css","javascript"],i={},n=!1,o=!1;c.forEach(r.languages,function(t){c.contains(e,t.text)&&(n=!0,o=o||!!t.checked,i[t.text]=t)}),n||(i=c.toMap(e,function(t){return{key:t,value:{text:t,checked:"javascript"===t}}}));var a=[];c.forEach(e,function(t){var e=i[t];e&&(o||(e.checked=!0),a.push(e),o=!0)}),r.languages=a}(),function o(){if(i){var e=[];c.forEach(i,function(t){f.FELib[t]&&e.push(f.FELib[t])}),r.plugins=e}}()}})},function(t,e,i){var o=i(1),n=i(7),a=i(9),r=i(2),c=i(0),s=i(22),l=i(12),d=i(5),u=i(3),p=t.exports=r.create();r.mix(p,n,{_template:['<div class="">','<div class="subject-upload">','<div class="subject-upload-inner">','<span class="js-upload-wrap"><a class="btn-upload2 js-upload-btn" href="javascript:void(0);"></a></span>','<a class="btn-upload2 js-upload-btn-bak" style="display:none;" href="javascript:void(0);"></a>','<span class="subject-upload-text">上传数据结果文件,仅限 5M 以内的 jar 文件</span>',"</div>",'<div class="subject-upload-inner js-upload-progress" style="display:none;"></div>',"</div>",'<div class="subject-info" style="display:none;">','<div class="alert alert-danger js-run-info"></div>',"</div>",'<div class="subject-action clearfix">','<div class="subject-next">','<a href="javascript:void(0);" class="js-submit-code btn btn-primary">运行</a>',"</div>","</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.uploadFile=null,this.uploadFileId=[],this.progressEl=t.find("div.js-upload-progress"),this.runInfoEl=t.find("div.js-run-info"),this.initUpload()}},{name:"click .js-submit-code",handler:function(t){this.runCode(t)}},{name:"click .js-upload-btn-bak",handler:function(){u.alert("正在判题中，判题完成后才能再次提交")}}]},{initialize:function f(t){this.fileReset=!1},initUpload:function h(){var i=this,n=i.getEl();i.upload=new s({target:i,holderEl:n.find("a.js-upload-btn"),type:l.uploadType.data,fileType:"*.jar",fileSizeLimit:5,fileQueueLimit:1,btn:{image:"//uploadfiles.nowcoder.com/images/20170720/56_1500535196899_0D6F0B229817E61B74168FFDD350D585",width:150,height:45},uploadSuccess:function(t,e){i.uploadFile=e,i.fileReset=!0,n.find("span.subject-upload-text").html("已上传"+e.fileName+"("+e.fileSize+")"),i.runInfoEl.parent().hide()}})},runCode:function g(t){var r=this,e=r.uploadFile,i=r.rawConfig,n=o(t.currentTarget);if(!e)return void u.alert("请先提交文件");if(r.isRuning)return void u.alert("正在判题中");if(!r.fileReset)return void u.alert("请不要重复提交运行同一文件");if(a.mark(n))return;function s(){r.hideUpload(!1),r.isRuning=!1,a.clear(n)}r.fileReset=!1,r.isRuning=!0,r.hideUpload(),r.showMemo("正在提交文件...","info"),d.codeBigDataRun({body:{qid:i.qid,url:e.url},call:function(t){r.runTimer&&window.clearTimeout(r.runTimer),r.showMemo("正在判题...","info");var a=0;r.runTimer=setTimeout(function(){var o=arguments.callee;d.codeBigDataStatus({query:{submissionId:t.submissionId},call:function(t){var e=t.data||{};if(3===e.status){var i="判题完成\n"+e.memo,n=e.outputUrl;n&&0<n.length&&(i+="\n\n",c.forEach(n,function(t,e){i+='<a href="'+t+'" target="_blank">点击下载输出结果'+(1<n.length?e+1:"")+"</a>\n"})),r.showMemo(i,"info"),r.runTimer=null,s()}else r.runTimer=setTimeout(o,1e3),r.showMemo(0===a?"正在选择计算资源...":"正在判题...\n"+(e.memo||""),"info"),a++},error:function(){r.showMemo("出现错误，请重试"),s()}})},1e3)},error:function(t){r.showMemo("出现错误，请重试"),s()}})},showMemo:function v(t,e){var i=this.runInfoEl,n="info"===e?"alert-danger":"alert-info",o="info"===e?"alert-info":"alert-danger";i.removeClass(n).addClass(o),i.html(t.replace(/\n/g,"<br />")).show(),i.parent().show()},hideUpload:function m(t){!1===t?(o(".js-upload-btn-bak").hide(),o(".js-upload-wrap").css({position:"static",top:0})):(o(".js-upload-wrap").css({position:"absolute",top:"-100000px"}),o(".js-upload-btn-bak").show())}})},function(t,e,i){t.exports=i(4)(42)},function(t,e,i){var c=i(1),n=i(2),m=i(0),o=t.exports=n.create(),a=document.createElement("INPUT"),r="createTextRange"in a||"selection"in document;a=null;var u=r?"\r\n":"\n",p=/^(?:\r|\n)/,f=/(?:\r|\n)$/,h={strong:/^__([\s\S]+?)__(?!_)$|^\*\*([\s\S]+?)\*\*(?!\*)$/,strongPart:/__([\s\S]+?)__(?!_)|\*\*([\s\S]+?)\*\*(?!\*)/g,em:/^\b_((?:__|[\s\S])+?)_\b$|^\*((?:\*\*|[\s\S])+?)\*(?!\*)$/,emPart:/\b_((?:__|[\s\S])+?)_\b|\*((?:\*\*|[\s\S])+?)\*(?!\*)/g,del:/^~~(?=\S)([\s\S]*?\S)~~$/,delPart:/~~(?=\S)([\s\S]*?\S)~~/g,link:/^\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)$/,linkPart:/\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/g,image:/^!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)$/,imagePart:/!\[((?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*)\]\(\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*\)/g,lineCode:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)$/,lineCodePart:/(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/g,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)$/,list:/^( *)((?:[*+-]|\d+\.)) [\s\S]+?(?:\n+(?=\1?(?:[-*_] *){3,}(?:\n+|$))|\n+(?= *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$))|\n{2,}(?! )(?!\1(?:[*+-]|\d+\.) )\n*|\s*$)/,quote:/^( *>[^\n]+(\n(?! *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$))[^\n]+)*\n*)+/,quotePart:/^ *> ?/gm,code:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/},s="粗体内容",l="斜体内容",d="删除内容",g="链接说明",v="图片说明",w="请在这里输入代码",y="请在这里输入标题",b="无序列表内容",x="有序列表内容",C="请在这里输入引用内容";m.extend(o.prototype,{initialize:function E(t){this.input=c(t.input)},isIE:r,CANCEL:"cancel",ADD:"add",focus:function k(t){var e=this.getSelection();!0===t?this.input.caret(e.start):!1===t?this.input.caret(e.end):this.input.range(e.start,e.end)},getSelection:function S(){return this.input.range()},setSelection:function T(t,e){var i=arguments.length;1===i?this.input.caret(t):2===i&&(this.input.focus(),this.input.range(t,e))},replaceSelection:function j(t,e){if(null===(t=this.filterText(t)))return;var i=this.getSelection().start;this.input.range(t),e?this.setSelection(i,this.getSelection().end):this.focus(!1)},getContent:function _(){return this.input.val()},insert:function I(t,e){if(!(t=this.filterText(t)))return;"before"===e?this.input.caret(this.range().start):"after"===e&&this.input.caret(this.range().end);this.replaceSelection(t)},enlarge:function L(p){var t=p.content,e=p.reg,i=p.start,n=p.end,o=t.length,a=r(t,e,i,n,t.length);a.match||p.noCross||((a=r(t,e,i,i,o)).match?a.end=Math.max(n,a.end):(a=r(t,e,n,n,o)).match&&(a.start=Math.min(i,a.start)),a.crossMatch=a.match);return a;function r(t,e,i,n,o){var a,r,s,c,l,d,u;for(a=i;0<=a;a--){for(r=n;r<=o;r++)if(s=t.substr(a,r-a),e.test(s)){if(c=a,l=r,d=!0,!p.greedMatch)break}else if(d){u=!0;break}if(d&&!p.greedMatch||u)break}return{start:c,end:l,match:d}}},enlargeBlock:function P(p){var t=p.content,e=p.reg,i=p.start,n=p.end,o=t.length,a=r(t,e,i,n,t.length);a.match||p.noCross||((a=r(t,e,i,i,o)).match?a.end=Math.max(n,a.end):(a=r(t,e,n,n,o)).match&&(a.start=Math.min(i,a.start)),a.crossMatch=a.match);return a;function r(t,e,i,n,o){var a,r,s,c,l,d,u;for(a=i;0<=a;a--)for(r=n;r<=o;r++)if(s=t.substr(a,r-a),u=e.exec(s)){if(a+u[0].length<p.start||a>p.end)break;l=(c=a)+u[0].length,d=!0}if(d){for(;"\n"===t[c]||"\r"===t[c];)c++;for(;"\n"===t[l-1]||"\r"===t[l-1];)l--}return{start:c,end:l,match:d}}},enlargeLine:function A(t){var e,i,n,o=t.content,a=t.start,r=t.end;for(;p.test(o.substr(a,r-a))&&a<r;)a+=1;for(e=a;0<=e;e--){if(n=o.substr(e,r-e),p.test(n)){a=e+1;break}a=e}for(e=r,i=o.length;e<=i;e++){if(n=o.substr(a,e-a),f.test(n)){r=e-1;break}r=e}return{start:Math.min(a,t.start),end:Math.max(r,t.end)}},applyInline:function M(t){var e,i,n,o,a,r=t.typeReg,s=(t.tips,t.content),c=t.selection,l=this.enlarge({content:s,reg:r,start:c.start,end:c.end,greedMatch:t.greedMatch});l.crossMatch&&(l.match=!1,c.start=Math.min(l.start,c.start),c.end=Math.max(l.end,c.end),c.length=Math.max(0,c.end-c.start),c.text=s.substr(c.start,c.end-c.start));n=l.match?(o=l.start,a=l.end,e=s.substr(o,a-o),r.exec(e),i=e.replace(t.partReg,t.replace),e=this.replace(s,o,a,i),this.CANCEL):(o=c.start,a=c.end,e=0<c.length?c.text.replace(t.partReg,t.replace):m.isFunction(t.tips)?t.tips(c):t.tips||t.normal,i=t.parse(e),e=this.replace(s,o,a,i),this.ADD);return{content:e,text:i,start:o,end:o+i.length,length:i.length,type:n}},applyInBlock:function z(t){var e,i,n,o,a=t.content,r=this.enlargeBlock({content:a,reg:t.typeReg,start:t.start,end:t.end});i=r.match?(e=r.start,r.end):(e=t.start,t.end);var s=this.enlargeLine({content:a,start:e,end:i}),c=a.substr(e,i-e),l=c;p.test(c)||e===s.start||(l=u+u+c,n=!0);f.test(c)||i===s.end||(l+=u+u,o=!0);var d=n||o;a=d?this.replace(a,e,i,l):a,n&&(e+=2*u.length,i+=2*u.length);return{change:d,content:a,start:e,end:i,match:r.match&&!r.crossMatch}},eachLine:function D(t){var e=this.getSelection().text.replace(/\r\n|\r/g,"\n"),o=t.filter,i=t.call;this.replaceSelection(e,!0);var n=this.getContent(),a=this.getSelection(),r=this.enlargeLine({content:n,start:a.start,end:a.end});t.fullLine&&this.setSelection(r.start,r.end);a=this.getSelection();var s=n.substr(r.start,r.end-r.start).split("\n"),c=[],l=a.start-r.start,d=s[s.length-1].length+a.end-r.end;if(o)c=m.map(s,function(t,e){var i=0===e?Math.max(l,0):0,n=e+1==s.length?d:t.length;return o(s,t,e,i,n)});var u=m.map(c,function(t){return t.content}).join("\n");n=this.replace(n,r.start,r.end,u),this.input.val(n);for(var p=0,f=c.length-1;0<=f&&!t.noIgnoreLine&&0===c[f].end;f--)p++;var h=a.start-(l-c[0].start),g=c[c.length-1],v=r.start+u.length-(g.content.length-g.end)-p;i&&i(h,v,c)},strong:function H(){var a=this;a.eachLine({filter:function(t,e,i,n,o){return""===c.trim(e)&&1<t.length?a.createSelection(e,n,o):a.applyInline({content:e,selection:a.createSelection(e,n,o),tips:s,typeReg:h.strong,partReg:h.strongPart,replace:function(t,e,i,n,o){return(i=e||i)===s?"":i},parse:function(t){return"**"+t+"**"}})},call:function(t,e,i){var n=a.fixPos(t,t+2,e,e-2,i);a.setSelection(n.start,n.end)}})},em:function F(){var a=this;a.eachLine({filter:function(t,e,i,n,o){return""===c.trim(e)&&1<t.length?a.createSelection(e,n,o):a.applyInline({content:e,selection:a.createSelection(e,n,o),tips:l,typeReg:h.em,partReg:h.emPart,replace:function(t,e,i,n,o){return(i=e||i)===l?"":i},parse:function(t){return"*"+t+"*"}})},call:function(t,e,i){var n=a.fixPos(t,t+1,e,e-1,i);a.setSelection(n.start,n.end)}})},del:function R(){var a=this;a.eachLine({filter:function(t,e,i,n,o){return""===c.trim(e)&&1<t.length?a.createSelection(e,n,o):a.applyInline({content:e,selection:a.createSelection(e,n,o),tips:d,typeReg:h.del,partReg:h.delPart,replace:function(t,e,i,n,o){return(i=e||i)===d?"":i},parse:function(t){return"~~"+t+"~~"}})},call:function(t,e,i){var n=a.fixPos(t,t+2,e,e-2,i);a.setSelection(n.start,n.end)}})},link:function N(a){var r=this;if(""===(a=c.trim(r.filterText(a)||"")))return;var s="";r.eachLine({filter:function(t,e,i,n,o){return""===c.trim(e)&&1<t.length?r.createSelection(e,n,o):r.applyInline({content:e,selection:r.createSelection(e,n,o),tips:g,typeReg:h.link,partReg:h.linkPart,replace:function(t,e,i,n,o,a){return e===g?"":e},parse:function(t){return 0===i&&(s=t),"["+t+"]("+a+") "}})},call:function(t,e,i){var n=i[0].type===r.ADD?t+1:t;r.setSelection(n,s?n+s.length:e)}})},image:function U(a){var r=this;if(""===(a=c.trim(r.filterText(a)||"")))return;var s="";r.eachLine({filter:function(t,e,i,n,o){return""===c.trim(e)&&1<t.length?r.createSelection(e,n,o):r.applyInline({content:e,selection:r.createSelection(e,n,o),tips:v,typeReg:h.image,partReg:h.imagePart,replace:function(t,e,i,n,o,a){return e===v?"":e},parse:function(t){return 0===i&&(s=t),"!["+t+"]("+a+' "图片标题") '}})},call:function(t,e,i){var n=i[0].type===r.ADD?t+2:t;r.setSelection(n,s?n+s.length:e)}})},lineCode:function B(){var a=this;a.eachLine({filter:function(t,e,i,n,o){return""===c.trim(e)&&1<t.length?a.createSelection(e,n,o):a.applyInline({content:e,selection:a.createSelection(e,n,o),tips:w,typeReg:h.lineCode,partReg:h.lineCodePart,replace:function(t,e,i,n,o){return i===w?"":i},parse:function(t){return"`"+t+"`"}})},call:function(t,e,i){var n=a.fixPos(t,t+1,e,e-1,i);a.setSelection(n.start,n.end)}})},heading:function q(){var a,r=this,s=y;r.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(t,e,i,n,o){return 0===i&&(a=m.every(t,function(t){return""===c.trim(t)})),""===c.trim(e)?a&&0===i?{content:"### "+s,text:"### "+s,start:n,end:n+4+s.length,length:4+s.length}:r.createSelection(e,n,o):r.applyInline({content:e,selection:r.createSelection(e,n,o),tips:s,typeReg:h.heading,partReg:h.heading,greedMatch:!0,replace:function(t,e,i,n,o){return i===s||" "===i?"":i},parse:function(t){return"### "+t}})},call:function(t,e,i){var n=i[0].type===r.ADD||a?t+4:t;r.setSelection(n,e)}})},ul:function O(){var l,a=this,t=a.getSelection(),e=a.getContent(),i=a.applyInBlock({content:e,typeReg:h.list,start:t.start,end:t.end});i.match&&(i.change&&a.input.val(i.content),a.setSelection(i.start,i.end));a.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(t,e,i,n,o){return 0===i&&(l=m.every(t,function(t){return h.list.test(t)})),a.applyInline({content:e,selection:a.createSelection(e,n,o),tips:b,typeReg:h.list,partReg:h.list,greedMatch:!0,replace:function(t,e,i,n,o,a,r,s){return l?c=/^ *(\d+\.) +/.test(t)?"- "+((c=t.replace(/^ *(\d+\.) +/,""))===x?b:c):(c=t.replace(/^ *([*+-]) +/,""))===b?"":c:"- "+t.replace(/^ *([*+-]) +/,"");var c},parse:function(t){return"- "+t}})},call:function(t,e,i){var n=a.fixPos(t,t+2,e,e,i);a.setSelection(n.start,n.end)}})},ol:function W(){var d,o=this,t=o.getSelection(),e=o.getContent(),i=o.applyInBlock({content:e,typeReg:h.list,start:t.start,end:t.end});i.match&&(i.change&&o.input.val(i.content),o.setSelection(i.start,i.end));o.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(t,e,l,i,n){return 0===l&&(d=m.every(t,function(t){return h.list.test(t)})),o.applyInline({content:e,selection:o.createSelection(e,i,n),tips:x,typeReg:h.list,partReg:h.list,greedMatch:!0,replace:function(t,e,i,n,o,a,r,s){return d?c=/^ *([*+-]) +/.test(t)?(c=t.replace(/^ *([*+-]) +/,""),l+1+". "+(c===b?x:c)):(c=t.replace(/^ *(\d+\.) +/,""))===b||c===x?"":c:(/^ *([*+-]) +/.test(t)?t=t.replace(/^ *([*+-]) +/,""):/^ *(\d+\.) +/.test(t)&&(t=t.replace(/^ *(\d+\.) +/,"")),l+1+". "+t);var c},parse:function(t){return l+1+". "+t}})},call:function(t,e,i){var n=o.fixPos(t,t+3,e,e,i);o.setSelection(n.start,n.end)}})},blockCode:function G(){var t,e,i=this,n=i.getSelection(),o=i.getContent(),a=i.applyInBlock({content:o,typeReg:h.code,start:n.start,end:n.end});if(a.match){a.change&&i.input.val(a.content),i.setSelection(a.start,a.end),n=i.getSelection();var r=h.code.exec(n.text)[3];/^\n+|\n+$/g.test(r)&&(r=r.replace(/^\n+|\n+$/g,"")),i.replaceSelection(r,!0)}else{var s=i.enlargeLine({content:o,start:n.start,end:n.end});i.setSelection(s.start,s.end),n=i.getSelection(),t=n.start+4,e="```\n"+(n.text||"")+"\n```",i.replaceSelection(e),i.setSelection(t,t+e.length-8)}},quote:function V(){var a=this;a.eachLine({fullLine:!0,noIgnoreLine:!0,filter:function(t,e,i,n,o){return a.applyInline({content:e,selection:a.createSelection(e,n,o),tips:C,typeReg:h.quote,partReg:h.quotePart,replace:function(t){return""},parse:function(t){return"> "+t}})},call:function(t,e,i){var n=a.fixPos(t,t+2,e,e,i);a.setSelection(n.start,n.end)}})},filterText:function $(t){return t||""===t?t+"":null},fixPos:function J(t,e,i,n,o){return t=o[0].type===this.ADD?e:t,i=o[o.length-1].type===this.ADD?n:i,{start:t,end:i}},createSelection:function K(t,e,i){return{content:t,start:e,end:i,length:i-e,text:i===e?"":t.substr(e,i-e)}},replace:function Y(t,e,i,n){var o=t.split("");return o.splice(e,i-e,n),n=o.join(""),o.length=0,n}})},function(t,e,i){var s=i(1),n=i(2),o=i(0),a=i(3),r=i(13),c=i(40),l=i(23),d=i(12),u=i(68),p=t.exports=n.create();o.extend(p.prototype,{initialize:function f(t){this.editor=t.editor,this.selection=this.editor.selection},preview:function h(){var t=this.editor;t.showPreview(!t.isInPreview)},bold:function g(){this.selection.strong()},italic:function v(){this.selection.em()},codeblock:function m(){this.selection.blockCode()},bockquote:function w(){this.selection.quote()},insertorderedlist:function y(){this.selection.ol()},insertunorderedlist:function b(){this.selection.ul()},removeformat:function x(){var t=this.editor,e=t.val(),i=0,n="";for(;i<5;){e=e.replace(/(\s*)<(\/)?([\w\-:]+)((?:\s+|(?:\s+[\w\-:]+)|(?:\s+[\w\-:]+=[^\s"'<>]+)|(?:\s+[\w\-:"]+="[^"]*")|(?:\s+[\w\-:"]+='[^']*'))*)(\/)?>(\s*)/g,function(t,e,i,n,o,a,r){return{strong:1,em:1,ul:1,ol:1}[n=s.trim(n).toLowerCase()]?"":"li"===n?"<p>":t}),n=u.html2md(e),e=t.getMdHtml(n),i++}t.text(n)},link:function C(){this.selection.link("http://www.nowcoder.com")},image:function E(){var e=this.editor;new a({title:"插入图片",content:['<div class="form-group">','<label class="control-label">图片链接</label>','<div class="control-group"><input type="text"/></div>','<div style="position:relative;display:inline-block;line-height:42px;font-size:14px;margin-left:15px;">','<a style="display:block;" href="javascript:void(0);" class="link-green js-md-image-upload">上传图片</a>',"</div>","</div>"].join(""),render:function(){var t=this.getEl(),e=this.urlIpt=r.transform(t.find("div.control-group"));c.show({target:t.find(".js-md-image-upload"),url:"/uploadImage?type=1&watermark=true",type:d.uploadType.image,fileType:"*.jpg;*.JPG;*.png;*.PNG;*.gif;*.GIF;*.bmp;*.BMP;*.jpeg;*.JPEG",fileSize:5,call:function(t){e.val(t.url)}})},ok:function(){var t=s.trim(this.urlIpt.val());if(!t)return this.urlIpt.setErrorTips("请输入图片链接"),!0;e.selection.image(t),e.fire("afterChange")},cancel:function(){}})},math:function k(){var e=this,i=e.editor;l.formula({useLaTex:!1,call:function(t){e.selection.image(t),i.fire("afterChange")}})}})},function(t,e,i){i(1);var n=i(2),o=i(0),a=t.exports=n.create();o.extend(a.prototype,{initialize:function r(t){var e=this,i=e.editor=t.editor;e.selection=i.selection,e.list=[],e.index=0,e.canRecord=!0,i.listen("destroy",function(){e.list.length=0,e.index=0})},record:function s(t){var e=this.editor;if(!this.canRecord)return;var i=this.list,n=e.text();i.length=Math.min(this.index+1,i.length);var o=i[this.index];if(!o||o.content!==n&&(t||3<Math.abs(o.content.length-n.length))){var a=this.selection.getSelection();i.push({content:n,selection:a}),this.index=i.length-1}},redo:function c(){var i=this,n=i.editor,t=i.list,o=i.index+1;if(o>=t.length)return;i.disable(function(){var t=i.list[o];n.text(t.content||""),i.index=o;var e=t.selection;e&&i.selection.setSelection(e.start||0,e.end||0),i.selection.focus()})},undo:function l(){var i=this,n=i.editor,o=i.index-1;if(o<0)return;i.disable(function(){var t=i.list[o];n.text(t.content||""),i.index=o;var e=t.selection;e&&i.selection.setSelection(e.start||0,e.end||0),i.selection.focus()})},disable:function d(t){var e=this.editor;this.canRecord=!1,t&&t.call(e),this.canRecord=!0}})},function(t,e,i){var l=i(1),n=i(0),o=i(2),d=i(3),u=i(44),a=t.exports=o.create();n.extend(a.prototype,{initialize:function r(s){if(s.rawConfig.noUploadRemote)return;var c=!1;function t(){if(!c){var t=s.text(),i=[];t.replace(/\!\[.*?\]\((.*?)\)/gi,function(t,e){return e=l.trim(e),(e=l.trim(e.split(/\s+/)[0]))&&i.push(e),t});var o=(i=n.uniq(i)).length;if(u.canUpload(i)){var a=0,r=u.isUploaded(i)?null:function e(){return new d({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'})}();c=!0,n.forEach(i,function(n){u.upload(n,function(i){if(i&&n!==i){var t=s.text(),e=t.replace(/\!\[.*?\]\((.*?)\)/gi,function(t,e){return 0<=(e=l.trim(e)).indexOf(n)&&(t=t.replace(n,i)),t});t!==e&&s.text(e)}o<=++a&&(c=!1,r&&r.close())})})}}}s.listen("draftChange",t),t()}})},function(t,e,i){i(1);var r=i(0),n=i(2),s=i(8),c=i(22),l=i(39),o=t.exports=n.create();r.extend(o.prototype,{initialize:function d(o){var t;if(o.rawConfig.noPasteUpload)return;function a(){return t||(t=l.show({})).popup.listen("close",function(){t=null}),t}s.bindPaste(document,o.iptEl,function(t,e){var i=r.find(t,function(t){return"file"===t.kind&&/image/.test(t.type||"")}),n=i?i.getAsFile():null;n&&(e.preventDefault(),new c({url:"/uploadImage?type=1&watermark=true",progress:function(t){a().showProgress("正在上传："+t+"%",t)},error:function(){a().showError("上传失败")},call:function(t){a().close(),o.selection.image(t.url),o.history.record(),o.fire("afterChange")}}).uploadBlob(n,(new Date).getTime()+"."+n.type.split("/").pop()))})}})},function(t,e,i){var n=i(1),o=i(0),a=i(2),r=(i(8),i(11),i(26)),s=(i(18),t.exports=a.create());o.extend(s.prototype,{initialize:function c(t){this.editor=t,this.initHover(),this.initTips(),this.initFix()},initHover:function l(){this.editor.toolbarEl.find("span.ke-outline").mouseenter(function(t){n(t.currentTarget).addClass("ke-on")}).mouseleave(function(t){var e=n(t.currentTarget);e.attr("data-on")||e.removeClass("ke-on")})},initTips:function d(){var e=this.editor,t=e.toolbarEl.find("span.ke-outline");r.titleEl(t,{verReverse:!0},function(t){e.pushChild(t)})},initFix:function u(){var t=this.editor,e=t.rawConfig,i=!e.noToolbarFixed,n=+e.toolbarFixedTop||0,o=t.toolbarEl;i&&n&&o.css("top",n),i||o.css("position","relative")}})},function(t,e,a){var n=a(1),r=a(0),i=a(2),o=(a(9),a(3),a(18)),s=t.exports=i.create();r.extend(s.prototype,{initialize:function c(t){var e=this;if(!(e.editor=t).rawConfig.needChangeEditor)return;var i=n('<div class="simple-dropdown ke-change-code"></div>');t.toolbarEl.prepend(i),e.editorSelect=new o({renderTo:i,autoWidth:!0,options:[{text:"Markdown编辑器",value:"md",checked:!0},{text:"富文本编辑器",value:"html"}],change:function(){"html"===this.val()&&e.changeEditor()}})},changeEditor:function l(){var e=this.editor,i=e.rawConfig,n=e.getEl(),o=a(69);if(r.isFunction(i.changeEditor))return i.changeEditor();o.loadDep(function(){var t=new o({renderTo:n,renderBy:"after",isAdmin:i.isAdmin,content:e.val(),needChangeEditor:!0,needAt:i.needAt,afterChangeEditor:i.afterChangeEditor,pressEnter:i.pressEnter,width:i.width,height:i.height,draftChange:i.draftChange,disabled:i.disabled,clickMask:i.clickMask,noToolbarFixed:i.noToolbarFixed,toolbarFixedTop:i.toolbarFixedTop,noAutoHeight:i.noAutoHeight,render:function(){e.destroy()}});i.afterChangeEditor&&i.afterChangeEditor.call(e,t),e.fire("changeEditor",t)}),n.hide()}})},function(t,e,i){var n=i(0);t.exports={getToolItems:function o(t){var e="source,|,bold,italic,underline,forecolor,|,formatblock,bockquote,codeblock,insertorderedlist,insertunorderedlist,link,|,image,emoji,vote,|,table,subscript,superscript,math,removeformat";t.isAdmin||(e=e.replace("forecolor","").replace("link","")),t.isVote||(e=e.replace("vote",""));var i=e.split(",");return n.filter(i,function(t){return!!t})}}},function(t,e,i){var n=i(1),o=i(0),a=i(2),r=i(6),s=(i(8),i(11),i(26)),c=(i(18),t.exports=a.create());o.extend(c.prototype,{initialize:function l(t){this.editor=t,this.initFullScreen(),this.initTips(),this.initFix(),this.initCodeSelect()},initFullScreen:function d(){var t=this.editor,e=t.rawConfig;if(e.fullScreen){var i=n('<a href="javaScript:void(0);" class="full-ico"></a>');t.getToolbarEl().append(i),i.on("click",e.fullScreen)}},initTips:function u(){var e=this.editor,t=(e.rawConfig,e.getToolbarEl().find("span.ke-outline"));s.titleEl(t,{verReverse:!0},function(t){e.pushChild(t)})},initFix:function p(){var t=this.editor,e=t.rawConfig,i=!e.noToolbarFixed,n=+e.toolbarFixedTop||0,o=t.getToolbarEl();i&&n&&o.css("top",n),i||o.css("position","relative")},initCodeSelect:function f(){var a=this.editor;if(a.rawConfig.noCodeSelect)return;var t=n(a.getToolbarEl()),e=n('<span class="ke-outline ke-insert-box"><span class="ke-insert-code"><i class="icon-insert-code"></i> 插入代码</span></span>');t.prepend(e),e.on("click",function(){i(116).show({call:function(t){n.trim(t.content)&&function o(t,e){var i=a.keEditor;a.removePlaceHolder();var n='<pre class="prettyprint '+(t?"lang-"+t:"")+'">'+r.encodeHTML(e)+"</pre><br />";i.insertHtml(n).focus(),a.fire("afterChange")}(t.code,t.content)}})})}})},function(t,e,i){var n,o=i(15),a=(i(1),i(7)),r=(i(0),i(2)),s=i(3),c=i(19),l=t.exports=r.create();r.mix(l,a,{_template:["<div>",'<div class="pop-note-title mb2"></div>','<div class="js-editor" style="height:320px;"></div>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.rawConfig;l.loadDep(function(){t.initSelect(),t.initCodeEditor(),t.editor.focus(),t.popup.fixPosition(),e.value&&t.val(e.value)})}}],show:function d(e){var i=new l(e=e||{});return s.wrap(i,{title:"插入程序代码",content:i.html(),width:720,okTxt:"确定",cancelTxt:"取消",ok:function(){var t=i.val();e.call&&e.call(t)}}),i},loadDep:function u(e){o.use(["ncPlugin/codemirror/codemirror","ncPlugin/codemirror/style/codemirror.css","ncPlugin/codemirror/style/theme/monokai.css","ncPlugin/codemirror/mode/clike/clike","ncPlugin/codemirror/addon/edit/matchbrackets","ncPlugin/codemirror/addon/edit/closebrackets","ncPlugin/codemirror/addon/hint/showhint","ncPlugin/codemirror/addon/invisible/invisible"],function(t){n=t,e&&e()})}},{initSelect:function p(t){var e=this,i=e.getEl();e.langSelect=new c({renderTo:i.find(".pop-note-title"),options:[{text:"C/C++",value:"cpp",checked:!0},{text:"Java",value:"java"},{text:"Python",value:"py"},{text:"JavaScript",value:"js"},{text:"PHP",value:"php"},{text:"Ruby",value:"rb"},{text:"C#",value:"cs"},{text:"Shell",value:"bsh"},{text:"CSS",value:"css"},{text:"HTML",value:"html"},{text:"XML",value:"xml"},{text:"ASP/VB",value:"vb"},{text:"Perl",value:"pl"},{text:"其他",value:""}],change:function(){e.fixCodePlugin()}})},initCodeEditor:function f(){var t=this.getEl();this.editor=n(t.find(".js-editor").get(0),{theme:"monokai",indentUnit:4,lineNumbers:!0,showInvisibles:!0,mode:"text/x-csrc",matchBrackets:!0,autoCloseBrackets:!0,hintOptions:{completeSingle:!1,closeOnUnfocus:!0},extraKeys:{Tab:function(t){var e=t.somethingSelected();e&&t.indentSelection("add"),e||t.replaceSelection(new Array(5).join(" "),"end","+input")}}})},fixCodePlugin:function h(){var t=this.langSelect,e=t?t.val():"",i=this.getCM(e),n=this.editor;n&&i&&i.plugin&&o.use("ncPlugin/codemirror/mode/"+i.plugin+"/"+i.plugin,function(){n.setOption("mode",{name:i.name})})},val:function g(t){if(0===arguments.length)return{code:this.langSelect.val(),content:(this.editor.getValue()||"").replace(/ /gi," ")};(t=t||{}).code&&this.langSelect.val(t.code),t.content&&this.editor.setValue(t.content||""),this.fixCodePlugin()},getCM:function v(t){return t&&{vb:{plugin:"clike",name:"text/x-c++hdr"},cpp:{plugin:"clike",name:"text/x-c++hdr"},css:{plugin:"css",name:"text/css"},cs:{plugin:"clike",name:"text/x-c++hdr"},html:{plugin:"htmlmixed",name:"text/html"},java:{plugin:"clike",name:"text/x-java"},js:{plugin:"javascript",name:"text/javascript"},pl:{plugin:"clike",name:"text/x-java"},php:{plugin:"php",name:"application/x-httpd-php"},py:{plugin:"python",name:"text/x-python"},rb:{plugin:"ruby",name:"text/x-ruby"},bsh:{plugin:"clike",name:"text/x-c++hdr"},xml:{}}[t]||{}}})},function(t,e,c){var n=c(1),l=c(0),i=c(2),d=c(3),o=c(18),u=c(43),a=t.exports=i.create();l.extend(a.prototype,{initialize:function r(t){var e=this;if(!(e.editor=t).rawConfig.needChangeEditor)return;var i=n('<div class="simple-dropdown ke-change-code"></div>');t.getToolbarEl().prepend(i),e.editorSelect=new o({renderTo:i,autoWidth:!0,options:[{text:"Markdown编辑器",value:"md"},{text:"富文本编辑器",value:"html",checked:!0}],change:function(){"md"===this.val()&&e.changeEditor()}})},changeEditor:function p(){var e=this,i=e.editor,n=i.rawConfig,o=i.getEl(),a=i.val(),r=c(67);if(l.isFunction(n.changeEditor))return n.changeEditor();if(i.isEmpty())return r.loadDep(function(){s(r)});function s(t){var e=new t({renderTo:o,renderBy:"after",isAdmin:n.isAdmin,content:t.html2md(a),needChangeEditor:!0,needAt:!!n.needAt,afterChangeEditor:n.afterChangeEditor,pressEnter:n.pressEnter,width:n.width,height:n.height,draftChange:n.draftChange,disabled:n.disabled,clickMask:n.clickMask,noToolbarFixed:n.noToolbarFixed,toolbarFixedTop:n.toolbarFixedTop,noAutoHeight:n.noAutoHeight,render:function(){i.destroy()}});n.afterChangeEditor&&n.afterChangeEditor.call(i,e),i.fire("changeEditor",e),o.hide()}r.loadDep(function(){var t=d.confirm('切换到 MarkDown 编辑器可能会丢失部分内容格式，确认切换？<a class="link-green" href="javascript:void(0);">预览转换后的效果</a>',function(){s(r)},function(){e.editorSelect&&e.editorSelect.val("html")});t&&t.getEl().find("a.link-green").on("click",function(t){var e=r.html2md(a),i=r.md2html(e),n=window.open().document;n.open("text/html","replace"),n.write("<html><head><title>预览</title><style>"+u.css+"</style></head><body>"+i+"</body></html>"),n.close()})})}})},function(t,e,i){var n=i(1),o=i(0),a=i(2),r=i(20),s=(i(6),i(37)),c=t.exports=a.create();o.extend(c.prototype,{initialize:function l(i){if(r.ie())return;var t=i.getEditorDoc();i.keEditor,t=n(t);i.listen("afterBlur",function(){var t=i.val(),e=s.replaceLink(t);e!==t&&i.val(e)})}})},function(t,e,i){var u=i(1),n=i(0),o=i(2),p=i(8),a=i(14),r=t.exports=o.create();n.extend(r.prototype,{initialize:function s(t){var i,e=this,c=t.getEl(),l=u(['<div class="js-editor-img-bar editor-img-bar" style="display:none;width:60px;">','<a href="javascript:void(0);" title="放大" class="icon-zoom-in"></a>','<a href="javascript:void(0);" title="缩小" class="icon-zoom-out"></a>',"</div>"].join(""));u(document.body).append(l),t.listen("destroy",function(){l.remove()});var d=t.getEditorDoc();u(d).on("keydown",function(t){window.clearTimeout(i),l.unbind("click").hide()}),u(d).on("click",function(t){window.clearTimeout(i),l.unbind("click").hide();var s=t.target;e.canEdit(s)&&(i=window.setTimeout(function(){var t=s.width,e=s.height;if(t&&e){var i=p.getPosTop(s,d.body),n=p.getPosLeft(s,d.body),o=p.getPosTop(c),a=p.getPosLeft(c);l.css("top",o+i+40).css("left",a+n+1).show();var r=null;l.on("click","a.icon-zoom-in",function(t){var e=u(s).width();u(s).removeAttr("width height").height("auto"),r=r||u(s).width("auto").width();var i=(Math.round(10*e/r)+1)/10;u(s).width(5<i?e:r*i)}),l.on("click","a.icon-zoom-out",function(t){var e=u(s).width();u(s).removeAttr("width height").height("auto"),r=r||u(s).width("auto").width();var i=(Math.round(10*e/r)-1)/10;u(s).width(i<.1?e:r*i)})}},25))}),u(document.body).on("click",function(t){var e=t.target;e===l.get(0)||u.contains(l.get(0),e)||(window.clearTimeout(i),l.unbind("click").hide())})},canEdit:function c(t){var e=u(t),i=u.trim(e.attr("src"));return i&&e.get(0)&&"img"===(e.get(0).tagName||"").toLowerCase()&&!a.getParam("tex",i)&&!e.attr("data-card-emoji")&&!e.attr("data-vote-id")}})},function(t,e,i){var s=i(1),n=i(0),o=i(2),a=t.exports=o.create();n.extend(a.prototype,{initialize:function c(t){var e=t.rawConfig,i=t.getEditorDoc(),n=s(i.body),o=t.getEditor(),a=e.placeholder;a&&(n.attr("data-placeholder",a),t.listen("afterChange",r),r());function r(){var t=o.isEmpty();n[t?"addClass":"removeClass"]("show-placeholder")}}})},function(t,e,i){i(1);var r=i(0),n=i(2),s=i(8),c=i(22),l=i(39),o=t.exports=n.create();r.extend(o.prototype,{initialize:function d(t){if(t.rawConfig.noPasteUpload)return;var e,o=t.getEditor(),i=t.getEditorDoc();function a(){return e||(e=l.show({})).popup.listen("close",function(){e=null}),e}s.bindPaste(i,i.body,function(t,e){var i=r.find(t,function(t){return"file"===t.kind&&/image/.test(t.type||"")}),n=i?i.getAsFile():null;n&&(e&&e.preventDefault&&e.preventDefault(),new c({url:"/uploadImage?type=1&watermark=true",progress:function(t){a().showProgress("正在上传："+t+"%",t)},error:function(){a().showError("上传失败")},call:function(t){a().close(),o.exec("insertimage",t.url)}}).uploadBlob(n,(new Date).getTime()+"."+(n.type||"").split("/").pop()))})}})},function(t,e,i){var l=i(1),d=i(0),n=i(2),u=i(3),p=i(44),o=t.exports=n.create();d.extend(o.prototype,{initialize:function a(s){if(s.rawConfig.noUploadRemote)return;var c=!1;function t(){if(!c){var t=s.getEditorDoc(),e=l(t.body).find("img"),n=e.length;if(0!==n){var i=d.map(e,function(t){return l.trim(l(t).attr("src"))});if(p.canUpload(i)){var o=p.isUploaded(i)?null:function r(){return new u({hasNoTitle:!0,hasNoFooter:!0,noUnique:!0,content:'<div style="font-size:14px;text-align:center;">图片上传中...</div>'})}();c=!0;var a=0;d.forEach(e,function(e){e=l(e);var i=l.trim(e.attr("src"));p.upload(i,function(t){t&&t!==i&&(e.attr("src",t),e.attr("data-ke-src",t)),n<=++a&&(c=!1,o&&o.close())})})}}}}s.listen("draftChange",t),t()}})},function(t,e,i){i(1);var n=i(0),o=i(2),a=t.exports=o.create();n.extend(a.prototype,{initialize:function r(t){}})},function(t,e,o){var r=o(1),n=o(0),i=o(2),a=o(14),s=(o(3),o(23)),c=t.exports=i.create();n.extend(c.prototype,{initialize:function l(t){var e=this.action=(t.rawConfig||{}).toolAction||{};this.initMath(t),this.initEmoji(t),this.initVote(t);var i=t.getEditor();n.forEach(e,function(t,e){i._handlers[e]=[t]})},initMath:function d(o){this.action.clickToolbarmath=function(){s.formula({useLaTex:!0,call:function(t){o.getEditor().exec("insertimage",t)},callLaTex:function(t){o.getEditor().insertHtml(t)}})},r(o.getEditorDoc()).on("click","img",function(t){var e=r(t.currentTarget),i=e.attr("src"),n=a.getParam("tex",i);n&&s.formula({useLaTex:!0,value:n,valueLaTex:"$ "+n+" $",eidtor:o,call:function(t){e.attr("src",t).attr("data-ke-src",t)},callLaTex:function(t){e.replaceWith(t)}})})},initEmoji:function u(t){this.action.clickToolbaremoji=function(){};var e=t.getEditor(),i=e&&e.toolbar?e.toolbar.get("emoji"):null;if(i&&i.get(0)){var n=o(28).show({target:i.get(0),call:function(t){e.insertHtml(t.html)}});t.pushChild(n)}},initVote:function p(o){var n=o.rawConfig;if(!n.cbEditVote)return;var a=r(o.getEditorDoc());this.action.clickToolbarvote=function(){n.cbEditVote({call:function(t){!function n(t){var e=a.find("img[data-vote-id]");if(t&&e.get(0))e.attr("data-vote-id",t);else if(t){var i="https://static.nowcoder.com/images/vote-placeholder.png";t&&o.getEditor().insertHtml('<img src="'+i+'" data-vote-id="'+t+'" data-ke-src="'+i+'" /><div><br /></div>')}}(t)}})},a.on("click","img[data-vote-id]",function(t){var e=r(t.currentTarget),i=r.trim(e.attr("data-vote-id"));i&&n.cbEditVote({voteId:i,call:function(t){e.attr("data-vote-id",t)}})})}})},function(t,e,i){var c=i(1),n=i(0),o=i(2),a=t.exports=o.create();n.extend(a.prototype,{initialize:function l(o){var a,r,s=o.rawConfig;if(s.draftChange){var t=window.setInterval(e,1600);o.listen("destroy",function(){window.clearInterval(t)})}function e(){o.waitCreated(function(){try{var t=(new Date).getTime();if(a){if(800<t-a){var e=r||"",i=c.trim(o.iframeHtml());a=t,(r=i)!==e&&(o.fire("draftChange"),s.draftChange&&s.draftChange.call(o,o.val()))}}else a=t}catch(n){}})}o.listen("afterChange",e)}})},function(t,e,i){var a=i(1),n=i(0),r=i(8),o=i(2),s=t.exports=o.create();n.extend(s.prototype,{initialize:function c(i){if(i.rawConfig.noAutoHeight)return;var t=i.getEditorEl(),n=r.getScrollParent(t);n=a(n||window);var o=i.val();i.listen("afterChange",function(){var t=i.val();if(o!==t){o=t;try{i.autoHeight(n)}catch(e){}}}),o&&a(i.getEditorDoc()).one("click",function(){i.autoHeight(n)})}})},function(t,e,i){var p=i(1),n=i(0),o=(i(8),i(2)),l=i(10),f=i(45),a=t.exports=o.create();n.extend(a.prototype,{initialize:function r(t){if(!(this.editor=t).rawConfig.needAt)return;this.id=n.ascId(),this.initIpt(t)},initIpt:function h(t){var i,n=this,e=150,o=f.getPool(n.id),a=p(t.getEditorDoc()),r=p(t.getEditorWin()),s=p(a).find("body");function c(){window.clearTimeout(i),i=window.setTimeout(function(){n.analyze()},e)}function l(t){n.cancelAt()&&t.preventDefault()}a.on("click",c),a.on("focus",c),a.on("keydown",function d(t){window.clearTimeout(i);var e=+t.keyCode;if({37:"left",38:"top",39:"right",40:"down",16:"shift",17:"ctrl",18:"option",91:"cmd"}[e]||!n.cancelAt())return{38:1,40:1,13:1}[e]?13==e&&o.isListMenuShow?t.preventDefault():void 0:c();t.preventDefault()}),r.on("blur",function u(){window.clearTimeout(i),i=window.setTimeout(function(){f.showList(n.id)},e)}),s.on("paste",l),s.on("cut",l),s.on("copy",l)},analyze:function d(){var r=this,s=r.editor,c=s.keEditor,t=r.getAtInfo();if(!t)return f.showList(r.id);var e=r.getPos(t.range);f.showList(r.id,{ipt:s.getEditorDoc(),text:t.text,pos:e,ext:{top:5},ok:function(t){var e=s.getEditorDoc(),i=r.getAtInfo().range;l.isInDev(),t.id;c.insertHtml('​<a data-card-uid="'+t.id+'" href="javascript:void(0);">@'+t.nickname+'</a>&nbsp;<span id="jsNcAtTmpSpan"></span>'),i.deleteContents();try{var n=e.getElementById("jsNcAtTmpSpan");(i=e.createRange()).selectNodeContents(n),i.collapse(!1);var o=s.getEditorWin().getSelection();o.removeAllRanges(),o.addRange(i),n.parentNode.removeChild(n)}catch(a){}}})},getAtInfo:function s(){var t=this.editor.keEditor.cmd.range;if(!t.collapsed)return;if(this.getAtNodeByRange(t))return;var e,i=t.shrink().down().startContainer.data||"",n=t.startOffset-1,o=-1;for(;0<=n&&("@"===(e=i[n])&&(o=n),"@"!==e&&!/\s/.test(e));)n--;if(-1===o)return;if(0<o&&/[1-9a-z]/gi.test(i[o-1]))return;var a=t.cloneRange();return a.setStart(t.startContainer,o),{index:o,text:i.substring(o+1,t.startOffset),full:i.substring(o,t.startOffset),range:a}},getPos:function c(t){var e=this.editor,i=t.doc,n=i.createDocumentFragment(),o=i.getElementById("ncAtTmpHockSpan");o||((o=i.createElement("span")).id="ncAtTmpHockSpan");o.innerHTML="@",n.appendChild(o),t.insertNode(n);var a=e.getElPos(o),r=p(o).outerHeight();return o.parentNode.removeChild(o),{top:a.top+r,left:a.left}},cancelAt:function u(){var t=this.editor.keEditor;t.cmd.selection();var e=t.cmd.range,i=e.collapsed,n=this.getAtNodeByRange(e),o=i?n:this.getAtNodeByRange(e,!0);if(!n&&!o)return;var a=n,r=n!==o&&o?o:null,s=e.createBookmark();return a&&this.removeNode(a,!0),r&&this.removeNode(r,!0),e.moveToBookmark(s),t.select(),!0},getAtNodeByRange:function g(t,e){var i=t[e?"endContainer":"startContainer"],n=t[e?"endOffset":"startOffset"];if(1===i.nodeType){var o=i.childNodes;if(n=0<n?n-1:0,o.length>n)return this.getAtNode(o[n])}return this.getAtNode(i)},getAtNode:function v(t){for(;t;){var e=(t.nodeName||"").toLowerCase(),i=(t.className,t.getAttribute?t.getAttribute("data-card-uid"):"");if("a"===e&&(i||""===i))break;t=t.parentNode}return t},removeNode:function m(t,e){var i,n=(t||{}).parentNode;if(n){if(e&&t.hasChildNodes())for(;i=t.firstChild;)n.insertBefore(i,t);n.removeChild(t)}return t}})},function(t,e,i){var r=i(1),n=i(0),o=i(2),a=(i(9),i(18),t.exports=o.create());n.extend(a.prototype,{initialize:function s(t){var n=this;if(t.rawConfig.noShowExplain)return;var e=t.toolbarEl,o=t.bodyEl,i=r('<a class="ico-to-markdown">Markdown语法</a>');e.prepend(i),i.on("click",function a(){var t=o.find(".js-explain"),e=t.get(0),i=e&&"none"!==t.css("display");i&&t.hide(),i||(e||(t=n.getExplain(),o.append(t),t.on("click",".pop-close",a)),t.show())})},getExplain:function c(){return r(['<div class="markdown-explain js-explain" style="display:none;">','<a href="javascript:void(0);" class="pop-close" title="关闭"></a>','<p class="markdown-explain-txt"><span class="tit">格式</span><span class="txt">语法</span></p>',"<ul>",'<li class="js-insert-md" data-type="h1"><a href="javascript:void(0);"><span class="tit bold">H1</span><span class="txt"># 标题</span></a></li>','<li class="js-insert-md" data-type="h2"><a href="javascript:void(0);"><span class="tit bold">H2</span><span class="txt">## 标题</span></a></li>','<li class="js-insert-md" data-type="h3"><a href="javascript:void(0);"><span class="tit bold">H3</span><span class="txt">### 标题</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="hr"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown1"></i></span><span class="txt">---分割线</span></a></li>','<li class="js-insert-md" data-type="strong"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown2"></i></span><span class="txt">**加粗**</span></a></li>','<li class="js-insert-md" data-type="em"><a href="javascript:void(0);"><span class="tit italic">斜</span><span class="txt">*斜体*</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="code"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown3"></i></span><span class="txt">`行内代码`</span></a></li>','<li class="js-insert-md" data-type="blockcode"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown4"></i></span><span class="txt">```代码块```</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="ul"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown5"></i></span><span class="txt">- 列表</span></a></li>','<li class="js-insert-md" data-type="ol"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown6"></i></span><span class="txt">1.有序列表</span></a></li>',"</ul>","<ul>",'<li class="js-insert-md" data-type="blockquote"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown7"></i></span><span class="txt">> 引用内容</span></a></li>','<li class="js-insert-md" data-type="link"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown8"></i></span><span class="txt">[链接标题](URL)</span></a></li>','<li class="js-insert-md" data-type="image"><a href="javascript:void(0);"><span class="tit"><i class="icon-markdown icon-markdown9"></i></span><span class="txt">![图片说明](URL)</span></a></li>',"</ul>",'<a href="https://www.nowcoder.com/discuss/179680" target="_blank" class="explain-more">详细说明 &gt;</a>',"</div>"].join(""))}})},function(t,e,i){var a=i(1),u=i(0),n=i(2),o=t.exports=n.create();u.extend(o.prototype,{initialize:function r(t){var e,i=this,n=t.rawConfig;if(n.noSyncScroll||!n.noAutoHeight)return;function o(){i.cache={}}i.editor=t,i.iptEl=t.iptEl,i.iframeBody=a(t.iframeDoc.body),i.iframeWin=a(t.iframeWin),i.previewEl=t.previewEl,o(),i.initBakEl(),t.listen("updatePreview",o),t.listen("resize",o),t.listen("showPreview",function(t){t&&(o(),i.iptEl.trigger("scroll"))}),i.iptEl.on("scroll",function(){i.lockScrollSide("preview",function(){window.clearTimeout(e),t.isInPreview&&(e=window.setTimeout(function(){var t=i.getEditorScroll();i.setPreviewScroll(t)},256))})}),i.iframeWin.on("scroll",function(){i.lockScrollSide("editor",function(){window.clearTimeout(e),t.isInPreview&&(e=window.setTimeout(function(){var t=i.getPreviewScroll();i.setEditorScroll(t)},256))})})},getEditorScroll:function l(){this.initCache();var e,i,t=this.cache,n=t.lineNum,o=this.iptEl.scrollTop(),a=t.contentLineTop;u.forEach(n,function(t){if(!(a[t-1]<o))return i=t,u.BREAK;e=t});var r=0;if(e&&i&&e!==i){var s=a[e-1],c=a[i-1];r=(o-s)/(c-s)}return{lastMarker:e,nextMarker:i,percent:r}},setEditorScroll:function s(e){var i=this;i.initCache();var t=i.cache.contentLineTop,n=t[e.lastMarker-1],o=t[e.nextMarker-1];i.lockScrollSide("editor",function(){var t=n+(o-n)*e.percent;i.editorAnimate&&i.editorAnimate.stop(),i.editorAnimate=i.iptEl.animate({scrollTop:t},128)})},getPreviewScroll:function d(){this.initCache();var t=this.cache,o=this.iframeWin.scrollTop(),a=0,r=0,s=t.contentLineCount,c=t.previewMaxScroll,e=t.lineEl,l=t.lineNum;u.forEach(e,function(t,e){var i=t.offsetTop,n=l[e];if(!(i<o))return s=n,c=i,u.BREAK;a=n,r=i});var i=0;r!==c&&(i=(o-r)/(c-r));return{lastMarker:a,nextMarker:s,percent:i}},setPreviewScroll:function c(t){var e=this;e.initCache();var i=e.cache,n=0,o=i.previewMaxScroll;if(t.lastMarker){var a=i.lineNumMap[t.lastMarker];n=i.lineEl[a].offsetTop}if(t.nextMarker){a=i.lineNumMap[t.nextMarker];o=i.lineEl[a].offsetTop}var r=n+(o-n)*t.percent;e.lockScrollSide("preview",function(){e.previewAnimate&&e.previewAnimate.stop(),e.previewAnimate=e.iframeBody.animate({scrollTop:r},128)})},initBakEl:function p(){if(this.bakDv)return this.bakDv;var t=this.iptEl.get(0),e=null!==window.mozInnerScreenX&&window.mozInnerScreenX!==undefined,i=document.createElement("div"),n=document.createElement("span");i.appendChild(n),document.body.appendChild(i);var o=i.style,a=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;o.whiteSpace="pre-wrap",o.wordWrap="break-word",o.position="absolute",o.visibility="hidden",o.display="none",o.overflow=e?t.scrollHeight>parseFloat(a.height)?"scroll":o.overflow:"hidden",o.direction=a.direction,o.boxSizing=a.boxSizing,o.width=a.width,o.height=a.height,o.overflowX=a.overflowX,o.overflowY=a.overflowY,o.borderTopWidth=a.borderTopWidth,o.borderRightWidth=a.borderRightWidth,o.borderBottomWidth=a.borderBottomWidth,o.borderLeftWidth=a.borderLeftWidth,o.borderStyle=a.borderStyle,o.paddingTop=a.paddingTop,o.paddingRight=a.paddingRight,o.paddingBottom=a.paddingBottom,o.paddingLeft=a.paddingLeft,o.fontStyle=a.fontStyle,o.fontVariant=a.fontVariant,o.fontWeight=a.fontWeight,o.fontStretch=a.fontStretch,o.fontSize=a.fontSize,o.fontSizeAdjust=a.fontSizeAdjust,o.lineHeight=a.lineHeight,o.fontFamily=a.fontFamily,o.textAlign=a.textAlign,o.textTransform=a.textTransform,o.textIndent=a.textIndent,o.textDecoration=a.textDecoration,o.letterSpacing=a.letterSpacing,o.wordSpacing=a.wordSpacing,o.tabSize=a.tabSize,o.MozTabSize=a.MozTabSize,this.bakDv=i,this.bakSpan=n},initCache:function f(){var r=this;r.cache||(r.cache={});var s=r.cache;if(s.inited)return;s.inited=!0;var c=r.iptEl.get(0),l=c.value.split("\n");s.contentLineCount=l.length,s.iframeBodyHeight=r.iframeBody.outerHeight(),s.previewElHeight=r.previewEl.outerHeight(),s.previewMaxScroll=s.iframeBodyHeight-s.previewElHeight;var t=s.lineEl=r.iframeBody.find("[data-line]");(function e(){var n=[],o={};u.forEach(t,function(t,e){var i=+t.getAttribute("data-line");n.push(i),o[i]=e}),s.lineNum=n,s.lineNumMap=o})(),function d(){var t=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,i=s.contentLineTop={},e=r.bakDv,n="";u.forEach(l,function(t){n+="<span>"+(t||".")+"</span>\n"}),e.innerHTML=n,e.style.display="block",e.style.width=t.width,e.style.height=t.height;var o=parseFloat(t.borderTopWidth)||0,a=e.getElementsByTagName("span");u.forCount(s.contentLineCount,function(t){var e=a[t];i[t]=e.offsetTop+o}),e.innerHTML="",e.style.display="none"}()},lockScrollSide:function h(t,e){var i=this;i.scrollingSide&&i.scrollingSide!==t||(i.scrollingSide=t,window.clearTimeout(i.sideClearTimer),i.sideClearTimer=window.setTimeout(function(){i.scrollingSide=null},512),e&&e())}})},function(t,e,i){var o=i(1),u=i(0),n=i(2),a=t.exports=n.create();u.extend(a.prototype,{initialize:function p(a){var t,r=this;if(a.rawConfig.noHighlight)return;var s=!1,c=a.iptEl,l=o(a.iframeDoc.body);function e(){s=!0,window.clearTimeout(t),t=window.setTimeout(i,250)}function i(){if(d(),s&&a.isInPreview){var t=c.val(),e=c.range(),i=e.start,n=e.end,o=(i=r.getPosLine(t,e.start),n=r.getPosLine(t,e.end),i===n);o&&l.find("[data-line="+i+"]").addClass("md-highlight"),o||u.forCount(n-i+1,function(t){l.find("[data-line="+(i+t)+"]").addClass("md-highlight")})}}function d(){window.clearTimeout(t),l.find(".md-highlight").removeClass("md-highlight")}a.listen("updatePreview",i),c.on("focus",e),c.on("click",e),c.on("blur",function n(){s=!1,d()})},getPosLine:function r(t,e){return t.substring(0,e).split("\n").length}})},function(t,e,i){var r=i(1),n=i(7),s=i(132),o=i(2),a=i(25),c=(i(0),i(3)),l=i(5),d=t.exports=o.create();o.mix(d,n,{_template:['<div class="change-pop clearfix">','<div class="avarta-box">','<div style="position:relative;width:100%;height:100%;overflow:hidden" class="avatar-container">头像加载中</div>',"</div>",'<div class="mini-big clearfix">','<span class="mini-ico"></span>','<div class="js-slider ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all" aria-disabled="false">','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment" style="margin-left: 25%;"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-segment"></div>','<div class="ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min js-bar" style="width: 0;"></div>','<a class="ui-slider-handle ui-state-default ui-corner-all js-drag" href="javascript:void(0);" style="left: 0;"></a>',"</div>",'<span class="big-ico"></span>',"</div>",'<div class="submit-btnbox">','<a class="btn btn-default cancle-btn" href="javascript:void(0);">取消</a>','<a class="btn btn-primary confirm-btn" href="javascript:void(0);">保存</a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this,e=t.info,i=t.rawConfig,n=t.getEl(),o=n.find("div.avatar-container"),a=document.createElement("IMG");t.dragEl=n.find(".js-drag"),t.barEl=n.find(".js-bar"),e.bar.width=n.find(".js-slider").width(),a.onload=function(){t.avatarLoaded=!0,e.avatar.width=this.width,e.avatar.height=this.height,t.fixInfo(),t.fixPosition(),o.html("").append(a),t.fire("setScale"),t.fire("setDrag")},a.onerror=function(){alert("头像加载出错，请重试"),t.popup.close()},a.src=i.src,t.avatarEl=a=r(a).css({position:"absolute",left:0,top:0})}},{name:"click a.cancle-btn",type:"bind",handler:function(){this.popup.close()}},{name:"click a.confirm-btn",type:"bind",handler:function(){var e=this,i=e.rawConfig;if(e.avatarLoaded){if(!e.avatarSaving){e.avatarSaving=!0;var t=e.getResult();t.source=i.src,a.out(t),l.saveHead({body:t,call:function(t){i.call&&i.call(t),e.popup.close()},error:function(){alert("头像保存失败"),e.avatarSaving=!1}})}}else alert("请等待头像加载完成")}},{name:"setScale",type:"custom",handler:function(){var e=this,i=e.info;if(e.avatarLoaded&&!e.setScaled){e.setScaled=!0;var t=e.getEl();t.find(".js-drag"),t.find(".js-bar");e.scaleDrag=new s({drag:e.dragEl,listeners:[{name:"drag",handler:function(){var t=this._left=i.bar.left+this._moveX-this._downX;t>i.bar.width?t=i.bar.width:t<=0&&(t=0),e.dragEl.css({left:t}),e.barEl.width(t),i.scale=t/i.bar.width,e.fixPosition()}},{name:"drop",handler:function(){i.bar.left=this._left}}]})}}},{name:"setDrag",type:"custom",handler:function(){var t=this,o=t.info;if(t.avatarLoaded&&!t.setDraged){t.setDraged=!0;var a=t.avatarEl;t.dragdrop=new s({drag:a,listeners:[{name:"start",handler:function(){var t=1+o.scale;this._avatarWidth=o.min.width*t,this._avatarHeight=o.min.height*t}},{name:"drag",handler:function(){var t=this._avatarWidth,e=this._avatarHeight,i=o.position.left+this._moveX-this._downX,n=o.position.top+this._moveY-this._downY;i+t<o.dialog.width&&(i=o.dialog.width-t),0<i&&(i=0),n+e<o.dialog.height&&(n=o.dialog.height-e),0<n&&(n=0),a.css({left:i,top:n}),this._avatarLeft=i,this._avatarTop=n}},{name:"drop",handler:function(){o.position.left=this._avatarLeft,o.position.top=this._avatarTop,o.center.left=t.getCenter(this._avatarLeft,this._avatarWidth),o.center.top=t.getCenter(this._avatarTop,this._avatarHeight)}}]})}}}],show:function u(e){var i=new d(e);c.wrap(i,{title:"修改头像",content:i.html(),width:390,listeners:{close:function(){try{e.close&&e.close(),i.fire("close")}catch(t){a.out(t)}},destroy:function(){i.scaleDrag=null,i.dragdrop=null,i.info=null}}});return i}},{initialize:function p(t){this.info={scale:0,dialog:{width:300,height:300},avatar:{width:0,height:0},center:{left:0,top:0},position:{left:0,top:0},bar:{left:0,width:0}}},fixInfo:function f(){var t=this.info;if(!this.avatarLoaded)return;var e=t.avatar.width,i=t.avatar.height,n=t.dialog.width,o=t.dialog.height,a={},r={};"width"==(e/n<i/o?"width":"height")?(a.width=n,a.height=a.width*i/e):(a.height=o,a.width=a.height*e/i);r.width=2*a.width,r.height=2*a.height,t.min=a,t.max=r,t.position.left=(t.dialog.width-a.width)/2,t.position.top=(t.dialog.height-a.height)/2,t.center.left=this.getCenter(t.position.left,a.width),t.center.top=this.getCenter(t.position.top,a.height)},fixPosition:function h(){if(!this.avatarLoaded)return;var t=this.info,e=1+t.scale,i=t.min.width*e,n=t.min.height*e,o=t.dialog.width/2-t.center.left*i,a=t.dialog.height/2-t.center.top*n;o+i<t.dialog.width&&(o=t.dialog.width-i,t.center.left=this.getCenter(o,i));0<o&&(o=0,t.center.left=this.getCenter(o,i));a+n<t.dialog.height&&(a=t.dialog.height-n,t.center.top=this.getCenter(a,n));0<a&&(a=0,t.center.top=this.getCenter(a,n));this.avatarEl.css({left:o,top:a,width:i,height:n}),t.position.left=o,t.position.top=a},getCenter:function g(t,e){return this.avatarLoaded?(this.info.dialog.width/2-t)/e:void 0},getResult:function v(){var t=this.info;return{scale:(1+t.scale)*t.min.width/t.avatar.width,x:-t.position.left,y:-t.position.top,width:t.dialog.width,height:t.dialog.height}}})},function(t,e,i){t.exports=i(4)(16)},function(t,e,i){var c=i(0),l=i(1),n=i(2),o=(i(6),i(10)),a=t.exports=n.create();c.extend(a.prototype,{initialize:function d(t){if(o.isInDev()||o.isInHttps())return;var a=document.createElement("a"),e=l("script"),r=["nowcoder\\.com","nowcoder\\.net","cnzz\\.com","hm\\.baidu\\.com","growingio\\.com"],s=!0;c.forEach(e,function(t){var e=l.trim(l(t).attr("src"));if(s&&e){a.href=e;var i=a.hostname,n=!1;if(c.forEach(r,function(t){var e=new RegExp(t);n=n||e.test(i)}),!(s=s&&n)){var o=window.location.href.replace(/^http:/,"https:");window.location.href=o}}})}})},function(t,e,i){var n=i(0),o=(i(1),i(2)),a=i(70),r=t.exports=o.create();n.extend(r.prototype,{initialize:function s(t){a.go(".js-nc-card",{attachConf:{verReverse:!1},keep:!0})}})},function(t,e,i){var l=i(0),d=i(6),u=i(1),n=i(2),o=i(25),a=i(41),r=t.exports=n.create();l.extend(r.prototype,{initialize:function s(t){var e=this;o.checkAdBlock(function(t){t&&e.initFuckAdBlock()})},initFuckAdBlock:function p(){var t={all:[{cls:".mini-banner",style:"#{cls}{margin-bottom:10px;} #{cls} img{display:block;width:100%;}"}],"/contestRoom":[{cls:".mini-banner",style:".topic-banner-mini #{cls}{margin: 0 auto;width:1200px} #{cls} img{display:block}"}]},e=window.location.pathname,i=e&&t[e],n=t.all,r={},s="",c=function o(){var e="abcdefghijklmnopqrstuvwxyz",i=e.length-1,n="";return l.forCount(8,function(t){n+=e[a.random(0,i)]||""}),n}();l.forEach((n||[]).concat(i||[]),function(t){var e=t.cls,i=!!r[e],n=i?null:u(e);if(t.style&&(i||0<(n||[]).length)){var o=r[e]||"."+c+l.key(),a=d.execTpl(t.style,{cls:o});i||n.removeClass(e.replace(".","")).addClass(o.replace(".","")),r[e]=o,s+=a+" "}}),s&&u(document.body).append('<style type="text/css">'+s+"</style>")}})},function(t,e,i){var n=i(15),w=i(1),y=i(9),b=i(0),x=i(31),C=i(11),E=i(3),k=i(10),S=i(6),T=i(5);t.exports={onlineJudgeHelp:function o(t){var e=this;w(t.el).on("click",function(t){t.preventDefault(),e.showOnlineJudgeHelp()})},showOnlineJudgeHelp:function a(){var e='<div style="font-size:14px;line-height:26px;">';b.forEach([{title:"为什么代码在我本机可以通过，提交到牛客网总是提示答案错误",content:'牛客网的每个编程题都有10-50组测试数据，你的代码在本机可以通过仅仅是通过了样例数据，可能存在边界条件考虑不周导致更多的测试数据没有通过，所以会返回答案错误。还有一种可能是你的代码没有处理多个测试用例，例如A+B的代码需要while循环处理<br/><pre class="prettyprint">#include &lt;stdio.h&gt;<br/>int main() {<br/>    int a,b;<br/>    while(scanf("%d %d",&a, &b) != EOF)<br/>        printf("%d",a+b);<br/>    return 0;<br/>}</pre>'},{title:"为什么Java代码在我本机运行正常，提交到牛客网报编译错误",content:"因为Java文件名和类名需要保持一致。<br />1、如果编程题已经提供了类和要编写代码的方法，请不要擅自给方法加上static，也不要擅自修改类的名字。也不要给代码增加任何package信息。<br/>2、对于没有提供任何辅助代码的编程题，请确认类的名字是Main"},{title:"为什么我的代码在本机运行正常，提交到牛客网总是报运行超时",content:"牛客网对每个编程题的运行时间都有限制，一般是限制在1秒，牛客网后台判题的机器显然不如的你的台式机强劲，所以碰到超时请尽量优化你的代码效率。当然也有可能是你代码对某个测试用例死循环了"},{title:"为什么代码会提示答案正确（提交异常）",content:"这种情况代码本题你的结果是已AC，但是有点小问题：<br />1、牛客网对提交的代码会做相似度的判断，如果发现你的代码通过的测试用例同时和已有代码相似度过高则会给出答案正确（提交异常）的提示<br />2、根据题目的难易程度会对通过代码的提交频率进行控制，如果你提交通过代码的间隔太小，我们也认为有作弊可能，也会提示提交异常"},{title:"运行错误是什么情况",content:"运行错误一般都是数组越界非法访问，野指针乱访问，空指针乱访问等情况造成代码奔溃"}],function(t){e+='<div style="margin-bottom:20px"><div style="font-weight:bold;">Q：'+t.title+"</div><div>A："+t.content+"</div></div>"}),new E({title:"代码提交常见问题",width:960,content:e+="</div>",okTxt:"问题解决",cancelTxt:"还有问题",listeners:{render:function(){var t=this.cancelBtn;t.attr("href","https://www.nowcoder.com/discuss/276"),t.attr("target","_blank"),n.use("ncPlugin/highlighter/highlighter",function(t){return t.init()})}}})},initCodeEditor:function j(t,n){var e=C.frequency(1e3),o=!1,i={};b.forEach(["questionId","pid","tid","qid","tagId","subTagId"],function(t){return t in n&&(i[t]=n[t])});var a,r,s=t.getLastLangue()||S.trim(x.langCpp);n.submitCode&&(n.submitCode.code||n.submitCode.language)&&(a=!0,r=n.submitCode.code,s=S.trim(n.submitCode.language||s));var c=S.trim(n.codeJudgeType),l="3"===c||"8"===c,d=n.vojLanguageList||[],u=l&&0<d.length?x.getTplVoj(d):[];if(!(l=l&&0<u.length)){var p=n.langTpl||x.getTpl();u=x.checkTpl(c,p)}var f=b.map(u,function(t){var e=S.trim(t.id),i=s===e;return{value:e,checked:i,code:a&&i?r:"",tplCode:S.trim(t.tpl.val())||"",valueNc:S.trim(t.idNc),name:S.trim(t.name)}}),h=new t({renderTo:w(n.codeEl),noAutoSize:!!n.noAutoSize,noCacheCode:!!n.noCacheCode,codeHint:n.codeHint||"keyword",tipEl:w(n.runInfoEl),runCode:i,options:f,isJudgeVoj:l,height:n.autoFixHeight?null:320,maxStatusDelay:n.maxStatusDelay,runExtParam:n.runExtParam,statusExtParam:n.statusExtParam,captchaUrl:n.captchaUrl,getUrlSubmitCode:n.getUrlSubmitCode,getUrlGetCodeStatus:n.getUrlGetCodeStatus,noSelfTest:"0"!==c||!!n.noSelfTest,selfTestType:n.selfTestType||9,selfTestRunExtParam:n.selfTestRunExtParam,selfTestSystemCase:n.selfTestSystemCase,selfTestWarning:n.selfTestWarning,listeners:{render:function(){if(n.autoFixHeight){var t=Math.max((window.screen.availHeight||900)-320,180);this.resize(null,t)}},runCodeFinish:function(t){o=!1},runCodeSuccess:function(t){o=!1},runCodeDanger:function(t){o=!1},runCodeError:function(t){o=!1},langueChange:function(){}}}),g=w(n.runCodeEl);if(0<g.length){g.on("click",function(){e(function(){o=!0,h.runCode()})});var v=g.html();h.listen("enterSelfTest",function(){return g.html("自测调试")}),h.listen("exitSelfTest",function(){return g.html(v)})}var m=[{el:w(n.loadCodeEl),name:"codeGetLastSubmission"},{el:w(n.loadAcceptCodeEl),name:"codeGetLastAcceptSubmission"}];return b.forEach(m,function(t){var e=t.el,i=t.name;e.addClass("nc-req-auth"),e.on("click",function(){if(k.isLogin())return o?E.alert("代码提交运行中，请稍后重试"):void(y.mark(e)||T[i]({query:{questionId:n.questionId},call:function(t){var e=t.data;e&&e.language&&h.val(e.language,e.content)},error:function(t){return E.alert(t.msg)},always:function(){return y.clear(e)}}))})}),h},initFECodeEditor:function c(t,i){var e={};b.forEach(["questionId","pid","tid","qid"],function(t){t in i&&(e[t]=i[t])});var o=!1,n=i.langTpl||x.getTplFE(),a=new t({renderTo:w(i.codeEl),noAutoSize:!!i.noAutoSize,openPreview:!0,tipEl:w(i.runInfoEl),runCode:e,supportLang:i.supportLang,statusExtParam:i.statusExtParam,captchaUrl:i.captchaUrl,getUrlSubmitCode:i.getUrlSubmitCode,getUrlGetCodeStatus:i.getUrlGetCodeStatus,languages:b.map(n,function(t){return{text:t.id,code:w.trim(w(t.tpl).val()),checked:"javascript"===t.id}}),listeners:{render:function(){if(i.autoFixHeight){var t=Math.max((window.screen.availHeight||900)-320,180);this.resize("100%",t),this.height=t}},runCodeFinish:function(t){o=!1},runCodeSuccess:function(t){o=!1},runCodeDanger:function(t){o=!1},runCodeError:function(t){o=!1},langueChange:function(){}}}),r=w(i.runCodeEl);r.length&&r.on("click",function(){o=!0,a.runCode()});var s=[{el:w(i.loadCodeEl),name:"codeGetLastSubmission"},{el:w(i.loadAcceptCodeEl),name:"codeGetLastAcceptSubmission"}];return b.forEach(s,function(t){var e=t.el,n=t.name;e.addClass("nc-req-auth"),e.on("click",function(){if(k.isLogin())return o?E.alert("代码提交运行中，请稍后重试"):void(y.mark(e)||T[n]({query:{questionId:i.questionId},call:function(t){var e=t.data,i=b.json(e.content,{});"codeGetLastSubmission"===n?a.resetCode(i):"codeGetLastAcceptSubmission"===n&&e.language&&(a.langueSelect&&a.langueSelect.val(e.language+""),a.resetCode(i))},error:function(t){return E.alert(t.msg)},always:function(){return y.clear(e)}}))})}),a}}},function(t,e,i){var f=i(1),n=i(0),o=i(2),a=(i(11),i(6),t.exports=o.create());n.extend(a,{isSupport:!!window.getSelection}),n.extend(a.prototype,{initialize:function r(t){this.rawConfig=t,this.currentSelection="",this.el=f(t.el),a.isSupport&&this.initSelect()},initSelect:function h(){var r=this,s=r.rawConfig,c=r.el,l=!1,d=!1;function u(){d=!0,c.unbind("mousemove",u)}function p(){c.unbind("mousemove",u),c.unbind("mouseup",p);var t=l&&d;if(d=l=!1,t){var e=window.getSelection(),i=f.trim(e.toString()),n=r.getSelectionEndPosition();if(2<i.length&&n){r.currentSelection=i;var o=n.x+window.scrollX,a=n.y+window.scrollY;s.call&&s.call({val:i,x:o,y:a})}}}c.on("mousedown",function(){d=!(l=!0),c.unbind("mousemove",u),c.unbind("mouseup",p),c.on("mousemove",u),c.on("mouseup",p)}),f(document).on("mousedown",function(t){var e=f(t.target);s.canCancel&&!s.canCancel(e)||!s.cancel||s.cancel()})},val:function s(){return this.currentSelection},getSelectionEndPosition:function c(){var t=this.getSelectionRange();if(t&&!this.isSelectionInForm()){var e=t.endContainer,i=document.createRange();i.setStart(e,0),i.setEnd(e,t.endOffset);var n=i.getClientRects(),o=n.length;if(0<o){var a=n[o-1],r=1<o?n[o-2]:null,s=a.left===a.right&&r?r:a;return{x:s.right,y:s.bottom}}}},getSelectionRange:function l(){var t=window.getSelection();return t.rangeCount?t.getRangeAt(0).cloneRange():null},isSelectionInForm:function d(){var t=document.activeElement,e=t?(t.tagName||"").toLowerCase():"";return!(!e||!{input:1,textarea:1,select:1,button:1}[e])}})},function(t,e,i){var n=i(71),o=i(47),a=i(46),r=i(73),s=i(72);t.exports={List:n,Reply:o,Item:a,ItemSub:r,ItemBbs:s}},function(t,e,i){t.exports=i(4)(60)},function(t,e,i){t.exports=i(4)(27)},function(t,e,i){i(1);var n=i(7),o=i(2),a=i(0),r=i(6),s=i(3),c=i(74),l=i(5),d=t.exports=o.create();o.mix(d,n,{_template:'<div><div style="font-size:14px;text-align:center;">数据加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var i=this,n=i.getEl();i.fetchTags(function(t,e){n.html(""),i.initCpn(t,e),i.initBtn(),i.popup.fixPosition()})}}],show:function u(e){var i=new d(e=e||{});s.wrap(i,{title:e.isEdit?"修改收藏":"收藏成功",content:i.html(),width:630,hasNoFooter:!!e.isEdit,ok:function(){if(!i.tagInput.check())return!0;var t=a.uniq(i.tagInput.val());e.ok&&e.ok(t)},cancel:function(){},listeners:{cancel:e.cancel,close:e.close}});return i}},{initCpn:function p(t,e){var i=this,n=i.getEl();i.tagInput=new c({renderTo:n,common:a.map(e,function(t){return{text:t,value:t}}),value:a.map(t,function(t){return{text:t,value:t}}),listeners:{change:function(){i.fire("change")}}})},initBtn:function f(){var t=this.rawConfig,e=this.getEl();t.isEdit&&e.append(['<div class="pop-collect-tag" style="margin-top:20px;">','<a href="javascript:void(0);" class="btn btn-primary confirm-btn">修改收藏标签</a>','<div class="cut-line"><span class="cut-txt">或者</span></div>','<a href="javascript:void(0);" class="btn btn-warn cancle-btn">删除收藏</a>',"</div>"].join(""))},fetchTags:function h(n){var e=this,i=e.rawConfig,t={id:i.entityId,type:i.entityType};i.isEdit&&(t.isEdit=!0),l.getFollowData({query:t,call:function(t){var e=r.split(t.data.allTags,","),i=r.split(t.data.draftTags,",");n&&n(i,e)},error:function(t){i.isEdit&&(e.popup.close(),s.alert(t.msg))}})}})},function(t,e,i){t.exports=i(4)(67)},function(t,e,i){var r=i(1),c=i(0),n=i(2),o=i(7),a=i(9),l=i(3),s=i(13),d=i(19),u=i(26),p=i(5),f={1:7,2:30,3:90,4:180},h=t.exports=n.create();n.mix(h,o,{_template:'<div class="pop-vote"><div style="font-size:14px;text-align:center">加载中...</div></div>',listeners:[{name:"render",type:"custom",handler:function(){var i=this;if(!i.isEdit)return i.initContainer();i.getInfo(function(t){var e=(i.voteData=t).voteInfo||{};i.initContainer(),i.val({title:e.title,type:e.type,expiredAt:e.expiredAt,options:c.map(t.voteOptions,function(t){return t.optionTitle})}),0<(t.totalVoteCount||0)&&i.disabled()})}},{name:"click .js-del-option",handler:function(t){var e=this.optionBox,i=r(t.currentTarget).closest(".form-group"),n=i.index();e[n]&&(o.recycle(i),e.splice(n,1),this.fixOption())}},{name:"click .js-add-option",handler:function(t){this.addOption()}},{name:"click .js-submit",handler:function(t){this.check()&&this.submit()}}],show:function g(t){var e=new h(t=t||{});return l.wrap(e,{title:e.isEdit?"编辑投票":"投票",content:e.html(),width:630}),e}},{initialize:function v(t){this.cpn={},this.optionBox=[],this.isEdit=!!t.voteId,this.maxOption=+t.maxOption||15},initContainer:function m(){this.getEl().html(['<div class="form-group">','<label class="control-label">标题</label>','<div class="js-title"></div>',"</div>",'<div class="form-group no-margin">','<label class="control-label">投票选项</label>','<div class="control-group">最多25个字</div>',"</div>",'<div class="js-option-box"></div>','<div class="form-group">','<label class="control-label"></label>','<div class="control-group">','<a href="javascript:void(0);" class="pop-addoption-btn js-add-option">+ 添加选项</a>',"</div>","</div>",'<div class="form-group">','<label class="control-label">单选/多选</label>','<div class="js-choice"></div>',"</div>",'<div class="form-group">','<label class="control-label">结束时间</label>','<div class="js-end-time"></div>',"</div>",'<div class="form-group fn-center">','<a href="javascript:void(0);" class="btn btn-primary js-submit">发起投票</a>',"</div>"].join("")),this.initCpns(),this.addOption(),this.addOption(),this.popup.fixPosition()},initCpns:function w(){var t=this.cpn;t.title=new s({renderTo:this.getEl(".js-title"),renderBy:"replaceWith",placeholder:"最多支持20个字符",listeners:{change:function(){var t=r.trim(this.val());this.errorTips(20<t.length?"最多支持20个字符":"")}}}),t.choice=new d({renderTo:this.getEl(".js-choice"),renderBy:"replaceWith",options:[{text:"单选",value:"1",checked:!0},{text:"多选",value:"2"}]}),t.choice.getEl().css("margin-bottom",0),t.expiredAt=new d({renderTo:this.getEl(".js-end-time"),renderBy:"replaceWith",options:[{text:"一周",value:"1",checked:!0},{text:"一个月",value:"2"},{text:"三个月",value:"3"},{text:"半年",value:"4"}]})},addOption:function y(){var t=r(['<div class="form-group">','<label class="control-label"></label>','<div class="control-group pop-with-oprt-icon">','<a href="javascript:void(0);" class="icon-minus-sign js-del-option"></a>',"</div>","</div>"].join(""));this.getEl(".js-option-box").append(t);var e=s.transform(t.find(".control-group"),{listeners:{change:function(){var t=r.trim(this.val());this.errorTips(25<t.length?"最多支持25个字符":"")}}});return this.optionBox.push(e),this.fixOption(),e},fixOption:function b(){var o=this.optionBox;c.forEach(o,function(t,e){var i=t.getEl().closest(".form-group"),n=t.isDisabled();i.find(".control-label").html(e+1),n||i.find(".js-del-option")[2<o.length?"show":"hide"]()}),this.getEl(".js-add-option")[o.length>=this.maxOption?"hide":"show"]()},disabled:function x(n){var o=this,t=o.cpn;n=!1!==n,t.title.disabled(n),t.choice.disabled(n),c.forEach(o.optionBox,function(t){var e=t.getEl().closest(".form-group");if(t.disabled(n),e.find(".js-del-option")[!1===n?"show":"hide"](),t.tips&&t.tips.destroy&&t.tips.destroy(),n){var i=t.tips=u.show({target:t.getEl(),autoWidth:!0,content:'<span>注意：编辑此选项，会清空全部投票！<a href="javascript:void(0);" class="font-green js-edit">确认编辑</a></span>'});t.pushChild(i),i.getEl().on("click",".js-edit",function(){o.hasChangeOptions=!0,o.disabled(!1)})}}),n||o.fixOption()},val:function C(t){var i=this,e=i.rawConfig,n=i.cpn,o=i.isEdit;if(0===arguments.length)return{voteId:o?e.voteId:undefined,entityId:o?undefined:e.entityId,entityType:o?undefined:e.entityType,hasChangeOptions:!!i.hasChangeOptions,title:r.trim(n.title.val()),type:n.choice.val(),expiredAt:n.expiredAt.val(),options:c.map(i.optionBox,function(t){return r.trim(t.val())})};t=t||{},n.title.val(r.trim(t.title)),n.choice.val({1:1,2:1}[t.type]?c.id(t.type):"1"),n.expiredAt.val({1:1,2:1,3:1,4:1}[t.expiredAt]?c.id(t.expiredAt):"1");var a=i.optionBox;c.forEach(t.options,function(t,e){(a[e]||i.addOption()).val(r.trim(t))}),i.fixOption()},check:function E(){var r=this,e=r.val(),t=r.cpn,s=(r.rawConfig,!0);e.title?20<e.title.length&&(t.title.errorTips("最多支持20个字符"),s=!1):(t.title.errorTips("请填写内容"),s=!1);e.type||(t.choice.error(),s=!1);e.expiredAt||(t.expiredAt.error(),s=!1);if(c.forEach(e.options,function(n,o){var a=r.optionBox[o];if(n)if(25<n.length)a&&a.errorTips("最多支持25个字符"),s=!1;else{var t=e.options.slice(o+1);c.forEach(t,function(t,e){if(t===n){a&&a.errorTips("重复的选项");var i=r.optionBox[o+e+1];i&&i.errorTips("重复的选项"),s=!1}})}else a&&a.errorTips("请填写内容"),s=!1}),r.isEdit){r.isValid(r.voteData,e.expiredAt)||(t.expiredAt.error(),l.alert("请延长结束时间"),s=!1)}return s},submit:function k(){var e=this,i=e.rawConfig,n=e.getEl(),o=e.isEdit;if(a.mark(n))return;p[o?"voteEdit":"voteCreate"]({type:"POST",body:e.val(),call:function(t){l.tips("操作成功"),e.callback("call",o?i.voteId:t.data.voteId),e.popup&&e.popup.close()},error:function(t){l.alert(t.msg)},always:function(t){a.clear(n)}})},isValid:function S(t,e){return((t||{}).voteInfo||{}).createdAt+24*(f[e]||0)*3600*1e3>(new Date).getTime()},getInfo:function T(i){var n=this,t=n.rawConfig;if(t.info)return i&&i(t.info);function o(t){n.getEl().html('<div style="font-size:14px;text-align:center">'+t+"</div>")}p.voteInfo({query:{voteId:t.voteId},call:function(t){var e=t.data;if(!n.isValid(e,"4"))return o("投票已截止，不能编辑");i&&i(t.data)},error:function(t){o(t.msg)}})}})},function(t,e,i){i(1);var o=i(0),n=i(2),a=i(7),r=i(36),s=i(61),c=i(30),l=i(3),d=i(24),u=i(5),p={1:7,2:30,3:90,4:180},f=t.exports=n.create();n.mix(f,a,{_template:'<div class="vote-mod"></div>',listeners:[{name:"render",type:"custom",handler:function(){this.tips(),this.refresh()}},{name:"click .js-vote",handler:function(t){var e=this;d.checkLogin(t.currentTarget,function(){e.check()&&e.vote(function(t){e.renderVoted(o.extend(t,{hasVote:!0,voteInfo:e.voteData.voteInfo,voteOptions:e.voteData.voteOptions}))})})}}]},{initialize:function h(t){this.voteId=t.voteId},refresh:function g(){var i=this;i.getInfo(function(t){var e=(i.voteData=t).hasVote||i.ended();i[e?"renderVoted":"renderVote"](t)},function(t){i.tips(t)})},renderVote:function v(t){var i=t.voteInfo||{},e=r.execTpl(['<div class="vote-mod-hd">#{vote.title + type}</div>','<div class="vote-mod-bd js-vote-option"></div>','<div class="vote-mod-ft">','<a href="javascript:void(0);" class="btn btn-primary btn-block js-vote">投票</a>',"</div>"],{vote:i,type:"("+{1:"单选",2:"多选"}[i.type]+")"});this.getEl().html(e);var n=this.getEl(".js-vote-option");this.optionCpn=s.mix({items:o.map(t.voteOptions,function(t){var e=new c({renderTo:n,radio:{1:!0,2:!1}[i.type],text:t.optionTitle,val:o.id(t.optionId)});return e.getEl().css({display:"block","margin-left":"0","margin-bottom":"10px"}),e})})},renderVoted:function m(e){var t=e.voteInfo||{},i=o.toMap(e.hostVote,function(t){return{key:t,value:!0}}),n=r.execTpl(['<div class="vote-mod-hd">#{vote.title + type}</div>','<div class="vote-mod-bd">','<div v-for="item in items" class="progress-bar-wrapper">','<span class="progress-bar-label">#{item.optionTitle}<span v-if="isSelect(item)" class="font-green">(已选)</span></span>','<span class="progress-bar-text">#{count(item)}票 #{percent(item)}</span>','<div class="progress-bar-box">','<div class="progress-bar-bg"><div class="progress-bar-inner" :style="\'width:\' + percent(item)"></div></div>',"</div>","</div>","</div>",'<div class="vote-mod-ft">',"<a href=\"javascript:void(0);\" class=\"btn btn-default btn-block\">#{ended ? '投票已结束' : '你已投票'}</a>","</div>"],{vote:t,type:"("+{1:"单选",2:"多选"}[t.type]+")",items:e.voteOptions,ended:this.ended(),isSelect:function(t){return!!i[t.optionId]},count:function(t){return(e.countInfo||{})[t.optionId]||0},percent:function(t){return((e.percentInfo||{})[t.optionId]||0)+"%"}});this.getEl().html(n)},vote:function w(e){var t=this.optionCpn.val();u.vote({body:{voteId:this.voteId,options:t},call:function(t){e&&e(t.data)},error:function(t){l.alert(t.msg)}})},check:function y(){var t=this.optionCpn.val();return!(!t||0===t.length)||(l.alert("请选择一个选项"),!1)},ended:function b(){var t=this.voteData.voteInfo,e=24*(p[t.expiredAt]||0)*3600*1e3;return t.createdAt+e<=(new Date).getTime()},tips:function x(t){this.getEl().html('<div style="text-align:center;font-size:14px;padding:20px 0;">'+(t||"加载中...")+"</div>")},getInfo:function C(i,e){u.voteInfo({query:{voteId:this.voteId},call:function(t){var e=t.data||{};i&&i(e)},error:function(t){e&&e(t.msg)}})}})},function(t,e,i){"use strict";i.r(e);function n(t,e,i,n,o,a,r,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(t,e){return c.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}var o=n({name:"nc-status",props:["loading"]},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{padding:"20px 0","text-align":"center","font-size":"14px"}},[this.loading?[e("img",{staticStyle:{width:"16px",height:"16px","vertical-align":"middle","margin-right":"5px"},attrs:{src:"//uploadfiles.nowcoder.com/images/20160415/56_1460702753117_F68B6B6E9DBC3FED9828888665D0AF32"}}),this._v(" "),this._t("default",[this._v("加载中，请稍等")])]:[e("img",{staticStyle:{display:"block",width:"63px",height:"72px",margin:"0 auto"},attrs:{src:"//uploadfiles.nowcoder.com/images/20151217/56_1450323797641_364BE8860E8D72B4358B5E88099A935A"}}),this._v(" "),e("div",{staticClass:"mt1"},[this._t("default",[this._v("出现错误，请重试")])],2)]],2)},[],!1,null,null,null).exports;o.install=function(t){return t.component(o.name,o)};var a=o,r=i(5),s=i(3);var c=n({props:["isShow"],components:{VueStatus:a},data:function k(){return{timerPing:null,timerExpire:null,isLoading:!0,isExpire:!1,code:"",error:""}},mounted:function S(){this.actionRefresh()},methods:{startPing:function T(){var e=this;window.clearTimeout(e.timerPing),e.timerPing=window.setTimeout(function(){if(e.isExpire)return e.startPing();r.scanPingAppScanned({query:{code:e.code},call:function(){return s.tips("扫码成功，正在跳转...",function(){return e.$emit("submit")})},error:function(t){if(2!==t.code)return e.startPing();window.clearTimeout(e.timerExpire),e.isExpire=!0}})},2e3)},actionRefresh:function j(){var i=this;window.clearTimeout(i.timer),i.isLoading=!0,r.scanGetCode({type:"GEt",call:function(t){var e=t.data;i.code=e.code,i.error="",i.timerExpire=window.setTimeout(function(){return i.isExpire=!0},1e3*e.expireSecs),i.startPing()},error:function(t){return i.error=t.msg},always:function(){i.isLoading=!1,i.isExpire=!1}})}}},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoading?i("div",{staticClass:"login-qrcode-wrapper fn-center"},[i("VueStatus",{attrs:{loading:!0}})],1):t.isExpire||t.error?i("div",{staticClass:"pop-scan-wrapper"},[i("div",{staticStyle:{color:"#929aa1",margin:"0 0 20px 0"}},[i("i",{staticClass:"icon-nc-invalid",staticStyle:{"font-size":"38px","vertical-align":"middle"}}),t._v(" "),i("span",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.isExpire?"二维码已失效":t.error))])]),t._v(" "),i("a",{staticClass:"btn btn-primary",staticStyle:{width:"258px"},attrs:{href:"javascript:void(0);"},on:{click:t.actionRefresh}},[t._v("点击刷新")])]):i("div",{staticClass:"pop-scan-wrapper"},[t._m(0),t._v(" "),i("img",{staticClass:"pop-scan-box",attrs:{src:"/qrcode/to-pc-code?code="+t.code}}),t._v(" "),t._m(1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pop-scan-login"},[e("div",{staticClass:"pic"},[e("img",{attrs:{src:"//static.nowcoder.com/fe/style/images/common/res/popup/scan.png"}})]),this._v(" "),e("div",{staticClass:"cont"},[e("h2",[this._v("打开手机牛客APP")]),e("p",[this._v("扫一扫登录")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"pop-scan-tips",attrs:{href:"/app",target:"_blank"}},[e("i",{staticClass:"icon-nc-down"}),this._v(" 点击下载牛客APP")])}],!1,null,null,null).exports,l=i(15),d=i(1),u=i(0),p=i(6),f=i(14),h=i(11),g=i(3),v=i(13),m=i(12),w=i(10),y=i(5),b=i(21),x=document.createElement("A"),C=i(78);var E=n({ncPopup:function _(t){var e=new(C.extend(this))(t);return g.wrap(e,{width:650,hasNoFooter:true,hasNoTitle:true}).listen("close",function(){return e.$emit("close")}),e},props:["href","register"],components:{Scan:c},data:function I(){return{isScanLoaded:!1,isScan:!1,mode:!1===this.register?"login":"register",openBigDay:"",loginType:"password",isLogining:!1,isRegistering:!1,loginCpn:{},registerCpn:{},wxHref:"",qqHref:"",wbHref:"",rrHref:"",dbHref:"",gitHref:""}},mounted:function L(){var t=this;t.$nextTick(function(){t.initScan(),t.initCpn(),t.initCaptcha(),t.initShareHref(),t.getPublicKey(null,!0)})},methods:{initScan:function P(){var e=this,i=e.$watch("isScan",function(t){t&&(e.isScanLoaded=!0,i())})},initCpn:function A(){var t=this,e=t.$refs;t.loginCpn={account:v.transform(e.loginAccount),pwd:v.transform(e.loginPwd),zip:b.initPhoneZip({renderTo:e.loginCountry}),accountPhone:v.transform(e.loginAccountPhone),captcha:v.transform(e.loginCaptcha)};var i=t.registerCpn={zip:b.initPhoneZip({renderTo:e.regCountry,showNow:!0}),account:v.transform(e.regAccount),captcha:v.transform(e.regCaptcha),pwd:v.transform(e.regPwd),pwd2:v.transform(e.regPwdRepeat)};function n(){d.trim(i.account.val())&&t.checkRegisterAccount()}i.zip.listen("change",n),i.account.listen("blur",n),i.pwd.listen("blur",u.bind(t.checkRegisterPwd,t)),i.pwd2.listen("blur",u.bind(t.checkRegisterPwd,t))},initCaptcha:function M(){var o=this,a=o.registerCpn,r=o.loginCpn;o.registerAuthCaptcha=b.initCaptcha({btn:o.$refs.regCaptchaBtn,cpn:o,isPhone:!0,check:u.bind(o.checkRegisterAccount,o),val:function(){return""+d.trim(a.zip.val())+d.trim(a.account.val())}}),b.initCaptcha({btn:o.$refs.loginCaptchaBtn,cpn:o,isPhone:!0,check:function(n){b.checkPhone({zip:r.zip,phone:r.accountPhone,needRegister:!0,call:function(t,e){if(e.isError||e.isRegister)return n&&n(!e.isError);r.accountPhone.setNone();var i=g.confirm("该手机还没注册，是否立即注册？",function(){o.actionMode("register"),a.zip.val(r.zip.val()),a.account.val(r.accountPhone.val()),a.captcha.val(""),o.registerAuthCaptcha&&o.registerAuthCaptcha.send(),n&&n(!1)},function(){return n&&n(!1)});i.okBtn.html("立即注册"),i.cancelBtn.html("暂不注册")}})},val:function(){return""+d.trim(r.zip.val())+d.trim(r.accountPhone.val())}})},initShareHref:function z(){var e=this,t=e.href,i={};(t=t&&t!==window.location.href?t:"")&&(x.href=t),i.callBack=t?x.href:undefined;var n=window.location.hostname;"www.nowcoder.com"!==n&&(i.callBackHostName=n);var o=w.isInHttps()?"https://":"http://";e.wxHref=f.addParam({callBack:window.location.href},"/oauth2/login/wechat_mp_index"),e.qqHref="https://graph.qq.com/oauth2.0/authorize?client_id=101003590&response_type=code&state=web&redirect_uri="+f.addParam(i,o+"www.nowcoder.com/oauth2/qqconfig"),e.wbHref="https://api.weibo.com/oauth2/authorize?client_id=3023520088&response_type=code&state=web&scope=follow_app_official_microblog&redirect_uri="+f.addParam(i,o+"www.nowcoder.com/oauth2/sinaconfig"),e.rrHref="https://graph.renren.com/oauth/authorize?client_id=33356a41ddac4028a9ad64925e68c0e0&redirect_uri=http://www.nowcoder.com/oauth2/rrconfig&response_type=code&state=web",e.dbHref="https://www.douban.com/service/auth2/auth?client_id=075c6b46242f18c8161541d26c8d4a58&redirect_uri=http://www.nowcoder.com/oauth2/dbconfig&response_type=code&state=web",e.gitHref="https://github.com/login/oauth/authorize?client_id=1c539827b9400016d0c9&scope=user:email&redirect_uri="+f.addParam(i,"http://www.nowcoder.com/oauth2/gitconfig")+"&response_type=code&state=web",y.getOauthState({type:"GET",call:function(t){return e.wbHref="https://api.weibo.com/oauth2/authorize?client_id=3023520088&response_type=code&state="+(t.data||"web")+"&scope=follow_app_official_microblog&redirect_uri="+f.addParam(i,o+"www.nowcoder.com/oauth2/sinaconfig")}})},clear:function D(){u.forEach(this.loginCpn,function(t){return t.setNone&&t.setNone()}),u.forEach(this.registerCpn,function(t){return t.setNone&&t.setNone()})},val:function H(t){var e=this.loginCpn,i=this.registerCpn;if(this.isRegister){var n={zip:a=d.trim(i.zip.val())||"+86",phone:(t?a:"")+d.trim(i.account.val()),code:d.trim(i.captcha.val()),password:d.trim(i.pwd.val()),pwd2:d.trim(i.pwd2.val())};return t&&(n.cipherPwd=this.encrypt(n.password),n.method=1,delete n.zip,delete n.password,delete n.pwd2),n}var o=this.isPassword,a=d.trim(e.zip.val())||"+86",r=d.trim(e[o?"account":"accountPhone"].val());n={zip:a,email:t&&!o?(a||"")+r:r,code:d.trim(e.captcha.val()),pwd:d.trim(e.pwd.val()),remember:this.$refs.loginRember.checked?"true":"false"};t&&(o&&(n.cipherPwd=this.encrypt(n.pwd),delete n.code),delete n.zip,delete n.pwd);return n},check:function F(e){var t=this.val(),i=this.loginCpn,n=this.registerCpn,o=this.isRegister,a=this.isPassword,r=!0;if(o)return t.code||(n.captcha.setErrorTips("验证码不能为空"),r=!1),r=this.checkRegisterPwd(!0)&&r,this.checkRegisterAccount(function(t){e&&e(r&&t)});a?(p.isEmail(t.email)||p.isPhone(t.email)||/^\+\d+$/.test(t.email)||(i.account.setErrorTips("请输入正确的邮箱或手机"),r=!1),t.pwd||(i.pwd.setErrorTips("密码不能为空"),r=!1)):(("+86"===t.zip?p.isPhone(t.email):/\d+$/.test(t.email))||(i.accountPhone.setErrorTips("请输入正确的手机"),r=!1),t.code||(i.captcha.setErrorTips("验证码不能为空"),r=!1));e&&e(r)},checkRegisterAccount:function R(t){b.checkPhone({zip:this.registerCpn.zip,phone:this.registerCpn.account,call:t})},checkRegisterPwd:function N(t){var e=this.registerCpn;return b.checkPwd({ipt1:e.pwd,ipt2:e.pwd2,isSubmit:t})},encrypt:function U(t){var e=new window.NCJSEncrypt;return e.setPublicKey(this.publicKey||""),e.encrypt(d.trim(t))},getPublicKey:function B(t,o){var a=this;!function e(n){a.publicKey&&n&&n(),a.publicKey||y.getLoginPublicKey({type:"GET",call:function(t){var e=t.data||{},i=e.rsaPublicKey;if(a.openBigDay=e.openBigDay,!i)return!o&&g.alert("获取公钥出错，请联系牛客工作人员");a.publicKey=i,n&&n()},error:function(t){return!o&&g.alert(t.msg)}})}(function(){return function e(t){window.NCJSEncrypt&&t&&t(),window.NCJSEncrypt||l.use("//static.nowcoder.com/nc/jslib/jsencrypt.min.js",function(){h.waitUtil({times:250,condition:function(){return!!window.NCJSEncrypt},call:t,error:function(){return!o&&g.alert("获取加密文件出错，请重试")}})})}(t)})},actionMode:function q(t){this.mode=t||"register",this.clear(),this.popup&&this.popup.fixPosition()},actionLoginType:function O(t){this.loginType=t,this.popup&&this.popup.fixPosition()},actionSubmit:function W(t){t.preventDefault(),this[this.isRegister?"actionRegister":"actionLogin"]()},actionRegister:function G(){var n=this;n.clear(),n.check(function(t){t&&n.getPublicKey(function(){n.isRegistering||(n.isRegistering=!0,y.register({body:n.val(!0),call:function(){return n.$emit("register")},error:function(t){var e=n.registerCpn,i=t.msg||"";0<=i.indexOf("密码")?(e.pwd.setErrorTips(i),e.pwd2.setErrorTips(i)):0<=i.indexOf("验证码")?e.captcha.setErrorTips(i):g.alert(i)},always:function(){return n.isRegistering=!1}}))})})},actionLogin:function V(){var i=this;i.clear(),i.check(function(t){t&&i.getPublicKey(function(){i.isLogining||(i.isLogining=!0,y.login({body:i.val(!0),captcha:{type:m.captcha.login},call:function(){return i.$emit("login")},error:function(t){var e=i.loginCpn;if(!i.isPassword)return e.accountPhone.setErrorTips(t.msg);4===t.code?e.pwd.setErrorTips(t.msg||"密码不正确，请重试！"):e.account.setErrorTips(t.msg)},always:function(){return i.isLogining=!1}}))})})}},computed:{isRegister:function $(){return"register"===this.mode},isLogin:function J(){return"login"===this.mode},isPassword:function K(){return"password"===this.loginType}}},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pop-content"},[i("a",{staticClass:"pop-close",attrs:{href:"javascript:void(0);",title:"关闭"}}),e._v(" "),e._m(0),e._v(" "),i("div",{staticClass:"pop-reg-form clearfix"},[i("div",{staticClass:"login-type",staticStyle:{"z-index":"99"}},[e.isScan?i("a",{staticClass:"icon-nc-pclogin",attrs:{href:"javascript:void(0);"},on:{click:function(t){e.isScan=!1}}},[i("span",{staticClass:"login-type-tips"},[e._v("牛客账号登录")])]):i("a",{staticClass:"icon-nc-codelogin",attrs:{href:"javascript:void(0);"},on:{click:function(t){e.isScan=!0}}},[i("span",{staticClass:"login-type-tips"},[e._v("牛客APP扫码登录")])])]),e._v(" "),i("div",{staticClass:"input-section"},[e.isScanLoaded?i("Scan",{directives:[{name:"show",rawName:"v-show",value:e.isScan,expression:"isScan"}],on:{submit:function(t){return e.$emit("login")}}}):e._e(),e._v(" "),i("form",{directives:[{name:"show",rawName:"v-show",value:!e.isScan,expression:"!isScan"}],on:{submit:e.actionSubmit}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isRegister,expression:"isRegister"}]},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("手机号码")]),e._v(" "),i("div",{ref:"regAccount",staticClass:"control-group form-phone-fill"},[i("div",{ref:"regCountry",staticClass:"btn-group"}),i("input",{attrs:{type:"text",placeholder:"请输入手机号码"}})])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("验证码")]),e._v(" "),i("div",{staticClass:"btn-group phone-code"},[i("div",{ref:"regCaptcha",staticClass:"control-group"},[i("input",{attrs:{type:"text",placeholder:"请输入验证码"}})]),e._v(" "),i("span",{staticClass:"input-group-btn"},[i("button",{ref:"regCaptchaBtn",staticClass:"btn btn-primary",staticStyle:{padding:"0 5px"}},[e._v("获取验证码")])])])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("密码")]),e._v(" "),i("div",{ref:"regPwd",staticClass:"control-group"},[i("input",{attrs:{type:"password",placeholder:"请输入密码"}})])]),e._v(" "),i("div",{staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("重输密码")]),e._v(" "),i("div",{ref:"regPwdRepeat",staticClass:"control-group"},[i("input",{attrs:{type:"password",placeholder:"请重复输入密码"}})])]),e._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-input-login"},[i("a",{staticClass:"btn btn-primary btn-block",attrs:{href:"javascript:void(0);"},on:{click:e.actionRegister}},[e._v("立即注册")])])]),e._v(" "),i("div",{staticClass:"pop-login-tips"},[e._v("已有牛客网账号？ "),i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.actionMode("login")}}},[e._v("立即登录")])])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isLogin,expression:"isLogin"}]},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isPassword,expression:"isPassword"}],staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("邮箱/手机")]),e._v(" "),i("div",{ref:"loginAccount",staticClass:"control-group"},[i("input",{attrs:{type:"text",placeholder:"请输入邮箱/手机号码"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isPassword,expression:"isPassword"}],staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("密码")]),e._v(" "),i("div",{ref:"loginPwd",staticClass:"control-group"},[i("input",{attrs:{type:"password",placeholder:"请输入密码"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPassword,expression:"!isPassword"}],staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("手机号码")]),e._v(" "),i("div",{ref:"loginAccountPhone",staticClass:"control-group form-phone-fill"},[i("div",{ref:"loginCountry",staticClass:"btn-group"}),i("input",{attrs:{type:"text",placeholder:"请输入手机号码"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPassword,expression:"!isPassword"}],staticClass:"form-group"},[i("label",{staticClass:"control-label"},[e._v("验证码")]),e._v(" "),i("div",{staticClass:"btn-group phone-code"},[i("div",{ref:"loginCaptcha",staticClass:"control-group"},[i("input",{attrs:{type:"text",placeholder:"请输入验证码"}})]),e._v(" "),i("span",{staticClass:"input-group-btn"},[i("button",{ref:"loginCaptchaBtn",staticClass:"btn btn-primary",staticStyle:{padding:"0 5px"}},[e._v("获取验证码")])])])]),e._v(" "),i("div",{staticClass:"form-group about-pwd clearfix"},[i("div",{staticClass:"keep-pwd"},[i("label",[i("input",{ref:"loginRember",attrs:{type:"checkbox",checked:""}}),e._v(" 下次自动登录")])]),e._v(" "),i("a",{directives:[{name:"show",rawName:"v-show",value:e.isPassword,expression:"isPassword"}],staticClass:"forget-pwd",attrs:{href:"/forgot-pwd"}},[e._v(" 忘记密码？")])]),e._v(" "),i("div",{staticClass:"form-group"},[i("div",{staticClass:"col-input-login"},[i("a",{staticClass:"btn btn-primary btn-block",attrs:{href:"javascript:void(0);"},on:{click:e.actionLogin}},[e._v("立即登录")])])]),e._v(" "),e.isPassword?e._e():i("div",{staticClass:"pop-login-tips"},[i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.actionLoginType("password")}}},[e._v("账号密码登录")])]),e._v(" "),e.isPassword?i("div",{staticClass:"pop-login-tips"},[i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.actionLoginType("sms")}}},[e._v("短信验证登录")])]):e._e(),e._v(" "),i("div",{staticClass:"pop-login-tips"},[e._v("还没有牛客网账号？ "),i("a",{staticClass:"link-green",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.actionMode("register")}}},[e._v("极速注册")])])]),e._v(" "),i("input",{staticClass:"nk-invisible",attrs:{type:"submit"}})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.isScan,expression:"!isScan"}],staticClass:"pop-login-wrapper"},[i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web1",attrs:{href:"javascript:void(0);","data-href":e.qqHref}}),e._v(" "),i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web2",attrs:{href:"javascript:void(0);","data-href":e.wxHref}}),e._v(" "),i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web3",attrs:{href:"javascript:void(0);","data-href":e.wbHref}}),e._v(" "),i("span",{staticClass:"pop-login-web pop-login-more"},[i("i",{staticClass:"icon-nc-more2"}),e._v(" "),i("div",{staticClass:"tooltip bottom tooltip-info"},[e._m(1),e._v(" "),i("div",{staticClass:"tooltip-inner"},[i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web4",attrs:{href:"javascript:void(0);","data-href":e.dbHref}}),e._v(" "),i("a",{staticClass:"nc-js-action-oauth pop-login-web pop-login-web5",attrs:{href:"javascript:void(0);","data-href":e.rrHref}})])])])])],1),e._v(" "),e.isRegister&&!e.isScan?i("p",{staticClass:"pop-reg-tips"},[e.openBigDay?[e._v("网站注册功能维护中，暂停注册，"+e._s(e.openBigDay)+"后开放")]:[e._v('点击"立即注册"按钮，或使用第三方网站账号登录，即表示你同意'),i("br"),i("a",{staticClass:"link-green",attrs:{href:"https://static.nowcoder.com/protocol/register.html",target:"_blank"}},[e._v("《注册协议》")]),e._v(" 和 "),i("a",{staticClass:"link-green",attrs:{href:"https://static.nowcoder.com/protocol/privacy-policy.html",target:"_blank"}},[e._v("《隐私政策》")])]],2):e._e()])])},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pop-reg-info"},[i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",{staticClass:"txt"},[t._v("1230+")]),i("span",{staticClass:"unit"},[t._v("套")])]),i("div",{staticClass:"cont"},[t._v("企业独家授权真题，在线做")])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",{staticClass:"txt"},[t._v("18500+")]),i("span",{staticClass:"unit"},[t._v("篇")])]),i("div",{staticClass:"cont"},[t._v("校招/社招/实习面经，免费看")])]),t._v(" "),i("div",{staticClass:"item"},[i("div",{staticClass:"title"},[i("span",{staticClass:"txt"},[t._v("1000+")])]),i("div",{staticClass:"cont"},[t._v("名企学长学姐在线，帮你内推")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tooltip-arrow"},[e("i")])}],!1,null,null,null);e["default"]=E.exports}],o.c=a,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=75))});