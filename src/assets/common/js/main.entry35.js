(self.webpackChunkreborn=self.webpackChunkreborn||[]).push([[1169],{64936:function(a,t,e){var i=e(21004);a.exports={url:{getSecondList:"/stack/second",markUsed:"/stack/#{id}/mark-used",markUnused:"/stack/#{id}/mark-unused",listCompany:"/stack/#{id}/list-company",listMaterial:"/stack/#{id}/list-material",listFellow:"/stack/#{id}/list-fellow",uploadMaterial:"/stack/#{id}/upload",deleteSelfMaterial:"/stack/#{id}/delete",addFixInfo:"/stack/#{id}/fix",companyValidationInfo:"/stack/#{id}/validate-company",validateCompany:"/stack/#{id}/validate-company",importStack:"/stack/import",addCompany:"/stack/#{id}/add-company",getCompanies:"/stack/get-companies",listStackCompany:"/stack-company",listStacks:"/list-stacks",addCompanyStacks:"/stack/company/#{companyId}/add-stack",getSecondDir:"/stack/second"}},i.add(a.exports,a.exports.url)},87927:function(a,t,e){"use strict";var i=e(34621),s=e.n(i),r=e(88842),n=e.n(r),c=e(69751),l=e.n(c),o=e(31359),d=e.n(o),p=e(18508),u=e.n(p),m=e(78821),f=e.n(m),v=e(73240),g=e.n(v),h=e(64936),k=e.n(h),C=e(93172),y=e(8604),w=e(6813),j=e(31471),x=e(71295),b=e(4504),S=e(9854),_=e(58358),E=e(13993),I=e(49370),T=e(1509);w.ready({initialize:function(){var a=this;a.initTopArrow(),a.initSearch(),a.initNavDir(),a.initNavTopStack(),a.initStackList(),a.initCompanyList(),a.initAdd()},initTopArrow:function(){var a=y(".js-stack-arrow"),t=a.closest(".classes-tab-wrap");a.on("click",(function(){var e=t.hasClass("open");t[e?"removeClass":"addClass"]("open"),a.attr("title",e?"展开":"收起"),a.removeClass(e?"classes-arrow-up":"classes-arrow-down").addClass(e?"classes-arrow-down":"classes-arrow-up")}))},initNavDir:function(){var a=j.id(window.pageInfo.topId);y(document).on("click",".js-stack-dir",(function(t){var e=y(t.currentTarget),i=s()(y).call(y,e.attr("data-dir-id"));i&&a&&(t.preventDefault(),window.location.href="/stacks/"+a+"/"+i)}))},initNavTopStack:function(){var a,t=y(".js-stack-top-list"),e=y(".js-stack-second-list"),i=n()(t).call(t,"li"),r={};function c(a,s){i.removeClass("selected"),n()(t).call(t,"a[data-id="+a+"]").closest("li").addClass("selected"),n()(e).call(e,"a").removeClass("classes-tab-selected"),n()(e).call(e,"a[data-top-id="+a+"][data-id="+s+"]").addClass("classes-tab-selected")}n()(t).call(t,"li a").on("click",(function(t){t.preventDefault();var i=y(t.currentTarget),n=s()(y).call(y,i.attr("data-id"))||"0";!function(t,e){if(a=t,r[t])return e&&e(r[t]);k().getSecondList({query:{top:t},call:function(i){var s=i.data;s.unshift({cnName:"不限",id:"0",parentId:t}),r[t]=s,a===t&&e&&e(s)},error:function(a){I.alert(a.msg)}})}(n,(function(a){!function(a){var t=l()(j).call(j,a,(function(a){return E.execTpl('<a href="/stacks/#{topId}/#{id}?page=1" class="classes-tab" data-top-id="#{topId}" data-id="#{id}">#{name}</a>',{topId:a.parentId,id:a.id,name:a.cnName})})).join("");e.html(t)}(a),b.fire("stackRefresh",n,"0");var t=y(".js-stack-arrow");t["0"===n?"show":"hide"](),t.closest("classes-tab-wrap")["0"===n?"removeClass":"addClass"]("open"),c(n,"0")}))})),e.on("click","a",(function(a){a.preventDefault();var t=y(a.currentTarget),e=s()(y).call(y,t.attr("data-top-id"))||"0",i=s()(y).call(y,t.attr("data-id"))||"0";b.fire("stackRefresh",e,i),c(e,i)}))},initSearch:function(){var a=y(".js-search-box");function t(a,t){a[t?"addClass":"removeClass"]("open")}function e(a,t){b.fire(a+"Search",t)}d()(j).call(j,a,(function(a){a=y(a);var i=n()(a).call(a,".js-search-input"),r=n()(a).call(a,".js-search-clear"),c=n()(a).call(a,".js-search"),l=s()(y).call(y,a.attr("data-type"));c.on("click",(function(){t(a,!0),i.focus()})),r.on("click",(function(){i.val(""),t(a,!1),e(l,"")})),i.on("keydown",(function(a){var t=s()(y).call(y,i.val());"13"===j.id(a.keyCode)&&e(l,t)}))}))},initStackList:function(){var a=this,t=y(".js-stack-list"),e={};function i(e,i){if(S.recycle(t,!1),0===(e.stacks||[]).length)return t.html(['<div class="empty-tip-mod">','<img src="//uploadfiles.nowcoder.com/images/20180908/56_1536380179904_5636B53012A907DE03D53F03C49483D1">','<p>未搜索到该技术，请更换关键词或<a href="javascript:void(0);" class="link-green nc-req-auth js-add-stack">点击添加技术</a></p>',"</div>"].join("")),void a.scrollToEl(t.closest(".module-box"));var s=_.execTpl(['<div class="tech-list">','<a v-for="item in items" class="tech-item" :href="\'/stack/\' + item.properties.stack.id" target="_blank">','<div v-if="item.properties.iHaveUsed" class="p-tag-done"></div>','<div class="tech-main">','<div class="tech-pic"><img :src="item.properties.stack.logo + \'?x-oss-process=image/resize,h_70,w_70\'" height="70" width="70"></div>','<div class="tech-txt">#{item.properties.stack.name}</div>',"</div>",'<div class="tech-tags">','<span class="tag-label js-stack-dir" :data-dir-id="item.properties.dir.id">#{item.properties.dir.cnName}</span>',"</div>",'<div class="tech-ft">','<span v-if="isGtCount(item.properties.stack.fanCount)">999+<br/>人</span>',"<span v-else>#{item.properties.stack.fanCount}<br/>人</span>",'<span v-if="isGtCount(item.properties.stack.commentCount)">999+<br/>评价</span>',"<span v-else>#{item.properties.stack.commentCount}<br/>评价</span>",'<span v-if="isGtCount(item.properties.commentCount)">999+<br/>公司使用</span>',"<span v-else>#{item.properties.stack.commentCount}<br/>公司使用</span>","</div>","</a>","</div>"].join(""),{items:e.stacks,isGtCount:function(a){return a>999}});t.html(s),a.scrollToEl(t.closest(".module-box")),r(e.totalPage,i)}function r(a,e){e=e||{},S.recycle(n()(t).call(t,".pagination")),new T({renderTo:t,total:a,current:e.page||1,pageChange:function(a){e.page=a,c(e)}})}function c(s){s.top=s.top||0,s.second=s.second||0,s.page=s.page||1;var r=a.getObjKey(s);if(e[r])return i(e[r],s);k().listStacks({query:{q:s.query,top:s.top,second:s.second,page:s.page},call:function(a){e[r]=a.data,i(a.data,s)},error:function(a){t.html('<div class="empty-tip-mod"><img src="//uploadfiles.nowcoder.com/images/20180908/56_1536380179904_5636B53012A907DE03D53F03C49483D1"><p>'+a.msg+"</p></div>")}})}b.listen("stackSearch",(function(a){c({query:a,top:"0",second:"0",page:1})})),b.listen("stackRefresh",(function(a,t){c({top:a,second:t,page:1})})),r(+s()(y).call(y,t.attr("data-total"))||0,{page:+s()(y).call(y,t.attr("data-current")),query:s()(y).call(y,t.attr("data-query")),top:s()(y).call(y,t.attr("data-top")),second:s()(y).call(y,t.attr("data-second"))})},initCompanyList:function(){var a=this,t=y(".js-company-list"),e={};function i(e,i){S.recycle(t,!1);var s=e.companies||[];if(0===s.length)return t.html(['<div class="empty-tip-mod">','<img src="//uploadfiles.nowcoder.com/images/20180908/56_1536380179904_5636B53012A907DE03D53F03C49483D1">',"<p>暂时不清楚这个公司使用的技术栈</p>","</div>"].join("")),void a.scrollToEl(t.closest(".module-box"));var n=_.execTpl(['<div v-for="item in items" class="tech-from-com-item">','<a :href="\'/stack/company/\' + item.properties.company.companyId" target="_blank">','<div class="tech-pic"><img :src="(item.properties.img || {}).imgUrl" /></div>','<div class="tech-from-com-main">','<div class="tech-from-com-name">#{item.properties.company.name}<i v-if="item.properties.hasCommunity" class="v-tag"></i></div>','<div class="tech-from-com-ft">','<span v-for="(stack, index) in item.properties.stacks" v-if="canShowStack(index)" class="tech-ico" :href="\'/stack/\' + (stack.stack || {}).id" target="_blank"><img :src="(stack.stack || {}).logo" /></span>','<span v-if="getExtCount(item.properties)" class="font-green">+#{getExtCount(item.properties)}</span>',"</div>","</div>","</a>","</div>"],{items:s,canShowStack:function(a){return a<4},getExtCount:function(a){return Math.max(0,(a.stacks||[]).length-4)}});t.html(n),a.scrollToEl(t.closest(".module-box")),r(e.totalPage,i)}function r(a,e){e=e||{},S.recycle(n()(t).call(t,".pagination")),new T({renderTo:t,total:a,current:e.page||1,pageChange:function(a){e.page=a,c(e)}})}function c(s){s.page=s.page||1;var r=a.getObjKey(s);if(e[r])return i(e[r],s);k().listStackCompany({query:{q:s.query,page:s.page},call:function(a){e[r]=a.data,i(a.data,s)},error:function(a){t.html('<div class="empty-tip-mod"><img src="//uploadfiles.nowcoder.com/images/20180908/56_1536380179904_5636B53012A907DE03D53F03C49483D1"><p>'+a.msg+"</p></div>")}})}r(+s()(y).call(y,t.attr("data-total"))||0),b.listen("companySearch",(function(a){c({query:a,page:1})}))},initAdd:function(){g().authClick(y(".js-add-stack"),(function(){window.location.href="/stack/import"}))},scrollToEl:function(a){x.scrollToEl({el:a,ext:-1*C.Z.getNavHeight()-10})},getObjKey:function(a){var t,e=u()(t=f()(j).call(j,a)).call(t,(function(a,t){return a>t}));return l()(j).call(j,e,(function(t){return t+"="+(a[t]||"")})).join("|")}})},73240:function(a,t,e){var i=e(31471),s=e(70570),r=e(93292),n=e(56714),c=e(14428),l=a.exports=s.create();i.extend(l,{authClick:function(a,t){if(!a||0===a.length)return;n.click({needLogin:!0,el:a,call:function(){var a=r.getUser().ownerPhone;a&&t&&t(),!a&&c.show({ok:t})}})}})},1509:function(a,t,e){var i=e(88842),s=e(34621),r=e(8604),n=e(31471),c=e(9854),l=e(70570),o=e(64645),d=a.exports=l.create();l.mix(d,c,{_template:'<div class="pagination"><ul></ul></div>',listeners:[{name:"render",type:"custom",handler:function(){var a=this,t=a.getEl();a.pageEl=i(t).call(t,"ul"),a.renderPage()}},{name:"click ul a",handler:function(a){var t=+r(a.currentTarget).attr("data-page");t&&this.jump2page(t)}}]},{initialize:function(a){var t=this;t.current=+a.current||1,t.total=+a.total||1,t.interval=+a.interval||8},jump2page:function(a,t){var e=this,i=e.rawConfig,s=e.total;if((a=(a=+a||1)>=s?s:a<=1?1:a)===e.current)return;if(!t){if(!0===(i.pageChange&&i.pageChange(a)))return}e.current=a,e.renderPage()},refresh:function(a,t,e){var i=this;a=n.id(a)?a:i.current,t=n.id(t)?t:i.total,e=n.id(e)?e:i.interval,(a!==i.current||t!==i.total||e!==i.interval)&&(i.current=a,i.total=t,i.interval=e,i.renderPage())},renderPage:function(){var a=this.rawConfig;this[a.noExt?"renderSimple":"renderFull"]()},renderSimple:function(){var a=this,t=a.getEl(),e=a.pageEl,s=a.total;if(s<=1)return t.hide(),void e.html("");var r=a.getPageInfo(a.current,s,a.interval),n=r.current,c=(r.pre,r.next,r.first),l=r.last,o="";c>1&&(o+=a._getSimpleItem(1),3===c&&(o+=a._getSimpleItem(2)),3<c&&(o+='<li><a href="javascript:void(0);">...</a></li>'));for(var d=c;d<=l;d++)o+=a._getSimpleItem(d);l!==s&&(l+2===s&&(o+=a._getSimpleItem(l+1)),l+2<s&&(o+='<li><a href="javascript:void(0);">...</a></li>'),o+=a._getSimpleItem(s));e.html(o),i(e).call(e,"li.active").removeClass("active"),i(e).call(e,"li.js-pager-"+n).addClass("active"),t.show()},renderFull:function(){var a=this,t=a.getEl(),e=a.pageEl,s=a.total;if(s<=1)return t.hide(),void e.html("");var r=a.getPageInfo(a.current,s,a.interval),n=r.current,c=r.pre,l=r.next,o=r.first,d=r.last,p='<li class="txt-pager js-pager-first"><a data-page="1" href="'+a.pageUrl(1)+'">首页</a></li>';p+='<li class="txt-pager js-pager-pre"><a data-page="'+c+'" href="'+a.pageUrl(c)+'">上一页</a></li>';for(var u=o;u<=d;u++)p+='<li class="js-pager-'+u+'"><a href="'+a.pageUrl(u)+'" data-page="'+u+'">'+u+"</a></li>";p+='<li class="txt-pager js-pager-next"><a data-page="'+l+'" href="'+a.pageUrl(l)+'">下一页</a></li>',p+='<li class="txt-pager js-pager-last"><a data-page="'+s+'" href="'+a.pageUrl(s)+'">末页</a></li>',e.html(p),i(e).call(e,"li.active").removeClass("active"),i(e).call(e,"li.js-pager-"+n).addClass("active"),i(e).call(e,".js-pager-first")[n<=1?"addClass":"removeClass"]("disabled"),i(e).call(e,".js-pager-pre")[n<=1?"addClass":"removeClass"]("disabled"),i(e).call(e,".js-pager-next")[n>=s?"addClass":"removeClass"]("disabled"),i(e).call(e,".js-pager-last")[n>=s?"addClass":"removeClass"]("disabled"),t.show()},pageUrl:function(a){var t=this.rawConfig,e=s(r).call(r,t.url),i=s(r).call(r,t.key);if(!e||!i)return"javascript:void(0);";var n={};return n[i]=a,o.addParam(n,e)},getPageInfo:function(a,t,e){a=a>=t?t:a<=1?1:a;var i,s=Math.max(a-1,1),r=Math.min(a+1,t),n=a<=e/2?1:a-Math.floor(e/2);n+e-1>t?(i=t,n=t>e?t-e+1:1):i=n+e-1;return{current:a,pre:s,next:r,first:n,last:i}},_getSimpleItem:function(a){return'<li class="js-pager-'+a+'"><a href="'+this.pageUrl(a)+'" data-page="'+a+'">'+a+"</a></li>"}})},75474:function(){},43057:function(a){"use strict";a.exports=vendor_library}},function(a){var t=function(t){return a(a.s=t)};a.O(0,[1026],(function(){return t(40170),t(7332),t(46265),t(75474),t(87927)}));a.O()}]);